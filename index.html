<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FitnessPro - –ü–æ–ª–Ω–∞—è —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è —Ç–µ–ª–∞</title>
    <link rel="manifest" href="manifest.json">
    <style>
        :root {
            /* –°–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è —Ç–µ–º–Ω–∞—è –ø–∞–ª–∏—Ç—Ä–∞ */
            --bg-primary: #0a0a0a;
            --bg-secondary: #1a1a1a;
            --bg-elevated: #2a2a2a;
            --bg-card: #1e1e1e;
            --bg-input: #2a2a2a;
            --bg-glass: rgba(30, 30, 30, 0.8);
            
            /* –¢–µ–∫—Å—Ç —Å —É–ª—É—á—à–µ–Ω–Ω–æ–π –∫–æ–Ω—Ç—Ä–∞—Å—Ç–Ω–æ—Å—Ç—å—é */
            --text-primary: #ffffff;
            --text-secondary: #a3a3a3;
            --text-muted: #737373;
            --text-accent: #f3f4f6;
            
            /* –Ø—Ä–∫–∏–µ –∞–∫—Ü–µ–Ω—Ç—ã */
            --accent-primary: #6366f1;
            --accent-secondary: #10b981;
            --accent-warning: #f59e0b;
            --accent-danger: #ef4444;
            --accent-purple: #8b5cf6;
            --accent-pink: #ec4899;
            --accent-blue: #3b82f6;
            
            /* –ì—Ä–∞–¥–∏–µ–Ω—Ç—ã */
            --gradient-primary: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
            --gradient-secondary: linear-gradient(135deg, #10b981 0%, #059669 100%);
            --gradient-card: linear-gradient(145deg, #1e1e1e 0%, #2a2a2a 100%);
            --gradient-glass: linear-gradient(145deg, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0.05) 100%);
            
            /* –¢–µ–Ω–∏ */
            --shadow-sm: 0 2px 8px rgba(0, 0, 0, 0.3);
            --shadow-md: 0 4px 16px rgba(0, 0, 0, 0.4);
            --shadow-lg: 0 8px 32px rgba(0, 0, 0, 0.5);
            --shadow-glow: 0 0 20px rgba(99, 102, 241, 0.3);
            
            /* –ü—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ */
            --space-xs: 4px;
            --space-sm: 8px;
            --space-md: 16px;
            --space-lg: 24px;
            --space-xl: 32px;
            
            /* –†–∞–¥–∏—É—Å—ã */
            --radius-sm: 6px;
            --radius-md: 12px;
            --radius-lg: 16px;
            --radius-xl: 24px;
            --radius-full: 50%;
            
            /* –ê–Ω–∏–º–∞—Ü–∏–∏ */
            --transition-fast: 0.15s ease;
            --transition-normal: 0.3s ease;
            --transition-slow: 0.5s ease;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Inter', Roboto, sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            line-height: 1.6;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            overflow-x: hidden;
        }

        /* –°—Ç–µ–∫–ª—è–Ω–Ω—ã–π —ç—Ñ—Ñ–µ–∫—Ç */
        .glass {
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            background: var(--bg-glass);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        /* –ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ñ–æ–Ω */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(circle at 20% 80%, rgba(99, 102, 241, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(16, 185, 129, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 40% 40%, rgba(139, 92, 246, 0.05) 0%, transparent 50%);
            z-index: -1;
            animation: backgroundShift 20s ease-in-out infinite;
        }

        @keyframes backgroundShift {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }

        .container {
            max-width: 480px;
            margin: 0 auto;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            position: relative;
        }

        .header {
            padding: var(--space-xl) var(--space-lg);
            background: var(--gradient-primary);
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: var(--gradient-glass);
            backdrop-filter: blur(10px);
            z-index: 1;
        }

        .header > * {
            position: relative;
            z-index: 2;
        }

        .header h1 {
            font-size: 28px;
            font-weight: 800;
            margin-bottom: var(--space-sm);
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
            letter-spacing: -0.5px;
        }

        .header p {
            font-weight: 500;
            opacity: 0.9;
            text-shadow: 0 1px 5px rgba(0, 0, 0, 0.3);
        }

        .main {
            flex: 1;
            padding: var(--space-lg) var(--space-md);
            padding-bottom: 100px;
        }

        .day-selector {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: var(--space-sm);
            margin-bottom: var(--space-xl);
        }

        .day-card {
            background: var(--gradient-card);
            border-radius: var(--radius-lg);
            padding: var(--space-md);
            text-align: center;
            cursor: pointer;
            transition: all var(--transition-normal);
            border: 2px solid transparent;
            position: relative;
            overflow: hidden;
            box-shadow: var(--shadow-sm);
        }

        .day-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: var(--gradient-glass);
            opacity: 0;
            transition: all var(--transition-normal);
        }

        .day-card:hover {
            transform: translateY(-4px);
            box-shadow: var(--shadow-md);
            border-color: var(--accent-primary);
        }

        .day-card:hover::before {
            opacity: 1;
        }

        .day-card.active {
            border-color: var(--accent-primary);
            background: var(--gradient-primary);
            box-shadow: var(--shadow-glow);
            transform: translateY(-2px);
        }

        .day-card.completed {
            background: var(--gradient-secondary);
            border-color: var(--accent-secondary);
            box-shadow: 0 0 15px rgba(16, 185, 129, 0.3);
        }

        .day-card.rest {
            background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
            box-shadow: 0 0 15px rgba(245, 158, 11, 0.2);
        }

        .day-number {
            font-size: 20px;
            font-weight: 800;
            margin-bottom: var(--space-xs);
            position: relative;
            z-index: 2;
        }

        .day-name {
            font-size: 11px;
            color: var(--text-secondary);
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            position: relative;
            z-index: 2;
        }

        .day-card.active .day-name,
        .day-card.completed .day-name,
        .day-card.rest .day-name {
            color: rgba(255, 255, 255, 0.9);
        }

        .exercise-card {
            background: var(--gradient-card);
            border-radius: var(--radius-lg);
            padding: var(--space-lg);
            margin-bottom: var(--space-lg);
            border-left: 4px solid var(--accent-primary);
            box-shadow: var(--shadow-sm);
            transition: all var(--transition-normal);
            position: relative;
            overflow: hidden;
        }

        .exercise-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: var(--gradient-glass);
            opacity: 0;
            transition: all var(--transition-normal);
            pointer-events: none;
        }

        .exercise-card:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-md);
        }

        .exercise-card:hover::before {
            opacity: 1;
        }

        .exercise-gif {
            width: 100%;
            max-width: 200px;
            height: 150px;
            object-fit: cover;
            border-radius: var(--radius-md);
            margin-bottom: var(--space-md);
            background: var(--gradient-card);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--text-secondary);
            font-size: 12px;
            text-align: center;
            border: 2px solid rgba(255, 255, 255, 0.1);
            transition: all var(--transition-normal);
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }

        .exercise-gif::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: var(--gradient-primary);
            opacity: 0;
            transition: all var(--transition-normal);
        }

        .exercise-gif:hover {
            border-color: var(--accent-primary);
            box-shadow: var(--shadow-glow);
            transform: scale(1.02);
        }

        .exercise-gif:hover::before {
            opacity: 0.1;
        }

        .muscle-group {
            display: inline-block;
            background: var(--gradient-secondary);
            color: white;
            padding: 6px 12px;
            border-radius: var(--radius-full);
            font-size: 10px;
            font-weight: 700;
            margin-right: var(--space-sm);
            margin-bottom: var(--space-sm);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            box-shadow: var(--shadow-sm);
            transition: all var(--transition-fast);
        }

        .muscle-group:hover {
            transform: translateY(-1px);
            box-shadow: var(--shadow-md);
        }

        .workout-duration {
            background: var(--gradient-card);
            padding: var(--space-lg);
            border-radius: var(--radius-lg);
            margin-bottom: var(--space-xl);
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: var(--shadow-sm);
        }

        .duration-timer {
            font-size: 28px;
            font-weight: 800;
            color: var(--accent-primary);
            text-shadow: 0 2px 10px rgba(99, 102, 241, 0.3);
            margin-bottom: var(--space-xs);
        }

        .exercise-difficulty {
            display: flex;
            align-items: center;
            gap: 2px;
            margin-bottom: var(--space-sm);
        }

        .difficulty-star {
            color: var(--accent-warning);
            font-size: 14px;
            text-shadow: 0 1px 3px rgba(245, 158, 11, 0.3);
        }

        .exercise-card {
            background: var(--bg-card);
            border-radius: var(--radius-lg);
            padding: var(--space-lg);
            margin-bottom: var(--space-md);
        }

        .exercise-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: var(--space-md);
        }

        .exercise-name {
            font-size: 20px;
            font-weight: 700;
            color: var(--text-accent);
            line-height: 1.3;
        }

        .exercise-target {
            color: var(--text-secondary);
            font-size: 14px;
            margin-bottom: var(--space-sm);
        }

        .exercise-stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: var(--space-md);
            margin-bottom: var(--space-lg);
        }

        .stat {
            text-align: center;
            background: rgba(255, 255, 255, 0.05);
            padding: var(--space-md);
            border-radius: var(--radius-md);
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: all var(--transition-normal);
        }

        .stat:hover {
            background: rgba(255, 255, 255, 0.08);
            transform: translateY(-1px);
        }

        .stat-value {
            font-size: 22px;
            font-weight: 800;
            color: var(--accent-primary);
            margin-bottom: var(--space-xs);
            text-shadow: 0 1px 5px rgba(99, 102, 241, 0.3);
        }

        .stat-label {
            font-size: 11px;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            font-weight: 600;
        }

        .exercise-actions {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: var(--space-sm);
        }

        .btn {
            padding: var(--space-md) var(--space-lg);
            border: none;
            border-radius: var(--radius-md);
            font-weight: 600;
            font-size: 14px;
            cursor: pointer;
            transition: all var(--transition-normal);
            text-align: center;
            position: relative;
            overflow: hidden;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: all var(--transition-slow);
        }

        .btn:hover::before {
            left: 100%;
        }

        .btn-primary {
            background: var(--gradient-primary);
            color: white;
            box-shadow: var(--shadow-sm);
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-glow);
        }

        .btn-secondary {
            background: var(--gradient-card);
            color: var(--text-primary);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .btn-secondary:hover {
            background: var(--bg-elevated);
            transform: translateY(-1px);
            box-shadow: var(--shadow-md);
        }

        .navigation {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: var(--bg-glass);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            padding: var(--space-md);
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: var(--space-sm);
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 -4px 32px rgba(0, 0, 0, 0.3);
        }

        .nav-item {
            background: none;
            border: none;
            color: var(--text-muted);
            font-size: 11px;
            cursor: pointer;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: var(--space-xs);
            padding: var(--space-sm);
            border-radius: var(--radius-md);
            transition: all var(--transition-normal);
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            position: relative;
            overflow: hidden;
        }

        .nav-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: var(--gradient-primary);
            opacity: 0;
            transition: all var(--transition-normal);
            border-radius: var(--radius-md);
        }

        .nav-item:hover {
            color: var(--text-primary);
            transform: translateY(-2px);
        }

        .nav-item:hover::before {
            opacity: 0.1;
        }

        .nav-item.active {
            color: var(--accent-primary);
            background: rgba(99, 102, 241, 0.1);
            box-shadow: 0 0 20px rgba(99, 102, 241, 0.2);
            transform: translateY(-1px);
        }

        .nav-item.active::before {
            opacity: 0.2;
        }

        .nav-icon {
            width: 24px;
            height: 24px;
            transition: all var(--transition-normal);
            position: relative;
            z-index: 2;
        }

        .nav-item:hover .nav-icon {
            transform: scale(1.1);
        }

        .nav-item.active .nav-icon {
            transform: scale(1.05);
            filter: drop-shadow(0 2px 8px rgba(99, 102, 241, 0.4));
        }

        .modal {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            animation: modalFadeIn var(--transition-normal) ease;
        }

        @keyframes modalFadeIn {
            from {
                opacity: 0;
                backdrop-filter: blur(0px);
            }
            to {
                opacity: 1;
                backdrop-filter: blur(10px);
            }
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: var(--gradient-card);
            border-radius: var(--radius-xl);
            padding: var(--space-xl);
            max-width: 90vw;
            max-height: 80vh;
            overflow-y: auto;
            position: relative;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: var(--shadow-lg);
            animation: modalSlideIn var(--transition-normal) ease;
        }

        @keyframes modalSlideIn {
            from {
                transform: translateY(50px) scale(0.9);
                opacity: 0;
            }
            to {
                transform: translateY(0) scale(1);
                opacity: 1;
            }
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--space-xl);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            padding-bottom: var(--space-lg);
        }

        .modal-title {
            font-size: 24px;
            font-weight: 800;
            color: var(--text-accent);
            text-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
        }

        .close-btn {
            background: rgba(255, 255, 255, 0.1);
            border: none;
            color: var(--text-secondary);
            font-size: 24px;
            cursor: pointer;
            width: 40px;
            height: 40px;
            border-radius: var(--radius-full);
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all var(--transition-normal);
        }

        .close-btn:hover {
            background: rgba(255, 255, 255, 0.2);
            color: var(--text-primary);
            transform: scale(1.1);
        }

        .timer-display {
            text-align: center;
            font-size: 36px;
            font-weight: 800;
            color: var(--accent-primary);
            margin: var(--space-xl) 0;
            text-shadow: 0 2px 10px rgba(99, 102, 241, 0.4);
            transition: all var(--transition-normal);
        }

        .timer-display.running {
            color: var(--accent-secondary);
            text-shadow: 0 2px 10px rgba(16, 185, 129, 0.4);
            animation: pulse 2s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .hidden {
            display: none !important;
        }

        .rest-day {
            text-align: center;
            padding: var(--space-lg);
        }

        .rest-icon {
            font-size: 48px;
            margin-bottom: var(--space-md);
        }

        .rest-title {
            font-size: 24px;
            margin-bottom: var(--space-md);
        }

        .hidden {
            display: none !important;
        }

        .rest-day {
            text-align: center;
            padding: var(--space-xl);
            background: var(--gradient-card);
            border-radius: var(--radius-xl);
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: var(--shadow-lg);
        }

        .rest-icon {
            font-size: 64px;
            margin-bottom: var(--space-lg);
            animation: float 3s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }

        .rest-title {
            font-size: 28px;
            font-weight: 800;
            margin-bottom: var(--space-lg);
            color: var(--text-accent);
        }

        .rest-description {
            color: var(--text-secondary);
            line-height: 1.6;
            font-size: 16px;
        }

        .workout-header {
            margin-bottom: var(--space-xl);
        }

        .exercise-gif:hover {
            background: var(--bg-primary);
            cursor: pointer;
            transform: scale(1.02);
            transition: all var(--transition-normal);
        }

        .difficulty-star.filled {
            color: var(--accent-warning);
        }

        .difficulty-star.empty {
            color: var(--text-muted);
        }

        /* –£–ª—É—á—à–µ–Ω–Ω–∞—è –∞–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å */
        @media (max-width: 480px) {
            .container {
                max-width: 100%;
            }
            
            .header {
                padding: var(--space-lg) var(--space-md);
            }
            
            .header h1 {
                font-size: 24px;
            }
            
            .main {
                padding: var(--space-md);
            }
            
            .day-selector {
                gap: 6px;
            }
            
            .day-card {
                padding: var(--space-sm);
            }
            
            .day-number {
                font-size: 16px;
            }
            
            .day-name {
                font-size: 10px;
            }
            
            .exercise-stats {
                grid-template-columns: repeat(2, 1fr);
                gap: var(--space-sm);
            }
            
            .exercise-actions {
                grid-template-columns: 1fr;
                gap: var(--space-sm);
            }
            
            .exercise-gif {
                max-width: 150px;
                height: 120px;
            }
            
            .modal-content {
                padding: var(--space-lg);
                margin: var(--space-md);
            }
            
            .navigation {
                padding: var(--space-sm);
            }
            
            .nav-item {
                padding: var(--space-xs);
                font-size: 10px;
            }
            
            .nav-icon {
                width: 20px;
                height: 20px;
            }
        }

        /* –ü–ª–∞–≤–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã –¥–ª—è –≤—Å–µ—Ö –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ */
        * {
            transition: opacity var(--transition-fast), transform var(--transition-fast);
        }

        /* –£–ª—É—á—à–µ–Ω–Ω—ã–µ —Å–∫—Ä–æ–ª–ª–±–∞—Ä—ã */
        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: var(--bg-secondary);
            border-radius: var(--radius-sm);
        }

        ::-webkit-scrollbar-thumb {
            background: var(--gradient-primary);
            border-radius: var(--radius-sm);
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--accent-purple);
        }

        /* –ê–Ω–∏–º–∞—Ü–∏–∏ –∑–∞–≥—Ä—É–∑–∫–∏ */
        .fade-in {
            animation: fadeIn 0.5s ease-in-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body>
    <div class="container">
        <header class="header">
            <h1>üí™ FitnessPro</h1>
            <p>–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–∞—è —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è —Ç–µ–ª–∞</p>
            <p style="font-size: 12px; color: var(--text-secondary);">7-–¥–Ω–µ–≤–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞ ‚Ä¢ 2 —á–∞—Å–∞ –≤ –¥–µ–Ω—å ‚Ä¢ –í—Å–µ –≥—Ä—É–ø–ø—ã –º—ã—à—Ü</p>
        </header>

        <main class="main">
            <!-- Day Selector -->
            <div class="day-selector" id="daySelector">
                <!-- Generated by JS -->
            </div>

            <!-- Workout Content -->
            <div id="workoutContent">
                <!-- Generated by JS -->
            </div>
        </main>

        <!-- Navigation -->
        <nav class="navigation">
            <button class="nav-item active" onclick="showWorkout()">
                <svg class="nav-icon" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M12 2L2 7v10c0 5.55 3.84 10 9 10s9-4.45 9-10V7l-10-5z"/>
                </svg>
                –¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞
            </button>
            <button class="nav-item" onclick="showStats()">
                <svg class="nav-icon" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M3 3v18h18v-2H5V3H3zm14 12h2v4h-2v-4zm-4-4h2v8h-2v-8zm-4-4h2v12H9V7z"/>
                </svg>
                –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
            </button>
            <button class="nav-item" onclick="showNutrition()">
                <svg class="nav-icon" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                </svg>
                –ü–∏—Ç–∞–Ω–∏–µ
            </button>
            <button class="nav-item" onclick="showSettings()">
                <svg class="nav-icon" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"/>
                </svg>
                –ù–∞—Å—Ç—Ä–æ–π–∫–∏
            </button>
        </nav>
    </div>

    <!-- Modal -->
    <div class="modal" id="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title" id="modalTitle">–ó–∞–≥–æ–ª–æ–≤–æ–∫</h2>
                <button class="close-btn" onclick="closeModal()">&times;</button>
            </div>
            <div id="modalContent">
                <!-- Content will be populated by JavaScript -->
            </div>
        </div>
    </div>

    <script>
        // === –ì–õ–û–ë–ê–õ–¨–ù–´–ï –ü–ï–†–ï–ú–ï–ù–ù–´–ï ===
        let currentDay = 1;
        let currentExercise = 0;
        let timerInterval = null;
        let timerSeconds = 0;

        // –î–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        let userData = {
            completedDays: [],
            completedExercises: {},
            streak: 0,
            totalWorkouts: 0,
            // –ù–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∏–∏
            exerciseProgress: {}, // {exerciseName: {date: {weight: X, reps: Y, sets: Z}}}
            personalRecords: {}, // {exerciseName: {maxWeight: X, maxReps: Y, maxVolume: Z}}
            bodyMeasurements: {}, // {date: {weight: X, muscle: Y, fat: Z}}
            workoutHistory: [], // [{date: Date, day: X, duration: Y, calories: Z}]
            goals: {
                targetWeight: null,
                targetBodyFat: null,
                weeklyWorkouts: 7,
                preferredIntensity: 'medium' // low, medium, high, extreme
            }
        };

        // –ü—Ä–æ–≥—Ä–∞–º–º—ã —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫ - –ü–æ–ª–Ω–∞—è —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è —Ç–µ–ª–∞ (2 —á–∞—Å–∞ –∫–∞–∂–¥–∞—è)
        const workoutPrograms = {
            1: {
                title: "–ì–†–£–î–¨ + –¢–†–ò–¶–ï–ü–° + –ü–õ–ï–ß–ò",
                duration: "~120 –º–∏–Ω—É—Ç",
                targetMuscles: ["–ì—Ä—É–¥—å", "–¢—Ä–∏—Ü–µ–ø—Å", "–ü–µ—Ä–µ–¥–Ω–∏–µ –¥–µ–ª—å—Ç—ã"],
                exercises: [
                    // –†–ê–ó–ú–ò–ù–ö–ê (10 –º–∏–Ω)
                    { name: "–†–∞–∑–º–∏–Ω–∫–∞ —Å—É—Å—Ç–∞–≤–æ–≤", category: "–†–∞–∑–º–∏–Ω–∫–∞", sets: 1, reps: "5 –º–∏–Ω", rest: 0, difficulty: 1, gif: "warmup-joints.gif", muscles: ["–í—Å–µ —Ç–µ–ª–æ"] },
                    { name: "–ö–∞—Ä–¥–∏–æ —Ä–∞–∑–æ–≥—Ä–µ–≤", category: "–†–∞–∑–º–∏–Ω–∫–∞", sets: 1, reps: "5 –º–∏–Ω", rest: 60, difficulty: 1, gif: "cardio-warmup.gif", muscles: ["–°–µ—Ä–¥—Ü–µ"] },
                    
                    // –ì–†–£–î–¨ (45 –º–∏–Ω)
                    { name: "–ñ–∏–º —à—Ç–∞–Ω–≥–∏ –ª–µ–∂–∞", category: "–ì—Ä—É–¥—å", sets: 4, reps: "8-12", rest: 180, difficulty: 4, gif: "bench-press.gif", muscles: ["–ì—Ä—É–¥—å", "–¢—Ä–∏—Ü–µ–ø—Å", "–ü–ª–µ—á–∏"] },
                    { name: "–ñ–∏–º –≥–∞–Ω—Ç–µ–ª–µ–π –ø–æ–¥ —É–≥–ª–æ–º", category: "–ì—Ä—É–¥—å", sets: 4, reps: "10-12", rest: 150, difficulty: 3, gif: "incline-db-press.gif", muscles: ["–í–µ—Ä—Ö –≥—Ä—É–¥–∏", "–ü–ª–µ—á–∏"] },
                    { name: "–û—Ç–∂–∏–º–∞–Ω–∏—è –Ω–∞ –±—Ä—É—Å—å—è—Ö", category: "–ì—Ä—É–¥—å", sets: 3, reps: "8-15", rest: 120, difficulty: 4, gif: "dips.gif", muscles: ["–ù–∏–∑ –≥—Ä—É–¥–∏", "–¢—Ä–∏—Ü–µ–ø—Å"] },
                    { name: "–†–∞–∑–≤–æ–¥–∫–∞ –≥–∞–Ω—Ç–µ–ª–µ–π", category: "–ì—Ä—É–¥—å", sets: 3, reps: "12-15", rest: 90, difficulty: 2, gif: "db-flyes.gif", muscles: ["–ì—Ä—É–¥—å"] },
                    { name: "–ö—Ä–æ—Å—Å–æ–≤–µ—Ä –Ω–∞ –±–ª–æ–∫–∞—Ö", category: "–ì—Ä—É–¥—å", sets: 3, reps: "12-15", rest: 90, difficulty: 2, gif: "cable-crossover.gif", muscles: ["–ì—Ä—É–¥—å"] },
                    
                    // –¢–†–ò–¶–ï–ü–° (35 –º–∏–Ω)
                    { name: "–ñ–∏–º —É–∑–∫–∏–º —Ö–≤–∞—Ç–æ–º", category: "–¢—Ä–∏—Ü–µ–ø—Å", sets: 4, reps: "8-12", rest: 150, difficulty: 4, gif: "close-grip-press.gif", muscles: ["–¢—Ä–∏—Ü–µ–ø—Å", "–ì—Ä—É–¥—å"] },
                    { name: "–§—Ä–∞–Ω—Ü—É–∑—Å–∫–∏–π –∂–∏–º", category: "–¢—Ä–∏—Ü–µ–ø—Å", sets: 4, reps: "10-12", rest: 120, difficulty: 3, gif: "skull-crushers.gif", muscles: ["–¢—Ä–∏—Ü–µ–ø—Å"] },
                    { name: "–†–∞–∑–≥–∏–±–∞–Ω–∏—è –Ω–∞ –±–ª–æ–∫–µ", category: "–¢—Ä–∏—Ü–µ–ø—Å", sets: 3, reps: "12-15", rest: 90, difficulty: 2, gif: "tricep-pushdowns.gif", muscles: ["–¢—Ä–∏—Ü–µ–ø—Å"] },
                    { name: "–û—Ç–∂–∏–º–∞–Ω–∏—è —É–∑–∫–∏–º —Ö–≤–∞—Ç–æ–º", category: "–¢—Ä–∏—Ü–µ–ø—Å", sets: 3, reps: "–¥–æ –æ—Ç–∫–∞–∑–∞", rest: 90, difficulty: 3, gif: "diamond-pushups.gif", muscles: ["–¢—Ä–∏—Ü–µ–ø—Å"] },
                    
                    // –ü–õ–ï–ß–ò (25 –º–∏–Ω)
                    { name: "–ñ–∏–º –≥–∞–Ω—Ç–µ–ª–µ–π —Å–∏–¥—è", category: "–ü–ª–µ—á–∏", sets: 4, reps: "10-12", rest: 120, difficulty: 3, gif: "seated-db-press.gif", muscles: ["–ü–ª–µ—á–∏"] },
                    { name: "–ú–∞—Ö–∏ –≤ —Å—Ç–æ—Ä–æ–Ω—ã", category: "–ü–ª–µ—á–∏", sets: 3, reps: "12-15", rest: 90, difficulty: 2, gif: "lateral-raises.gif", muscles: ["–°—Ä–µ–¥–Ω–∏–µ –¥–µ–ª—å—Ç—ã"] },
                    { name: "–ú–∞—Ö–∏ –≤ –Ω–∞–∫–ª–æ–Ω–µ", category: "–ü–ª–µ—á–∏", sets: 3, reps: "12-15", rest: 90, difficulty: 2, gif: "rear-delt-flyes.gif", muscles: ["–ó–∞–¥–Ω–∏–µ –¥–µ–ª—å—Ç—ã"] },
                    
                    // –ó–ê–ú–ò–ù–ö–ê (5 –º–∏–Ω)
                    { name: "–†–∞—Å—Ç—è–∂–∫–∞ –≤–µ—Ä—Ö–∞ —Ç–µ–ª–∞", category: "–ó–∞–º–∏–Ω–∫–∞", sets: 1, reps: "5 –º–∏–Ω", rest: 0, difficulty: 1, gif: "upper-stretch.gif", muscles: ["–í—Å–µ —Ç–µ–ª–æ"] }
                ]
            },
            2: {
                title: "–°–ü–ò–ù–ê + –ë–ò–¶–ï–ü–° + –ü–†–ï–î–ü–õ–ï–ß–¨–Ø",
                duration: "~120 –º–∏–Ω—É—Ç", 
                targetMuscles: ["–°–ø–∏–Ω–∞", "–ë–∏—Ü–µ–ø—Å", "–ü—Ä–µ–¥–ø–ª–µ—á—å—è"],
                exercises: [
                    // –†–ê–ó–ú–ò–ù–ö–ê (10 –º–∏–Ω)
                    { name: "–†–∞–∑–º–∏–Ω–∫–∞ —Å—É—Å—Ç–∞–≤–æ–≤", category: "–†–∞–∑–º–∏–Ω–∫–∞", sets: 1, reps: "5 –º–∏–Ω", rest: 0, difficulty: 1, gif: "warmup-joints.gif", muscles: ["–í—Å–µ —Ç–µ–ª–æ"] },
                    { name: "–ö–∞—Ä–¥–∏–æ —Ä–∞–∑–æ–≥—Ä–µ–≤", category: "–†–∞–∑–º–∏–Ω–∫–∞", sets: 1, reps: "5 –º–∏–Ω", rest: 60, difficulty: 1, gif: "cardio-warmup.gif", muscles: ["–°–µ—Ä–¥—Ü–µ"] },
                    
                    // –°–ü–ò–ù–ê (50 –º–∏–Ω)
                    { name: "–°—Ç–∞–Ω–æ–≤–∞—è —Ç—è–≥–∞", category: "–°–ø–∏–Ω–∞", sets: 4, reps: "6-8", rest: 240, difficulty: 5, gif: "deadlift.gif", muscles: ["–°–ø–∏–Ω–∞", "–ù–æ–≥–∏", "–¢—Ä–∞–ø–µ—Ü–∏–∏"] },
                    { name: "–ü–æ–¥—Ç—è–≥–∏–≤–∞–Ω–∏—è", category: "–°–ø–∏–Ω–∞", sets: 4, reps: "6-12", rest: 180, difficulty: 4, gif: "pull-ups.gif", muscles: ["–®–∏—Ä–æ—á–∞–π—à–∏–µ", "–ë–∏—Ü–µ–ø—Å"] },
                    { name: "–¢—è–≥–∞ —à—Ç–∞–Ω–≥–∏ –≤ –Ω–∞–∫–ª–æ–Ω–µ", category: "–°–ø–∏–Ω–∞", sets: 4, reps: "8-12", rest: 150, difficulty: 4, gif: "barbell-rows.gif", muscles: ["–®–∏—Ä–æ—á–∞–π—à–∏–µ", "–†–æ–º–±–æ–≤–∏–¥–Ω—ã–µ"] },
                    { name: "–¢—è–≥–∞ –≥–∞–Ω—Ç–µ–ª–∏ –æ–¥–Ω–æ–π —Ä—É–∫–æ–π", category: "–°–ø–∏–Ω–∞", sets: 3, reps: "10-12", rest: 120, difficulty: 3, gif: "one-arm-row.gif", muscles: ["–®–∏—Ä–æ—á–∞–π—à–∏–µ"] },
                    { name: "–¢—è–≥–∞ –∫ –ø–æ—è—Å—É —Å–∏–¥—è", category: "–°–ø–∏–Ω–∞", sets: 3, reps: "12-15", rest: 90, difficulty: 2, gif: "seated-cable-row.gif", muscles: ["–®–∏—Ä–æ—á–∞–π—à–∏–µ", "–†–æ–º–±–æ–≤–∏–¥–Ω—ã–µ"] },
                    { name: "–®—Ä–∞–≥–∏ —Å –≥–∞–Ω—Ç–µ–ª—è–º–∏", category: "–°–ø–∏–Ω–∞", sets: 3, reps: "12-15", rest: 90, difficulty: 2, gif: "db-shrugs.gif", muscles: ["–¢—Ä–∞–ø–µ—Ü–∏–∏"] },
                    
                    // –ë–ò–¶–ï–ü–° (35 –º–∏–Ω)
                    { name: "–ü–æ–¥—ä–µ–º—ã —à—Ç–∞–Ω–≥–∏ –Ω–∞ –±–∏—Ü–µ–ø—Å", category: "–ë–∏—Ü–µ–ø—Å", sets: 4, reps: "8-12", rest: 120, difficulty: 3, gif: "barbell-curls.gif", muscles: ["–ë–∏—Ü–µ–ø—Å"] },
                    { name: "–ú–æ–ª–æ—Ç–∫–æ–≤—ã–µ –ø–æ–¥—ä–µ–º—ã", category: "–ë–∏—Ü–µ–ø—Å", sets: 4, reps: "10-12", rest: 120, difficulty: 3, gif: "hammer-curls.gif", muscles: ["–ë–∏—Ü–µ–ø—Å", "–ü—Ä–µ–¥–ø–ª–µ—á—å—è"] },
                    { name: "–ö–æ–Ω—Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–æ–¥—ä–µ–º—ã", category: "–ë–∏—Ü–µ–ø—Å", sets: 3, reps: "10-12", rest: 90, difficulty: 2, gif: "concentration-curls.gif", muscles: ["–ë–∏—Ü–µ–ø—Å"] },
                    { name: "–ü–æ–¥—ä–µ–º—ã –Ω–∞ –±–ª–æ–∫–µ", category: "–ë–∏—Ü–µ–ø—Å", sets: 3, reps: "12-15", rest: 90, difficulty: 2, gif: "cable-curls.gif", muscles: ["–ë–∏—Ü–µ–ø—Å"] },
                    
                    // –ü–†–ï–î–ü–õ–ï–ß–¨–Ø (20 –º–∏–Ω)
                    { name: "–ü–æ–¥—ä–µ–º—ã –Ω–∞ –ø—Ä–µ–¥–ø–ª–µ—á—å—è", category: "–ü—Ä–µ–¥–ø–ª–µ—á—å—è", sets: 4, reps: "15-20", rest: 60, difficulty: 2, gif: "wrist-curls.gif", muscles: ["–ü—Ä–µ–¥–ø–ª–µ—á—å—è"] },
                    { name: "–û–±—Ä–∞—Ç–Ω—ã–µ –ø–æ–¥—ä–µ–º—ã", category: "–ü—Ä–µ–¥–ø–ª–µ—á—å—è", sets: 3, reps: "15-20", rest: 60, difficulty: 2, gif: "reverse-curls.gif", muscles: ["–ü—Ä–µ–¥–ø–ª–µ—á—å—è"] },
                    { name: "–£–¥–µ—Ä–∂–∞–Ω–∏–µ –≥—Ä–∏—Ñ–∞", category: "–ü—Ä–µ–¥–ø–ª–µ—á—å—è", sets: 3, reps: "30-60 —Å–µ–∫", rest: 90, difficulty: 3, gif: "farmers-walk.gif", muscles: ["–•–≤–∞—Ç"] },
                    
                    // –ó–ê–ú–ò–ù–ö–ê (5 –º–∏–Ω)
                    { name: "–†–∞—Å—Ç—è–∂–∫–∞ —Å–ø–∏–Ω—ã –∏ —Ä—É–∫", category: "–ó–∞–º–∏–Ω–∫–∞", sets: 1, reps: "5 –º–∏–Ω", rest: 0, difficulty: 1, gif: "back-stretch.gif", muscles: ["–í—Å–µ —Ç–µ–ª–æ"] }
                ]
            },
            3: {
                title: "–ù–û–ì–ò + –Ø–ì–û–î–ò–¶–´ + –ò–ö–†–´",
                duration: "~120 –º–∏–Ω—É—Ç",
                targetMuscles: ["–ö–≤–∞–¥—Ä–∏—Ü–µ–ø—Å", "–ë–∏—Ü–µ–ø—Å –±–µ–¥—Ä–∞", "–Ø–≥–æ–¥–∏—Ü—ã", "–ò–∫—Ä—ã"],
                exercises: [
                    // –†–ê–ó–ú–ò–ù–ö–ê (10 –º–∏–Ω)
                    { name: "–†–∞–∑–º–∏–Ω–∫–∞ —Å—É—Å—Ç–∞–≤–æ–≤", category: "–†–∞–∑–º–∏–Ω–∫–∞", sets: 1, reps: "5 –º–∏–Ω", rest: 0, difficulty: 1, gif: "warmup-joints.gif", muscles: ["–í—Å–µ —Ç–µ–ª–æ"] },
                    { name: "–õ–µ–≥–∫–æ–µ –∫–∞—Ä–¥–∏–æ", category: "–†–∞–∑–º–∏–Ω–∫–∞", sets: 1, reps: "5 –º–∏–Ω", rest: 60, difficulty: 1, gif: "light-cardio.gif", muscles: ["–ù–æ–≥–∏"] },
                    
                    // –ö–í–ê–î–†–ò–¶–ï–ü–° + –Ø–ì–û–î–ò–¶–´ (60 –º–∏–Ω)
                    { name: "–ü—Ä–∏—Å–µ–¥–∞–Ω–∏—è —Å–æ —à—Ç–∞–Ω–≥–æ–π", category: "–ù–æ–≥–∏", sets: 5, reps: "6-10", rest: 240, difficulty: 5, gif: "barbell-squats.gif", muscles: ["–ö–≤–∞–¥—Ä–∏—Ü–µ–ø—Å", "–Ø–≥–æ–¥–∏—Ü—ã"] },
                    { name: "–ñ–∏–º –Ω–æ–≥–∞–º–∏", category: "–ù–æ–≥–∏", sets: 4, reps: "12-15", rest: 180, difficulty: 3, gif: "leg-press.gif", muscles: ["–ö–≤–∞–¥—Ä–∏—Ü–µ–ø—Å", "–Ø–≥–æ–¥–∏—Ü—ã"] },
                    { name: "–í—ã–ø–∞–¥—ã —Å –≥–∞–Ω—Ç–µ–ª—è–º–∏", category: "–ù–æ–≥–∏", sets: 4, reps: "10-12", rest: 150, difficulty: 4, gif: "db-lunges.gif", muscles: ["–ö–≤–∞–¥—Ä–∏—Ü–µ–ø—Å", "–Ø–≥–æ–¥–∏—Ü—ã"] },
                    { name: "–ë–æ–ª–≥–∞—Ä—Å–∫–∏–µ –ø—Ä–∏—Å–µ–¥–∞–Ω–∏—è", category: "–ù–æ–≥–∏", sets: 3, reps: "12-15", rest: 120, difficulty: 3, gif: "bulgarian-squats.gif", muscles: ["–ö–≤–∞–¥—Ä–∏—Ü–µ–ø—Å", "–Ø–≥–æ–¥–∏—Ü—ã"] },
                    { name: "–†–∞–∑–≥–∏–±–∞–Ω–∏—è –Ω–æ–≥", category: "–ù–æ–≥–∏", sets: 3, reps: "12-15", rest: 90, difficulty: 2, gif: "leg-extensions.gif", muscles: ["–ö–≤–∞–¥—Ä–∏—Ü–µ–ø—Å"] },
                    
                    // –ë–ò–¶–ï–ü–° –ë–ï–î–†–ê (25 –º–∏–Ω)
                    { name: "–†—É–º—ã–Ω—Å–∫–∞—è —Ç—è–≥–∞", category: "–ù–æ–≥–∏", sets: 4, reps: "10-12", rest: 150, difficulty: 4, gif: "romanian-deadlift.gif", muscles: ["–ë–∏—Ü–µ–ø—Å –±–µ–¥—Ä–∞", "–Ø–≥–æ–¥–∏—Ü—ã"] },
                    { name: "–°–≥–∏–±–∞–Ω–∏—è –Ω–æ–≥ –ª–µ–∂–∞", category: "–ù–æ–≥–∏", sets: 4, reps: "12-15", rest: 120, difficulty: 2, gif: "leg-curls.gif", muscles: ["–ë–∏—Ü–µ–ø—Å –±–µ–¥—Ä–∞"] },
                    { name: "–ì–∏–ø–µ—Ä—ç–∫—Å—Ç–µ–Ω–∑–∏—è", category: "–ù–æ–≥–∏", sets: 3, reps: "15-20", rest: 90, difficulty: 2, gif: "hyperextensions.gif", muscles: ["–ë–∏—Ü–µ–ø—Å –±–µ–¥—Ä–∞", "–Ø–≥–æ–¥–∏—Ü—ã"] },
                    
                    // –ò–ö–†–´ (20 –º–∏–Ω)
                    { name: "–ü–æ–¥—ä–µ–º—ã –Ω–∞ –Ω–æ—Å–∫–∏ —Å—Ç–æ—è", category: "–ò–∫—Ä—ã", sets: 5, reps: "15-20", rest: 90, difficulty: 2, gif: "calf-raises.gif", muscles: ["–ò–∫—Ä—ã"] },
                    { name: "–ü–æ–¥—ä–µ–º—ã —Å–∏–¥—è", category: "–ò–∫—Ä—ã", sets: 4, reps: "15-20", rest: 60, difficulty: 2, gif: "seated-calf-raises.gif", muscles: ["–ö–∞–º–±–∞–ª–æ–≤–∏–¥–Ω—ã–µ"] },
                    
                    // –ó–ê–ú–ò–ù–ö–ê (5 –º–∏–Ω)
                    { name: "–†–∞—Å—Ç—è–∂–∫–∞ –Ω–æ–≥", category: "–ó–∞–º–∏–Ω–∫–∞", sets: 1, reps: "5 –º–∏–Ω", rest: 0, difficulty: 1, gif: "leg-stretch.gif", muscles: ["–í—Å–µ —Ç–µ–ª–æ"] }
                ]
            },
            4: { 
                title: "–ê–ö–¢–ò–í–ù–û–ï –í–û–°–°–¢–ê–ù–û–í–õ–ï–ù–ò–ï", 
                isRest: false,
                duration: "~60 –º–∏–Ω—É—Ç",
                targetMuscles: ["–ö–∞—Ä–¥–∏–æ", "–ì–∏–±–∫–æ—Å—Ç—å", "–ú–æ–±–∏–ª—å–Ω–æ—Å—Ç—å"],
                exercises: [
                    { name: "–õ–µ–≥–∫–æ–µ –∫–∞—Ä–¥–∏–æ", category: "–ö–∞—Ä–¥–∏–æ", sets: 1, reps: "20 –º–∏–Ω", rest: 0, difficulty: 1, gif: "light-cardio.gif", muscles: ["–°–µ—Ä–¥—Ü–µ"] },
                    { name: "–ô–æ–≥–∞/–†–∞—Å—Ç—è–∂–∫–∞", category: "–ì–∏–±–∫–æ—Å—Ç—å", sets: 1, reps: "30 –º–∏–Ω", rest: 0, difficulty: 1, gif: "yoga-flow.gif", muscles: ["–í—Å–µ —Ç–µ–ª–æ"] },
                    { name: "–î—ã—Ö–∞—Ç–µ–ª—å–Ω—ã–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è", category: "–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ", sets: 1, reps: "10 –º–∏–Ω", rest: 0, difficulty: 1, gif: "breathing.gif", muscles: ["–î–∏–∞—Ñ—Ä–∞–≥–º–∞"] }
                ]
            },
            5: {
                title: "–§–£–ù–ö–¶–ò–û–ù–ê–õ–¨–ù–ê–Ø –°–ò–õ–ê",
                duration: "~120 –º–∏–Ω—É—Ç",
                targetMuscles: ["–ö–æ—Ä", "–°—Ç–∞–±–∏–ª–∏–∑–∞—Ç–æ—Ä—ã", "–í–∑—Ä—ã–≤–Ω–∞—è —Å–∏–ª–∞"],
                exercises: [
                    // –†–ê–ó–ú–ò–ù–ö–ê (10 –º–∏–Ω)
                    { name: "–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è —Ä–∞–∑–º–∏–Ω–∫–∞", category: "–†–∞–∑–º–∏–Ω–∫–∞", sets: 1, reps: "10 –º–∏–Ω", rest: 0, difficulty: 2, gif: "dynamic-warmup.gif", muscles: ["–í—Å–µ —Ç–µ–ª–æ"] },
                    
                    // –§–£–ù–ö–¶–ò–û–ù–ê–õ–¨–ù–´–ï –î–í–ò–ñ–ï–ù–ò–Ø (70 –º–∏–Ω)
                    { name: "–ë–µ—Ä–ø–∏", category: "–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ", sets: 5, reps: "10-15", rest: 120, difficulty: 4, gif: "burpees.gif", muscles: ["–í—Å–µ —Ç–µ–ª–æ"] },
                    { name: "–¢–æ–ª—á–∫–∏ –≥–∏—Ä–∏", category: "–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ", sets: 4, reps: "8-12", rest: 150, difficulty: 4, gif: "kettlebell-swings.gif", muscles: ["–ó–∞–¥–Ω—è—è —Ü–µ–ø—å"] },
                    { name: "–¢—è–≥–∞ —Ç—Ä–æ—Å–∞ –∫ –ª–∏—Ü—É", category: "–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ", sets: 4, reps: "12-15", rest: 90, difficulty: 2, gif: "face-pulls.gif", muscles: ["–ó–∞–¥–Ω–∏–µ –¥–µ–ª—å—Ç—ã"] },
                    { name: "–ü–ª–∞–Ω–∫–∞", category: "–ö–æ—Ä", sets: 4, reps: "60-90 —Å–µ–∫", rest: 90, difficulty: 3, gif: "plank.gif", muscles: ["–ö–æ—Ä"] },
                    { name: "–ü–æ–¥—ä–µ–º—ã –Ω–æ–≥ –≤ –≤–∏—Å–µ", category: "–ö–æ—Ä", sets: 4, reps: "10-15", rest: 120, difficulty: 4, gif: "hanging-leg-raises.gif", muscles: ["–ü—Ä–µ—Å—Å"] },
                    { name: "–†—É—Å—Å–∫–∏–µ —Å–∫—Ä—É—á–∏–≤–∞–Ω–∏—è", category: "–ö–æ—Ä", sets: 3, reps: "20-30", rest: 60, difficulty: 2, gif: "russian-twists.gif", muscles: ["–ö–æ—Å—ã–µ"] },
                    { name: "–ì–æ—Ä–Ω—ã–µ –∞–ª—å–ø–∏–Ω–∏—Å—Ç—ã", category: "–ö–æ—Ä", sets: 3, reps: "30-45 —Å–µ–∫", rest: 60, difficulty: 3, gif: "mountain-climbers.gif", muscles: ["–ö–æ—Ä", "–ö–∞—Ä–¥–∏–æ"] },
                    { name: "–ú–µ–¥–≤–µ–∂—å—è –ø–æ—Ö–æ–¥–∫–∞", category: "–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ", sets: 3, reps: "30-45 —Å–µ–∫", rest: 90, difficulty: 3, gif: "bear-crawl.gif", muscles: ["–í—Å–µ —Ç–µ–ª–æ"] },
                    
                    // –í–ó–†–´–í–ù–ê–Ø –°–ò–õ–ê (35 –º–∏–Ω)
                    { name: "–ü—Ä—ã–∂–∫–∏ –Ω–∞ —Ç—É–º–±—É", category: "–ü–ª–∏–æ–º–µ—Ç—Ä–∏–∫–∞", sets: 4, reps: "8-12", rest: 120, difficulty: 3, gif: "box-jumps.gif", muscles: ["–ù–æ–≥–∏", "–í–∑—Ä—ã–≤–Ω–∞—è —Å–∏–ª–∞"] },
                    { name: "–í–∑—Ä—ã–≤–Ω—ã–µ –æ—Ç–∂–∏–º–∞–Ω–∏—è", category: "–ü–ª–∏–æ–º–µ—Ç—Ä–∏–∫–∞", sets: 3, reps: "5-10", rest: 120, difficulty: 4, gif: "explosive-pushups.gif", muscles: ["–ì—Ä—É–¥—å", "–í–∑—Ä—ã–≤–Ω–∞—è —Å–∏–ª–∞"] },
                    { name: "–ë—Ä–æ—Å–∫–∏ –º–µ–¥–±–æ–ª–∞", category: "–ü–ª–∏–æ–º–µ—Ç—Ä–∏–∫–∞", sets: 3, reps: "10-15", rest: 90, difficulty: 3, gif: "medicine-ball-throws.gif", muscles: ["–ö–æ—Ä", "–í–∑—Ä—ã–≤–Ω–∞—è —Å–∏–ª–∞"] },
                    
                    // –ó–ê–ú–ò–ù–ö–ê (5 –º–∏–Ω)
                    { name: "–í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ–ª—å–Ω–∞—è —Ä–∞—Å—Ç—è–∂–∫–∞", category: "–ó–∞–º–∏–Ω–∫–∞", sets: 1, reps: "5 –º–∏–Ω", rest: 0, difficulty: 1, gif: "recovery-stretch.gif", muscles: ["–í—Å–µ —Ç–µ–ª–æ"] }
                ]
            },
            6: {
                title: "–í–ï–†–• –¢–ï–õ–ê + –ö–ê–†–î–ò–û",
                duration: "~120 –º–∏–Ω—É—Ç",
                targetMuscles: ["–ì—Ä—É–¥—å", "–°–ø–∏–Ω–∞", "–ü–ª–µ—á–∏", "–†—É–∫–∏", "–ö–∞—Ä–¥–∏–æ"],
                exercises: [
                    // –†–ê–ó–ú–ò–ù–ö–ê (10 –º–∏–Ω)
                    { name: "–ö–∞—Ä–¥–∏–æ —Ä–∞–∑–º–∏–Ω–∫–∞", category: "–†–∞–∑–º–∏–Ω–∫–∞", sets: 1, reps: "10 –º–∏–Ω", rest: 0, difficulty: 2, gif: "cardio-warmup.gif", muscles: ["–°–µ—Ä–¥—Ü–µ"] },
                    
                    // –ò–ù–¢–ï–†–í–ê–õ–¨–ù–ê–Ø –¢–†–ï–ù–ò–†–û–í–ö–ê (50 –º–∏–Ω)
                    { name: "–°—É–ø–µ—Ä—Å–µ—Ç: –ñ–∏–º + –¢—è–≥–∞", category: "–°—É–ø–µ—Ä—Å–µ—Ç", sets: 4, reps: "10-12", rest: 90, difficulty: 4, gif: "bench-row-superset.gif", muscles: ["–ì—Ä—É–¥—å", "–°–ø–∏–Ω–∞"] },
                    { name: "–°—É–ø–µ—Ä—Å–µ—Ç: –ñ–∏–º + –ü–æ–¥—Ç—è–≥–∏–≤–∞–Ω–∏—è", category: "–°—É–ø–µ—Ä—Å–µ—Ç", sets: 4, reps: "8-12", rest: 120, difficulty: 4, gif: "press-pullup-superset.gif", muscles: ["–ü–ª–µ—á–∏", "–°–ø–∏–Ω–∞"] },
                    { name: "–°—É–ø–µ—Ä—Å–µ—Ç: –ë–∏—Ü–µ–ø—Å + –¢—Ä–∏—Ü–µ–ø—Å", category: "–°—É–ø–µ—Ä—Å–µ—Ç", sets: 4, reps: "10-15", rest: 90, difficulty: 3, gif: "bicep-tricep-superset.gif", muscles: ["–†—É–∫–∏"] },
                    { name: "–ö—Ä—É–≥–æ–≤–∞—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞", category: "–ö—Ä—É–≥–æ–≤–∞—è", sets: 3, reps: "45 —Å–µ–∫ —Ä–∞–±–æ—Ç–∞", rest: 15, difficulty: 4, gif: "upper-circuit.gif", muscles: ["–í–µ—Ä—Ö —Ç–µ–ª–∞"] },
                    
                    // –ö–ê–†–î–ò–û –§–ò–ù–ò–® (55 –º–∏–Ω)
                    { name: "HIIT –∏–Ω—Ç–µ—Ä–≤–∞–ª—ã", category: "–ö–∞—Ä–¥–∏–æ", sets: 8, reps: "30 —Å–µ–∫ –º–∞–∫—Å", rest: 90, difficulty: 5, gif: "hiit-intervals.gif", muscles: ["–ö–∞—Ä–¥–∏–æ"] },
                    { name: "–°—Ä–µ–¥–Ω–µ–π –∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ—Å—Ç–∏", category: "–ö–∞—Ä–¥–∏–æ", sets: 1, reps: "20 –º–∏–Ω", rest: 0, difficulty: 3, gif: "moderate-cardio.gif", muscles: ["–ö–∞—Ä–¥–∏–æ"] },
                    
                    // –ó–ê–ú–ò–ù–ö–ê (5 –º–∏–Ω)
                    { name: "–†–∞—Å—Ç—è–∂–∫–∞ –∏ —Ä–µ–ª–∞–∫—Å", category: "–ó–∞–º–∏–Ω–∫–∞", sets: 1, reps: "5 –º–∏–Ω", rest: 0, difficulty: 1, gif: "cool-down.gif", muscles: ["–í—Å–µ —Ç–µ–ª–æ"] }
                ]
            },
            7: {
                title: "–ü–û–õ–ù–ê–Ø –¢–†–ê–ù–°–§–û–†–ú–ê–¶–ò–Ø",
                duration: "~120 –º–∏–Ω—É—Ç",
                targetMuscles: ["–í—Å–µ –≥—Ä—É–ø–ø—ã –º—ã—à—Ü", "–í—ã–Ω–æ—Å–ª–∏–≤–æ—Å—Ç—å", "–°–∏–ª–∞"],
                exercises: [
                    // –†–ê–ó–ú–ò–ù–ö–ê (15 –º–∏–Ω)
                    { name: "–ü–æ–ª–Ω–∞—è –º–æ–±–∏–ª–∏–∑–∞—Ü–∏—è", category: "–†–∞–∑–º–∏–Ω–∫–∞", sets: 1, reps: "15 –º–∏–Ω", rest: 0, difficulty: 2, gif: "full-mobility.gif", muscles: ["–í—Å–µ —Ç–µ–ª–æ"] },
                    
                    // –°–ò–õ–û–í–û–ô –ë–õ–û–ö (60 –º–∏–Ω)
                    { name: "–ö–æ–º–ø–ª–µ–∫—Å: –ü—Ä–∏—Å–µ–¥–∞–Ω–∏—è + –ñ–∏–º + –¢—è–≥–∞", category: "–ö–æ–º–ø–ª–µ–∫—Å", sets: 5, reps: "5-8", rest: 180, difficulty: 5, gif: "squat-press-row.gif", muscles: ["–í—Å–µ —Ç–µ–ª–æ"] },
                    { name: "–°—Ç–∞–Ω–æ–≤–∞—è + –ü–æ–¥—Ç—è–≥–∏–≤–∞–Ω–∏—è + –û—Ç–∂–∏–º–∞–Ω–∏—è", category: "–ö–æ–º–ø–ª–µ–∫—Å", sets: 4, reps: "6-10", rest: 150, difficulty: 5, gif: "deadlift-pullup-pushup.gif", muscles: ["–í—Å–µ —Ç–µ–ª–æ"] },
                    { name: "–í—ã–ø–∞–¥—ã + –ñ–∏–º + –ú–∞—Ö–∏", category: "–ö–æ–º–ø–ª–µ–∫—Å", sets: 4, reps: "8-12", rest: 120, difficulty: 4, gif: "lunge-press-raise.gif", muscles: ["–í—Å–µ —Ç–µ–ª–æ"] },
                    
                    // –ú–ï–¢–ê–ë–û–õ–ò–ß–ï–°–ö–ò–ô –§–ò–ù–ò–® (40 –º–∏–Ω)
                    { name: "–¢–∞–±–∞—Ç–∞ –ø—Ä–æ—Ç–æ–∫–æ–ª", category: "–ò–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ–µ", sets: 8, reps: "20 —Å–µ–∫ –º–∞–∫—Å", rest: 10, difficulty: 5, gif: "tabata-protocol.gif", muscles: ["–í—Å–µ —Ç–µ–ª–æ"] },
                    { name: "–ö–æ–º–ø–ª–µ–∫—Å –Ω–∞ –≤—ã–Ω–æ—Å–ª–∏–≤–æ—Å—Ç—å", category: "–í—ã–Ω–æ—Å–ª–∏–≤–æ—Å—Ç—å", sets: 3, reps: "10 –º–∏–Ω", rest: 120, difficulty: 4, gif: "endurance-complex.gif", muscles: ["–í—Å–µ —Ç–µ–ª–æ"] },
                    
                    // –ó–ê–ú–ò–ù–ö–ê (5 –º–∏–Ω)
                    { name: "–ì–ª—É–±–æ–∫–∞—è —Ä–∞—Å—Ç—è–∂–∫–∞", category: "–ó–∞–º–∏–Ω–∫–∞", sets: 1, reps: "5 –º–∏–Ω", rest: 0, difficulty: 1, gif: "deep-stretch.gif", muscles: ["–í—Å–µ —Ç–µ–ª–æ"] }
                ]
            }
        };

        // === –û–°–ù–û–í–ù–´–ï –§–£–ù–ö–¶–ò–ò ===

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
        function initApp() {
            loadUserData();
            generateDaySelector();
            selectDay(currentDay);
            updateNavigation('workout');
        }

        // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–µ–ª–µ–∫—Ç–æ—Ä–∞ –¥–Ω–µ–π
        function generateDaySelector() {
            const selector = document.getElementById('daySelector');
            const dayNames = ['–ü–ù', '–í–¢', '–°–†', '–ß–¢', '–ü–¢', '–°–ë', '–í–°'];
            
            selector.innerHTML = '';
            
            for (let i = 1; i <= 7; i++) {
                const dayCard = document.createElement('div');
                dayCard.className = 'day-card';
                dayCard.onclick = () => selectDay(i);
                
                if (i === 4) dayCard.classList.add('rest');
                if (userData.completedDays.includes(i)) dayCard.classList.add('completed');
                if (i === currentDay) dayCard.classList.add('active');
                
                dayCard.innerHTML = `
                    <div class="day-number">${i}</div>
                    <div class="day-name">${dayNames[i-1]}</div>
                `;
                
                selector.appendChild(dayCard);
            }
        }

        // –í—ã–±–æ—Ä –¥–Ω—è
        window.selectDay = function(day) {
            currentDay = day;
            
            // –û–±–Ω–æ–≤–∏—Ç—å –≤–∏–∑—É–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
            document.querySelectorAll('.day-card').forEach((card, index) => {
                card.classList.toggle('active', index + 1 === day);
            });
            
            // –ó–∞–≥—Ä—É–∑–∏—Ç—å —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É
            loadWorkout(day);
        }

        // –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏
        function formatTime(minutes) {
            if (minutes < 60) {
                return `${minutes} –º–∏–Ω—É—Ç`;
            } else {
                const hours = Math.floor(minutes / 60);
                const remainingMinutes = minutes % 60;
                if (remainingMinutes === 0) {
                    return `${hours} —á–∞—Å${hours > 1 ? '–∞' : ''}`;
                }
                return `${hours} —á–∞—Å ${remainingMinutes} –º–∏–Ω—É—Ç`;
            }
        }

        // –†–∞—Å—á–µ—Ç –ø—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏
        function calculateDayDuration(exercises) {
            if (!exercises || exercises.length === 0) return 0;
            return exercises.reduce((total, exercise) => {
                const sets = exercise.sets || 3;
                const duration = exercise.duration || 1;
                const rest = exercise.rest || 30;
                return total + (sets * duration) + ((sets - 1) * rest / 60);
            }, 0);
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏
        function loadWorkout(day) {
            const content = document.getElementById('workoutContent');
            const program = workoutPrograms[day];
            
            if (program.isRest) {
                content.innerHTML = `
                    <div class="rest-day fade-in">
                        <div class="rest-icon">üßò‚Äç‚ôÄÔ∏è</div>
                        <h2 class="rest-title">${program.title}</h2>
                        <div class="workout-duration">
                            <div class="duration-timer">${program.duration}</div>
                            <p style="font-size: 14px; color: var(--text-secondary); margin-top: 8px; line-height: 1.5;">
                                –ê–∫—Ç–∏–≤–Ω–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–ª—è –ª—É—á—à–∏—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤:<br>
                                ‚Ä¢ –õ–µ–≥–∫–∞—è –ø—Ä–æ–≥—É–ª–∫–∞ –∏–ª–∏ –π–æ–≥–∞<br>
                                ‚Ä¢ –ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π —Å–æ–Ω (8+ —á–∞—Å–æ–≤)<br>
                                ‚Ä¢ –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ –ø–∏—Ç–∞–Ω–∏–µ –∏ –≥–∏–¥—Ä–∞—Ç–∞—Ü–∏—è
                            </p>
                        </div>
                        <div class="exercises">
                            ${program.exercises.map((exercise, index) => `
                                <div class="exercise-card fade-in" style="border-left: 4px solid var(--accent-secondary); animation-delay: ${index * 0.1}s;">
                                    <div class="exercise-header">
                                        <h3 class="exercise-name">${exercise.name}</h3>
                                        <div class="exercise-difficulty">
                                            ${'‚òÖ'.repeat(exercise.difficulty)}${'‚òÜ'.repeat(5 - exercise.difficulty)}
                                        </div>
                                    </div>
                                    
                                    <div class="exercise-gif" onclick="showExerciseGif('${exercise.gif}', '${exercise.name}')">
                                        üì∫ –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —Ç–µ—Ö–Ω–∏–∫–∏
                                        <br><small>–ù–∞–∂–º–∏—Ç–µ –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞</small>
                                    </div>
                                    
                                    <div style="margin-bottom: var(--space-md);">
                                        <div style="font-size: 12px; color: var(--text-secondary); margin-bottom: 4px;">–ì—Ä—É–ø–ø—ã –º—ã—à—Ü:</div>
                                        ${exercise.muscles.map(muscle => `<span class="muscle-group">${muscle}</span>`).join('')}
                                    </div>
                                    
                                    <div class="exercise-stats">
                                        <div class="stat">
                                            <div class="stat-value">${exercise.sets}</div>
                                            <div class="stat-label">–ü–æ–¥—Ö–æ–¥—ã</div>
                                        </div>
                                        <div class="stat">
                                            <div class="stat-value">${exercise.reps}</div>
                                            <div class="stat-label">–ü—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å</div>
                                        </div>
                                        <div class="stat">
                                            <div class="stat-value">${exercise.rest > 0 ? exercise.rest + '—Å' : '‚Äî'}</div>
                                            <div class="stat-label">–û—Ç–¥—ã—Ö</div>
                                        </div>
                                    </div>
                                    
                                    <div class="exercise-actions">
                                        ${exercise.rest > 0 ? `
                                            <button class="btn btn-primary" onclick="startTimer(${index}, ${exercise.rest})">
                                                –¢–∞–π–º–µ—Ä –æ—Ç–¥—ã—Ö–∞
                                            </button>
                                        ` : ''}
                                        <button class="btn btn-secondary" onclick="completeExercise(${day}, ${index})">
                                            –í—ã–ø–æ–ª–Ω–µ–Ω–æ
                                        </button>
                                    </div>
                                    
                                    <div class="timer-display hidden" id="timer-${index}">
                                        ${exercise.rest}
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                `;
                return;
            }
            
            // –û–±—ã—á–Ω–∞—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞
            const totalDuration = Math.round(calculateDayDuration(program.exercises));
            const exerciseCount = program.exercises.length;
            
            content.innerHTML = `
                <div class="workout-header fade-in">
                    <h2 style="color: var(--text-accent); font-size: 28px; font-weight: 800; margin-bottom: var(--space-md);">
                        ${program.title}
                    </h2>
                    <div style="display: flex; gap: var(--space-lg); margin-bottom: var(--space-lg); flex-wrap: wrap;">
                        <div style="padding: var(--space-sm) var(--space-md); background: var(--gradient-accent); border-radius: var(--radius-lg); color: white; font-weight: 600; font-size: 14px;">
                            ‚è±Ô∏è ${formatTime(totalDuration)}
                        </div>
                        <div style="padding: var(--space-sm) var(--space-md); background: var(--gradient-secondary); border-radius: var(--radius-lg); color: white; font-weight: 600; font-size: 14px;">
                            üí™ ${exerciseCount} —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π
                        </div>
                        <div style="padding: var(--space-sm) var(--space-md); background: var(--gradient-warning); border-radius: var(--radius-lg); color: white; font-weight: 600; font-size: 14px;">
                            üéØ ${program.targetMuscles.join(' ‚Ä¢ ')}
                        </div>
                    </div>
                </div>
                
                <div class="exercises">
                    ${program.exercises.map((exercise, index) => {
                        const categoryColors = {
                            '–†–∞–∑–º–∏–Ω–∫–∞': 'var(--accent-secondary)',
                            '–ì—Ä—É–¥—å': '#E53E3E',
                            '–°–ø–∏–Ω–∞': '#3182CE',
                            '–ù–æ–≥–∏': '#38A169',
                            '–ü–ª–µ—á–∏': '#D69E2E',
                            '–¢—Ä–∏—Ü–µ–ø—Å': '#805AD5',
                            '–ë–∏—Ü–µ–ø—Å': '#DD6B20',
                            '–ü—Ä–µ–¥–ø–ª–µ—á—å—è': '#718096',
                            '–ò–∫—Ä—ã': '#2D3748',
                            '–ö–æ—Ä': '#C53030',
                            '–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ': '#319795',
                            '–ü–ª–∏–æ–º–µ—Ç—Ä–∏–∫–∞': '#B83280',
                            '–°—É–ø–µ—Ä—Å–µ—Ç': '#E53E3E',
                            '–ö—Ä—É–≥–æ–≤–∞—è': '#38A169',
                            '–ö–∞—Ä–¥–∏–æ': '#3182CE',
                            '–ö–æ–º–ø–ª–µ–∫—Å': '#805AD5',
                            '–ò–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ–µ': '#C53030',
                            '–í—ã–Ω–æ—Å–ª–∏–≤–æ—Å—Ç—å': '#D69E2E',
                            '–ó–∞–º–∏–Ω–∫–∞': '#4A5568'
                        };
                        
                        return `
                            <div class="exercise-card" style="border-left: 4px solid ${categoryColors[exercise.category] || 'var(--accent-primary)'};">
                                <div class="exercise-header">
                                    <div>
                                        <h3 class="exercise-name">${exercise.name}</h3>
                                        <div style="font-size: 12px; color: var(--text-secondary); margin-bottom: 4px;">
                                            ${exercise.category}
                                        </div>
                                    </div>
                                    <div class="exercise-difficulty">
                                        ${'‚òÖ'.repeat(exercise.difficulty)}${'‚òÜ'.repeat(5 - exercise.difficulty)}
                                    </div>
                                </div>
                                
                                <div class="exercise-gif" onclick="showExerciseGif('${exercise.gif}', '${exercise.name}')">
                                    üì∫ –¢–µ—Ö–Ω–∏–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
                                    <br><small>–ù–∞–∂–º–∏—Ç–µ –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ GIF</small>
                                </div>
                                
                                <div style="margin-bottom: var(--space-md);">
                                    <div style="font-size: 12px; color: var(--text-secondary); margin-bottom: 4px;">–†–∞–±–æ—Ç–∞—é—â–∏–µ –º—ã—à—Ü—ã:</div>
                                    ${exercise.muscles.map(muscle => `<span class="muscle-group">${muscle}</span>`).join('')}
                                </div>
                                
                                <div class="exercise-stats">
                                    <div class="stat">
                                        <div class="stat-value">${exercise.sets}</div>
                                        <div class="stat-label">–ü–æ–¥—Ö–æ–¥—ã</div>
                                    </div>
                                    <div class="stat">
                                        <div class="stat-value">${exercise.reps}</div>
                                        <div class="stat-label">–ü–æ–≤—Ç–æ—Ä–µ–Ω–∏—è</div>
                                    </div>
                                    <div class="stat">
                                        <div class="stat-value">${exercise.rest > 0 ? formatRestTime(exercise.rest) : '‚Äî'}</div>
                                        <div class="stat-label">–û—Ç–¥—ã—Ö</div>
                                    </div>
                                </div>
                                
                                <div class="exercise-actions">
                                    ${exercise.rest > 0 ? `
                                        <button class="btn btn-primary" onclick="startTimer(${index}, ${exercise.rest})">
                                            –¢–∞–π–º–µ—Ä (${formatRestTime(exercise.rest)})
                                        </button>
                                    ` : ''}
                                    <button class="btn btn-secondary" onclick="showProgressForm(${index})">
                                        üìä –ü—Ä–æ–≥—Ä–µ—Å—Å
                                    </button>
                                    <button class="btn btn-secondary" onclick="completeExercise(${day}, ${index})">
                                        ‚úì –í—ã–ø–æ–ª–Ω–µ–Ω–æ
                                    </button>
                                    <button class="btn btn-secondary" onclick="showExerciseDetails(${index})">
                                        üìã –î–µ—Ç–∞–ª–∏
                                    </button>
                                </div>
                                
                                <div class="timer-display hidden" id="timer-${index}">
                                    ${exercise.rest}
                                </div>
                            </div>
                        `;
                    }).join('')}
                </div>
            `;
        }

        // –ó–∞–ø—É—Å–∫ —Ç–∞–π–º–µ—Ä–∞
        window.startTimer = function(exerciseIndex, duration) {
            if (timerInterval) clearInterval(timerInterval);
            
            const timerDisplay = document.getElementById(`timer-${exerciseIndex}`);
            timerDisplay.classList.remove('hidden');
            timerDisplay.classList.add('running');
            
            timerSeconds = duration;
            
            timerInterval = setInterval(() => {
                timerSeconds--;
                timerDisplay.textContent = formatTime(timerSeconds);
                
                if (timerSeconds <= 0) {
                    clearInterval(timerInterval);
                    timerDisplay.classList.remove('running');
                    timerDisplay.textContent = "–í—Ä–µ–º—è –≤—ã—à–ª–æ!";
                    
                    // –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
                    if (Notification.permission === 'granted') {
                        new Notification('–û—Ç–¥—ã—Ö –∑–∞–∫–æ–Ω—á–µ–Ω!', {
                            body: '–í—Ä–µ–º—è –¥–ª—è —Å–ª–µ–¥—É—é—â–µ–≥–æ –ø–æ–¥—Ö–æ–¥–∞',
                            icon: 'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="50" cy="50" r="40" fill="%233B82F6"/><text x="50" y="65" font-size="40" text-anchor="middle" fill="white">üí™</text></svg>'
                        });
                    }
                }
            }, 1000);
        }

        // –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –æ—Ç–¥—ã—Ö–∞
        function formatRestTime(seconds) {
            if (seconds >= 60) {
                const minutes = Math.floor(seconds / 60);
                const secs = seconds % 60;
                return secs > 0 ? `${minutes}–º ${secs}—Å` : `${minutes}–º`;
            }
            return `${seconds}—Å`;
        }

        // –ü–æ–∫–∞–∑–∞—Ç—å GIF —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è
        window.showExerciseGif = function(gifUrl, exerciseName) {
            const modalContent = `
                <div style="text-align: center;">
                    <h3 style="margin-bottom: 16px;">${exerciseName}</h3>
                    <div style="background: var(--bg-card); padding: 20px; border-radius: 12px; margin-bottom: 16px;">
                        <div style="
                            background: linear-gradient(45deg, #3B82F6, #10B981);
                            color: white;
                            padding: 40px;
                            border-radius: 12px;
                            font-size: 16px;
                        ">
                            üé¨ GIF: ${gifUrl}
                            <br><br>
                            <small>–í –ø–æ–ª–Ω–æ–π –≤–µ—Ä—Å–∏–∏ –∑–¥–µ—Å—å –±—É–¥–µ—Ç –∞–Ω–∏–º–∞—Ü–∏—è —Å —Ç–µ—Ö–Ω–∏–∫–æ–π –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è</small>
                        </div>
                    </div>
                    <div style="background: var(--bg-card); padding: 16px; border-radius: 8px; text-align: left;">
                        <h4 style="margin-bottom: 8px;">–¢–µ—Ö–Ω–∏–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:</h4>
                        <ul style="color: var(--text-secondary); font-size: 14px; line-height: 1.6;">
                            <li>–ó–∞–π–º–∏—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∏—Å—Ö–æ–¥–Ω–æ–µ –ø–æ–ª–æ–∂–µ–Ω–∏–µ</li>
                            <li>–ö–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–π—Ç–µ –¥–≤–∏–∂–µ–Ω–∏–µ –Ω–∞ –≤—Å–µ–π –∞–º–ø–ª–∏—Ç—É–¥–µ</li>
                            <li>–î—ã—à–∏—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ: –≤—ã–¥–æ—Ö –Ω–∞ —É—Å–∏–ª–∏–∏</li>
                            <li>–î–µ—Ä–∂–∏—Ç–µ –º—ã—à—Ü—ã –∫–æ—Ä–∞ –≤ –Ω–∞–ø—Ä—è–∂–µ–Ω–∏–∏</li>
                            <li>–ù–µ —Ç–æ—Ä–æ–ø–∏—Ç–µ—Å—å, –∫–∞—á–µ—Å—Ç–≤–æ –≤–∞–∂–Ω–µ–µ —Å–∫–æ—Ä–æ—Å—Ç–∏</li>
                        </ul>
                    </div>
                </div>
            `;
            openModal(`–¢–µ—Ö–Ω–∏–∫–∞: ${exerciseName}`, modalContent);
        }

        // –ü–æ–∫–∞–∑–∞—Ç—å –¥–µ—Ç–∞–ª–∏ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è
        window.showExerciseDetails = function(exerciseIndex) {
            const exercise = workoutPrograms[currentDay].exercises[exerciseIndex];
            const modalContent = `
                <div style="display: grid; gap: 16px;">
                    <div style="background: var(--bg-card); padding: 16px; border-radius: 8px;">
                        <h4 style="margin-bottom: 8px;">–û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h4>
                        <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 12px; font-size: 14px;">
                            <div><strong>–ö–∞—Ç–µ–≥–æ—Ä–∏—è:</strong> ${exercise.category}</div>
                            <div><strong>–°–ª–æ–∂–Ω–æ—Å—Ç—å:</strong> ${'‚òÖ'.repeat(exercise.difficulty)}${'‚òÜ'.repeat(5 - exercise.difficulty)}</div>
                            <div><strong>–ü–æ–¥—Ö–æ–¥—ã:</strong> ${exercise.sets}</div>
                            <div><strong>–ü–æ–≤—Ç–æ—Ä–µ–Ω–∏—è:</strong> ${exercise.reps}</div>
                            <div><strong>–û—Ç–¥—ã—Ö:</strong> ${exercise.rest > 0 ? formatRestTime(exercise.rest) : '–ë–µ–∑ –æ—Ç–¥—ã—Ö–∞'}</div>
                            <div><strong>GIF —Ñ–∞–π–ª:</strong> ${exercise.gif}</div>
                        </div>
                    </div>
                    
                    <div style="background: var(--bg-card); padding: 16px; border-radius: 8px;">
                        <h4 style="margin-bottom: 8px;">–†–∞–±–æ—Ç–∞—é—â–∏–µ –º—ã—à—Ü—ã</h4>
                        <div style="display: flex; flex-wrap: wrap; gap: 4px;">
                            ${exercise.muscles.map(muscle => `<span class="muscle-group">${muscle}</span>`).join('')}
                        </div>
                    </div>
                    
                    <div style="background: var(--bg-card); padding: 16px; border-radius: 8px;">
                        <h4 style="margin-bottom: 8px;">–°–æ–≤–µ—Ç—ã –ø–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—é</h4>
                        <ul style="color: var(--text-secondary); font-size: 14px; line-height: 1.6; margin: 0; padding-left: 20px;">
                            ${getExerciseTips(exercise.name).map(tip => `<li>${tip}</li>`).join('')}
                        </ul>
                    </div>
                    
                    <div style="display: flex; gap: 8px;">
                        <button class="btn btn-primary" onclick="closeModal(); startTimer(${exerciseIndex}, ${exercise.rest})">
                            –ù–∞—á–∞—Ç—å —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ
                        </button>
                        <button class="btn btn-secondary" onclick="showExerciseGif('${exercise.gif}', '${exercise.name}')">
                            –ü–æ–∫–∞–∑–∞—Ç—å —Ç–µ—Ö–Ω–∏–∫—É
                        </button>
                    </div>
                </div>
            `;
            openModal(exercise.name, modalContent);
        }

        // –ü–æ–ª—É—á–∏—Ç—å —Å–æ–≤–µ—Ç—ã –¥–ª—è —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è
        function getExerciseTips(exerciseName) {
            const tips = {
                '–ñ–∏–º —à—Ç–∞–Ω–≥–∏ –ª–µ–∂–∞': [
                    '–î–µ—Ä–∂–∏—Ç–µ –ª–æ–ø–∞—Ç–∫–∏ —Å–≤–µ–¥–µ–Ω–Ω—ã–º–∏',
                    '–ù–æ–≥–∏ –ø–ª–æ—Ç–Ω–æ —Å—Ç–æ—è—Ç –Ω–∞ –ø–æ–ª—É',
                    '–û–ø—É—Å–∫–∞–π—Ç–µ —à—Ç–∞–Ω–≥—É –¥–æ –∫–∞—Å–∞–Ω–∏—è –≥—Ä—É–¥–∏',
                    '–í—ã–∂–∏–º–∞–π—Ç–µ –º–æ—â–Ω–æ, –Ω–æ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º–æ'
                ],
                '–°—Ç–∞–Ω–æ–≤–∞—è —Ç—è–≥–∞': [
                    '–î–µ—Ä–∂–∏—Ç–µ —Å–ø–∏–Ω—É –ø—Ä—è–º–æ–π –Ω–∞ –ø—Ä–æ—Ç—è–∂–µ–Ω–∏–∏ –≤—Å–µ–≥–æ –¥–≤–∏–∂–µ–Ω–∏—è',
                    '–®—Ç–∞–Ω–≥–∞ –¥–æ–ª–∂–Ω–∞ —Å–∫–æ–ª—å–∑–∏—Ç—å –±–ª–∏–∑–∫–æ –∫ —Ç–µ–ª—É',
                    '–ù–∞—á–∏–Ω–∞–π—Ç–µ –¥–≤–∏–∂–µ–Ω–∏–µ —Å –Ω–æ–≥, –∑–∞—Ç–µ–º –≤—ã–ø—Ä—è–º–ª—è–π—Ç–µ —Å–ø–∏–Ω—É',
                    '–í –≤–µ—Ä—Ö–Ω–µ–π —Ç–æ—á–∫–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é –≤—ã–ø—Ä—è–º–∏—Ç–µ—Å—å'
                ],
                '–ü—Ä–∏—Å–µ–¥–∞–Ω–∏—è —Å–æ —à—Ç–∞–Ω–≥–æ–π': [
                    '–ö–æ–ª–µ–Ω–∏ –∏–¥—É—Ç –≤ –æ–¥–Ω–æ–º –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ —Å –Ω–æ—Å–∫–∞–º–∏',
                    '–û–ø—É—Å–∫–∞–π—Ç–µ—Å—å –¥–æ –ø–∞—Ä–∞–ª–ª–µ–ª–∏ –±–µ–¥–µ—Ä —Å –ø–æ–ª–æ–º',
                    '–î–µ—Ä–∂–∏—Ç–µ –≥—Ä—É–¥—å –ø—Ä–∏–ø–æ–¥–Ω—è—Ç–æ–π',
                    '–í—ã—Ö–æ–¥–∏—Ç–µ –∏–∑ –ø—Ä–∏—Å–µ–¥–∞ –ø—è—Ç–∫–∞–º–∏'
                ],
                'default': [
                    '–ö–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–π—Ç–µ —Ç–µ—Ö–Ω–∏–∫—É –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è',
                    '–î—ã—à–∏—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ',
                    '–ù–µ —Ç–æ—Ä–æ–ø–∏—Ç–µ—Å—å —Å —É–≤–µ–ª–∏—á–µ–Ω–∏–µ–º –≤–µ—Å–∞',
                    '–ß—É–≤—Å—Ç–≤—É–π—Ç–µ —Ä–∞–±–æ—Ç—É —Ü–µ–ª–µ–≤—ã—Ö –º—ã—à—Ü'
                ]
            };
            
            return tips[exerciseName] || tips['default'];
        }

        // === –°–ò–°–¢–ï–ú–ê –ü–†–û–ì–†–ï–°–°–ò–ò ===

        // –ó–∞–ø–∏—Å–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è
        window.logExerciseProgress = function(exerciseName, weight, reps, sets) {
            const today = new Date().toISOString().split('T')[0];
            
            if (!userData.exerciseProgress[exerciseName]) {
                userData.exerciseProgress[exerciseName] = {};
            }
            
            userData.exerciseProgress[exerciseName][today] = {
                weight: parseFloat(weight) || 0,
                reps: parseInt(reps) || 0,
                sets: parseInt(sets) || 0,
                timestamp: new Date().toISOString()
            };
            
            updatePersonalRecords(exerciseName, weight, reps, sets);
            saveUserData();
        }

        // –û–±–Ω–æ–≤–∏—Ç—å –ª–∏—á–Ω—ã–µ —Ä–µ–∫–æ—Ä–¥—ã
        function updatePersonalRecords(exerciseName, weight, reps, sets) {
            if (!userData.personalRecords[exerciseName]) {
                userData.personalRecords[exerciseName] = {
                    maxWeight: 0,
                    maxReps: 0,
                    maxVolume: 0,
                    achievements: []
                };
            }
            
            const record = userData.personalRecords[exerciseName];
            const volume = (parseFloat(weight) || 0) * (parseInt(reps) || 0) * (parseInt(sets) || 0);
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–æ–≤—ã–µ —Ä–µ–∫–æ—Ä–¥—ã
            let newAchievements = [];
            
            if (parseFloat(weight) > record.maxWeight) {
                record.maxWeight = parseFloat(weight);
                newAchievements.push(`–ù–æ–≤—ã–π —Ä–µ–∫–æ—Ä–¥ –≤–µ—Å–∞: ${weight} –∫–≥!`);
            }
            
            if (parseInt(reps) > record.maxReps) {
                record.maxReps = parseInt(reps);
                newAchievements.push(`–ù–æ–≤—ã–π —Ä–µ–∫–æ—Ä–¥ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–π: ${reps}!`);
            }
            
            if (volume > record.maxVolume) {
                record.maxVolume = volume;
                newAchievements.push(`–ù–æ–≤—ã–π —Ä–µ–∫–æ—Ä–¥ –æ–±—ä–µ–º–∞: ${volume.toFixed(1)} –∫–≥√ó–ø–æ–≤—Ç!`);
            }
            
            // –î–æ–±–∞–≤–ª—è–µ–º –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è
            if (newAchievements.length > 0) {
                record.achievements.push({
                    date: new Date().toISOString(),
                    achievements: newAchievements
                });
                
                showNotification('üèÜ –ù–æ–≤—ã–π —Ä–µ–∫–æ—Ä–¥!', newAchievements.join(' '));
            }
        }

        // –ü–æ–ª—É—á–∏—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è
        function getLastExerciseResult(exerciseName) {
            const progress = userData.exerciseProgress[exerciseName];
            if (!progress) return null;
            
            const dates = Object.keys(progress).sort().reverse();
            return dates.length > 0 ? progress[dates[0]] : null;
        }

        // –ü–æ–∫–∞–∑–∞—Ç—å —Ñ–æ—Ä–º—É –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è
        window.showProgressForm = function(exerciseIndex) {
            const exercise = workoutPrograms[currentDay].exercises[exerciseIndex];
            const lastResult = getLastExerciseResult(exercise.name);
            const record = userData.personalRecords[exercise.name];
            
            const modalContent = `
                <div style="display: grid; gap: 16px;">
                    <div style="background: var(--bg-card); padding: 16px; border-radius: 8px;">
                        <h4 style="margin-bottom: 12px;">–ó–∞–ø–∏—à–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç</h4>
                        <form onsubmit="submitProgress(event, '${exercise.name}', ${exerciseIndex})" style="display: grid; gap: 12px;">
                            <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px;">
                                <div>
                                    <label style="font-size: 12px; color: var(--text-secondary);">–í–µ—Å (–∫–≥)</label>
                                    <input type="number" id="weight-input" step="0.5" min="0" 
                                           value="${lastResult?.weight || ''}" 
                                           style="width: 100%; padding: 8px; background: var(--bg-secondary); border: 1px solid var(--bg-primary); border-radius: 4px; color: var(--text-primary);">
                                </div>
                                <div>
                                    <label style="font-size: 12px; color: var(--text-secondary);">–ü–æ–≤—Ç–æ—Ä–µ–Ω–∏—è</label>
                                    <input type="number" id="reps-input" min="1" 
                                           value="${lastResult?.reps || exercise.reps.split('-')[0] || ''}" 
                                           style="width: 100%; padding: 8px; background: var(--bg-secondary); border: 1px solid var(--bg-primary); border-radius: 4px; color: var(--text-primary);">
                                </div>
                                <div>
                                    <label style="font-size: 12px; color: var(--text-secondary);">–ü–æ–¥—Ö–æ–¥—ã</label>
                                    <input type="number" id="sets-input" min="1" 
                                           value="${exercise.sets}" 
                                           style="width: 100%; padding: 8px; background: var(--bg-secondary); border: 1px solid var(--bg-primary); border-radius: 4px; color: var(--text-primary);">
                                </div>
                            </div>
                            <button type="submit" class="btn btn-primary">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç</button>
                        </form>
                    </div>
                    
                    ${lastResult ? `
                        <div style="background: var(--bg-card); padding: 16px; border-radius: 8px;">
                            <h4 style="margin-bottom: 8px;">–ü–æ—Å–ª–µ–¥–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç</h4>
                            <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 8px; font-size: 14px;">
                                <div><strong>–í–µ—Å:</strong> ${lastResult.weight} –∫–≥</div>
                                <div><strong>–ü–æ–≤—Ç–æ—Ä–µ–Ω–∏—è:</strong> ${lastResult.reps}</div>
                                <div><strong>–ü–æ–¥—Ö–æ–¥—ã:</strong> ${lastResult.sets}</div>
                            </div>
                        </div>
                    ` : ''}
                    
                    ${record ? `
                        <div style="background: var(--bg-card); padding: 16px; border-radius: 8px;">
                            <h4 style="margin-bottom: 8px;">üèÜ –õ–∏—á–Ω—ã–µ —Ä–µ–∫–æ—Ä–¥—ã</h4>
                            <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 8px; font-size: 14px;">
                                <div><strong>–ú–∞–∫—Å. –≤–µ—Å:</strong> ${record.maxWeight} –∫–≥</div>
                                <div><strong>–ú–∞–∫—Å. –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏—è:</strong> ${record.maxReps}</div>
                                <div><strong>–ú–∞–∫—Å. –æ–±—ä–µ–º:</strong> ${record.maxVolume.toFixed(1)}</div>
                            </div>
                        </div>
                    ` : ''}
                </div>
            `;
            
            openModal(`–ü—Ä–æ–≥—Ä–µ—Å—Å: ${exercise.name}`, modalContent);
        }

        // –û—Ç–ø—Ä–∞–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
        window.submitProgress = function(event, exerciseName, exerciseIndex) {
            event.preventDefault();
            
            const weight = document.getElementById('weight-input').value;
            const reps = document.getElementById('reps-input').value;
            const sets = document.getElementById('sets-input').value;
            
            if (!reps || !sets) {
                alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è');
                return;
            }
            
            logExerciseProgress(exerciseName, weight, reps, sets);
            completeExercise(currentDay, exerciseIndex);
            closeModal();
            
            showNotification('‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω', `${exerciseName}: ${weight}–∫–≥ √ó ${reps} √ó ${sets}`);
        }

        // –†–∞—Å—Å—á–∏—Ç–∞—Ç—å –∫–∞–ª–æ—Ä–∏–∏ –¥–ª—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏
        function calculateCalories(day) {
            const program = workoutPrograms[day];
            if (!program || program.isRest) return 0;
            
            // –ü—Ä–∏–º–µ—Ä–Ω—ã–π —Ä–∞—Å—á–µ—Ç –∫–∞–ª–æ—Ä–∏–π –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ç–∏–ø–∞ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π –∏ –≤—Ä–µ–º–µ–Ω–∏
            const baseCaloriesPerMinute = {
                '–†–∞–∑–º–∏–Ω–∫–∞': 3,
                '–ì—Ä—É–¥—å': 8,
                '–°–ø–∏–Ω–∞': 9,
                '–ù–æ–≥–∏': 12,
                '–ü–ª–µ—á–∏': 6,
                '–¢—Ä–∏—Ü–µ–ø—Å': 5,
                '–ë–∏—Ü–µ–ø—Å': 5,
                '–ü—Ä–µ–¥–ø–ª–µ—á—å—è': 3,
                '–ò–∫—Ä—ã': 4,
                '–ö–æ—Ä': 6,
                '–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ': 10,
                '–ü–ª–∏–æ–º–µ—Ç—Ä–∏–∫–∞': 15,
                '–°—É–ø–µ—Ä—Å–µ—Ç': 12,
                '–ö—Ä—É–≥–æ–≤–∞—è': 14,
                '–ö–∞—Ä–¥–∏–æ': 10,
                '–ö–æ–º–ø–ª–µ–∫—Å': 11,
                '–ò–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ–µ': 16,
                '–í—ã–Ω–æ—Å–ª–∏–≤–æ—Å—Ç—å': 9,
                '–ó–∞–º–∏–Ω–∫–∞': 2
            };
            
            let totalCalories = 0;
            
            program.exercises.forEach(exercise => {
                const caloriesPerMinute = baseCaloriesPerMinute[exercise.category] || 6;
                const exerciseTime = (exercise.sets * 0.5) + (exercise.rest / 60); // –ø—Ä–∏–º–µ—Ä–Ω–æ–µ –≤—Ä–µ–º—è –≤ –º–∏–Ω—É—Ç–∞—Ö
                totalCalories += caloriesPerMinute * exerciseTime;
            });
            
            return Math.round(totalCalories);
        }

        // –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏
        function formatTime(seconds) {
            const minutes = Math.floor(seconds / 60);
            const secs = seconds % 60;
            return `${minutes}:${secs.toString().padStart(2, '0')}`;
        }

        // –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è
        window.completeExercise = function(day, exerciseIndex) {
            const key = `${day}-${exerciseIndex}`;
            if (!userData.completedExercises[key]) {
                userData.completedExercises[key] = true;
                saveUserData();
                
                // –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–∞–≤–µ—Ä—à–µ–Ω–Ω–æ—Å—Ç—å –¥–Ω—è
                const dayProgram = workoutPrograms[day];
                if (dayProgram && !dayProgram.isRest) {
                    const totalExercises = dayProgram.exercises.length;
                    const completedCount = Object.keys(userData.completedExercises)
                        .filter(k => k.startsWith(`${day}-`)).length;
                    
                    if (completedCount >= totalExercises) {
                        completeDay(day);
                    }
                }
            }
        }

        // –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –¥–Ω—è
        function completeDay(day) {
            if (!userData.completedDays.includes(day)) {
                userData.completedDays.push(day);
                userData.totalWorkouts++;
                
                // –ó–∞–ø–∏—Å—ã–≤–∞–µ–º –≤ –∏—Å—Ç–æ—Ä–∏—é —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫
                const workoutRecord = {
                    date: new Date().toISOString(),
                    day: day,
                    duration: 120, // –ø—Ä–∏–º–µ—Ä–Ω–∞—è –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
                    calories: calculateCalories(day),
                    exercises: workoutPrograms[day]?.exercises?.length || 0
                };
                
                userData.workoutHistory.push(workoutRecord);
                
                updateStreak();
                saveUserData();
                generateDaySelector();
                
                // –ü–æ–∫–∞–∑–∞—Ç—å –¥–µ—Ç–∞–ª—å–Ω–æ–µ –ø–æ–∑–¥—Ä–∞–≤–ª–µ–Ω–∏–µ
                const program = workoutPrograms[day];
                showNotification(
                    'üéâ –¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞!', 
                    `${program.title}\n–°–æ–∂–∂–µ–Ω–æ ~${workoutRecord.calories} –∫–∞–ª–æ—Ä–∏–π\n–ü—Ä–æ–¥–æ–ª–∂–∞–π—Ç–µ –≤ —Ç–æ–º –∂–µ –¥—É—Ö–µ!`
                );
            }
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–∏–∏
        function updateStreak() {
            let streak = 0;
            const today = new Date().getDay() || 7; // 1-7 (–ü–Ω-–í—Å)
            
            for (let i = today; i >= 1; i--) {
                if (userData.completedDays.includes(i)) {
                    streak++;
                } else {
                    break;
                }
            }
            
            userData.streak = streak;
        }

        // === –ù–ê–í–ò–ì–ê–¶–ò–Ø ===

        window.showWorkout = function() {
            updateNavigation('workout');
            // –õ–æ–≥–∏–∫–∞ —É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –≤—ã—à–µ
        }

        window.showStats = function() {
            updateNavigation('stats');
            openModal('–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞', generateStatsContent());
        }

        window.showNutrition = function() {
            updateNavigation('nutrition');
            openModal('–ü–∏—Ç–∞–Ω–∏–µ –∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ', generateNutritionContent());
        }

        window.showSettings = function() {
            updateNavigation('settings');
            openModal('–ù–∞—Å—Ç—Ä–æ–π–∫–∏', generateSettingsContent());
        }

        function updateNavigation(active) {
            document.querySelectorAll('.nav-item').forEach((item, index) => {
                const sections = ['workout', 'stats', 'nutrition', 'settings'];
                item.classList.toggle('active', sections[index] === active);
            });
        }

        // === –ú–û–î–ê–õ–¨–ù–´–ï –û–ö–ù–ê ===

        window.openModal = function(title, content) {
            document.getElementById('modalTitle').textContent = title;
            document.getElementById('modalContent').innerHTML = content;
            document.getElementById('modal').classList.add('active');
        }

        window.closeModal = function() {
            document.getElementById('modal').classList.remove('active');
        }

        // –ö–æ–Ω—Ç–µ–Ω—Ç –¥–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
        function generateStatsContent() {
            const totalCalories = userData.workoutHistory.reduce((sum, workout) => sum + (workout.calories || 0), 0);
            const avgWorkoutDuration = userData.workoutHistory.length > 0 
                ? userData.workoutHistory.reduce((sum, w) => sum + (w.duration || 0), 0) / userData.workoutHistory.length 
                : 0;
            
            return `
                <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 16px; margin-bottom: 24px;">
                    <div style="text-align: center; padding: 16px; background: var(--bg-card); border-radius: 8px;">
                        <div style="font-size: 24px; font-weight: bold; color: var(--accent-primary);">${userData.totalWorkouts}</div>
                        <div style="font-size: 12px; color: var(--text-secondary);">–¢—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>
                    </div>
                    <div style="text-align: center; padding: 16px; background: var(--bg-card); border-radius: 8px;">
                        <div style="font-size: 24px; font-weight: bold; color: var(--accent-secondary);">${userData.streak}</div>
                        <div style="font-size: 12px; color: var(--text-secondary);">–î–Ω–µ–π –ø–æ–¥—Ä—è–¥</div>
                    </div>
                    <div style="text-align: center; padding: 16px; background: var(--bg-card); border-radius: 8px;">
                        <div style="font-size: 24px; font-weight: bold; color: var(--accent-primary);">${totalCalories}</div>
                        <div style="font-size: 12px; color: var(--text-secondary);">–°–æ–∂–∂–µ–Ω–æ –∫–∞–ª–æ—Ä–∏–π</div>
                    </div>
                    <div style="text-align: center; padding: 16px; background: var(--bg-card); border-radius: 8px;">
                        <div style="font-size: 24px; font-weight: bold; color: var(--accent-secondary);">${Math.round(avgWorkoutDuration)}</div>
                        <div style="font-size: 12px; color: var(--text-secondary);">–ú–∏–Ω/—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>
                    </div>
                </div>
                
                <div style="background: var(--bg-card); padding: 16px; border-radius: 8px; margin-bottom: 16px;">
                    <h3 style="margin-bottom: 16px;">üèÜ –õ–∏—á–Ω—ã–µ —Ä–µ–∫–æ—Ä–¥—ã</h3>
                    ${Object.keys(userData.personalRecords).length > 0 ? `
                        <div style="display: grid; gap: 8px;">
                            ${Object.entries(userData.personalRecords).slice(0, 5).map(([exercise, record]) => `
                                <div style="display: flex; justify-content: space-between; align-items: center; padding: 8px; background: var(--bg-secondary); border-radius: 4px;">
                                    <span style="font-size: 14px;">${exercise}</span>
                                    <div style="font-size: 12px; color: var(--accent-primary);">
                                        ${record.maxWeight > 0 ? record.maxWeight + '–∫–≥' : ''} 
                                        ${record.maxReps > 0 ? '√ó ' + record.maxReps : ''}
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                    ` : '<p style="color: var(--text-secondary); font-size: 14px;">–ù–∞—á–Ω–∏—Ç–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∞—Ç—å—Å—è, —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å —Å–≤–æ–∏ —Ä–µ–∫–æ—Ä–¥—ã!</p>'}
                </div>
                
                <div style="background: var(--bg-card); padding: 16px; border-radius: 8px; margin-bottom: 16px;">
                    <h3 style="margin-bottom: 16px;">üìà –ü—Ä–æ–≥—Ä–µ—Å—Å –Ω–µ–¥–µ–ª–∏</h3>
                    <div style="display: flex; gap: 8px; flex-wrap: wrap;">
                        ${[1,2,3,4,5,6,7].map(day => {
                            const isCompleted = userData.completedDays.includes(day);
                            const dayProgram = workoutPrograms[day];
                            return `
                                <div style="
                                    width: 40px; 
                                    height: 40px; 
                                    border-radius: 50%; 
                                    display: flex; 
                                    align-items: center; 
                                    justify-content: center;
                                    background: ${isCompleted ? 'var(--accent-secondary)' : 'var(--bg-secondary)'};
                                    color: ${isCompleted ? 'white' : 'var(--text-secondary)'};
                                    font-weight: bold;
                                    position: relative;
                                " title="${dayProgram?.title || '–î–µ–Ω—å ' + day}">
                                    ${day}
                                    ${isCompleted ? '<div style="position: absolute; bottom: -2px; right: -2px; background: var(--accent-primary); border-radius: 50%; width: 12px; height: 12px; font-size: 8px; display: flex; align-items: center; justify-content: center;">‚úì</div>' : ''}
                                </div>
                            `;
                        }).join('')}
                    </div>
                </div>
                
                <button class="btn btn-primary" onclick="showProgressDetails()" style="width: 100%; margin-bottom: 8px;">
                    üìä –ü–æ–¥—Ä–æ–±–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
                </button>
                <button class="btn btn-secondary" onclick="showBodyMeasurements()" style="width: 100%;">
                    üìè –ó–∞–º–µ—Ä—ã —Ç–µ–ª–∞
                </button>
            `;
        }

        // –ö–æ–Ω—Ç–µ–Ω—Ç –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–µ–∫
        function generateSettingsContent() {
            return `
                <div style="display: flex; flex-direction: column; gap: 16px;">
                    <button class="btn btn-secondary" onclick="requestNotificationPermission()">
                        –†–∞–∑—Ä–µ—à–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
                    </button>
                    <button class="btn btn-secondary" onclick="resetProgress()">
                        –°–±—Ä–æ—Å–∏—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å
                    </button>
                    <button class="btn btn-secondary" onclick="exportData()">
                        –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö
                    </button>
                    <div style="margin-top: 24px; padding: 16px; background: var(--bg-card); border-radius: 8px;">
                        <h4 style="margin-bottom: 8px;">–û –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏</h4>
                        <p style="font-size: 14px; color: var(--text-secondary); line-height: 1.5;">
                            FitnessPro v2.0.0<br>
                            –ü–æ–ª–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏ —Ç–µ–ª–∞<br>
                            ‚úÖ 7-–¥–Ω–µ–≤–Ω—ã–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ (2 —á–∞—Å–∞)<br>
                            ‚úÖ –°–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å–∏–∏ –∏ —Ä–µ–∫–æ—Ä–¥–æ–≤<br>
                            ‚úÖ –°–ø–æ—Ä—Ç–∏–≤–Ω–æ–µ –ø–∏—Ç–∞–Ω–∏–µ –∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ<br>
                            ‚úÖ –ó–∞–º–µ—Ä—ã —Ç–µ–ª–∞ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞<br><br>
                            –†–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–æ —Å ‚ù§Ô∏è –¥–ª—è –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –≤–∞—à–∏—Ö —Ü–µ–ª–µ–π
                        </p>
                    </div>
                </div>
            `;
        }

        // === –§–£–ù–ö–¶–ò–ò –ù–ê–°–¢–†–û–ï–ö ===

        window.requestNotificationPermission = function() {
            if ('Notification' in window) {
                Notification.requestPermission().then(permission => {
                    showNotification('–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è', 
                        permission === 'granted' ? '–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —Ä–∞–∑—Ä–µ—à–µ–Ω—ã!' : '–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ—Ç–∫–ª–æ–Ω–µ–Ω—ã');
                });
            }
        }

        window.resetProgress = function() {
            if (confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —Å–±—Ä–æ—Å–∏—Ç—å –≤–µ—Å—å –ø—Ä–æ–≥—Ä–µ—Å—Å?')) {
                userData = {
                    completedDays: [],
                    completedExercises: {},
                    streak: 0,
                    totalWorkouts: 0
                };
                saveUserData();
                generateDaySelector();
                loadWorkout(currentDay);
                closeModal();
                showNotification('–ü—Ä–æ–≥—Ä–µ—Å—Å —Å–±—Ä–æ—à–µ–Ω', '–ù–∞—á–Ω–∏—Ç–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∞—Ç—å—Å—è –∑–∞–Ω–æ–≤–æ!');
            }
        }

        window.exportData = function() {
            const dataStr = JSON.stringify(userData, null, 2);
            const dataBlob = new Blob([dataStr], {type:'application/json'});
            const url = URL.createObjectURL(dataBlob);
            const link = document.createElement('a');
            link.href = url;
            link.download = 'fitnesspro_backup.json';
            link.click();
            URL.revokeObjectURL(url);
            showNotification('–≠–∫—Å–ø–æ—Ä—Ç –∑–∞–≤–µ—Ä—à–µ–Ω', '–§–∞–π–ª –∑–∞–≥—Ä—É–∂–µ–Ω –≤ –ø–∞–ø–∫—É –∑–∞–≥—Ä—É–∑–æ–∫');
        }

        // –ü–æ–∫–∞–∑–∞—Ç—å –ø–æ–¥—Ä–æ–±–Ω—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
        window.showProgressDetails = function() {
            const modalContent = `
                <div style="display: grid; gap: 16px;">
                    <div style="background: var(--bg-card); padding: 16px; border-radius: 8px;">
                        <h4 style="margin-bottom: 12px;">üìà –ü—Ä–æ–≥—Ä–µ—Å—Å –ø–æ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è–º</h4>
                        ${Object.keys(userData.exerciseProgress).length > 0 ? `
                            <div style="display: grid; gap: 8px; max-height: 200px; overflow-y: auto;">
                                ${Object.entries(userData.exerciseProgress).map(([exercise, progress]) => {
                                    const dates = Object.keys(progress).sort();
                                    const lastSession = progress[dates[dates.length - 1]];
                                    const firstSession = progress[dates[0]];
                                    const improvement = lastSession && firstSession ? 
                                        ((lastSession.weight || 0) - (firstSession.weight || 0)) : 0;
                                    
                                    return `
                                        <div style="padding: 8px; background: var(--bg-secondary); border-radius: 4px;">
                                            <div style="font-weight: bold; margin-bottom: 4px;">${exercise}</div>
                                            <div style="font-size: 12px; color: var(--text-secondary);">
                                                –°–µ—Å—Å–∏–π: ${dates.length} | 
                                                –ü—Ä–æ–≥—Ä–µ—Å—Å: ${improvement > 0 ? '+' + improvement : improvement} –∫–≥
                                            </div>
                                        </div>
                                    `;
                                }).join('')}
                            </div>
                        ` : '<p style="color: var(--text-secondary);">–î–∞–Ω–Ω—ã—Ö –ø–æ–∫–∞ –Ω–µ—Ç. –ù–∞—á–Ω–∏—Ç–µ –∑–∞–ø–∏—Å—ã–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã!</p>'}
                    </div>
                    
                    <div style="background: var(--bg-card); padding: 16px; border-radius: 8px;">
                        <h4 style="margin-bottom: 12px;">üèÜ –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è</h4>
                        ${Object.values(userData.personalRecords).some(r => r.achievements?.length > 0) ? `
                            <div style="max-height: 150px; overflow-y: auto;">
                                ${Object.entries(userData.personalRecords)
                                    .filter(([_, record]) => record.achievements?.length > 0)
                                    .map(([exercise, record]) => 
                                        record.achievements.map(achievement => `
                                            <div style="padding: 6px; margin-bottom: 6px; background: var(--bg-secondary); border-radius: 4px; font-size: 12px;">
                                                <strong>${exercise}:</strong> ${achievement.achievements.join(', ')}
                                                <div style="color: var(--text-secondary);">${new Date(achievement.date).toLocaleDateString()}</div>
                                            </div>
                                        `).join('')
                                    ).join('')}
                            </div>
                        ` : '<p style="color: var(--text-secondary);">–ü–æ—Å—Ç–∞–≤—å—Ç–µ —Å–≤–æ–π –ø–µ—Ä–≤—ã–π —Ä–µ–∫–æ—Ä–¥!</p>'}
                    </div>
                </div>
            `;
            
            openModal('–ü–æ–¥—Ä–æ–±–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞', modalContent);
        }

        // –ü–æ–∫–∞–∑–∞—Ç—å –∑–∞–º–µ—Ä—ã —Ç–µ–ª–∞
        window.showBodyMeasurements = function() {
            const today = new Date().toISOString().split('T')[0];
            const lastMeasurement = userData.bodyMeasurements[today] || {};
            
            const modalContent = `
                <div style="display: grid; gap: 16px;">
                    <div style="background: var(--bg-card); padding: 16px; border-radius: 8px;">
                        <h4 style="margin-bottom: 12px;">üìè –ó–∞–ø–∏—Å–∞—Ç—å –∑–∞–º–µ—Ä—ã</h4>
                        <form onsubmit="saveMeasurements(event)" style="display: grid; gap: 12px;">
                            <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 12px;">
                                <div>
                                    <label style="font-size: 12px; color: var(--text-secondary);">–í–µ—Å (–∫–≥)</label>
                                    <input type="number" id="weight-measurement" step="0.1" 
                                           value="${lastMeasurement.weight || ''}"
                                           style="width: 100%; padding: 8px; background: var(--bg-secondary); border: 1px solid var(--bg-primary); border-radius: 4px; color: var(--text-primary);">
                                </div>
                                <div>
                                    <label style="font-size: 12px; color: var(--text-secondary);">% –∂–∏—Ä–∞</label>
                                    <input type="number" id="bodyfat-measurement" step="0.1" min="0" max="50"
                                           value="${lastMeasurement.bodyFat || ''}"
                                           style="width: 100%; padding: 8px; background: var(--bg-secondary); border: 1px solid var(--bg-primary); border-radius: 4px; color: var(--text-primary);">
                                </div>
                                <div>
                                    <label style="font-size: 12px; color: var(--text-secondary);">–ì—Ä—É–¥—å (—Å–º)</label>
                                    <input type="number" id="chest-measurement" step="0.5"
                                           value="${lastMeasurement.chest || ''}"
                                           style="width: 100%; padding: 8px; background: var(--bg-secondary); border: 1px solid var(--bg-primary); border-radius: 4px; color: var(--text-primary);">
                                </div>
                                <div>
                                    <label style="font-size: 12px; color: var(--text-secondary);">–¢–∞–ª–∏—è (—Å–º)</label>
                                    <input type="number" id="waist-measurement" step="0.5"
                                           value="${lastMeasurement.waist || ''}"
                                           style="width: 100%; padding: 8px; background: var(--bg-secondary); border: 1px solid var(--bg-primary); border-radius: 4px; color: var(--text-primary);">
                                </div>
                                <div>
                                    <label style="font-size: 12px; color: var(--text-secondary);">–ë–∏—Ü–µ–ø—Å (—Å–º)</label>
                                    <input type="number" id="bicep-measurement" step="0.5"
                                           value="${lastMeasurement.bicep || ''}"
                                           style="width: 100%; padding: 8px; background: var(--bg-secondary); border: 1px solid var(--bg-primary); border-radius: 4px; color: var(--text-primary);">
                                </div>
                                <div>
                                    <label style="font-size: 12px; color: var(--text-secondary);">–ë–µ–¥—Ä–æ (—Å–º)</label>
                                    <input type="number" id="thigh-measurement" step="0.5"
                                           value="${lastMeasurement.thigh || ''}"
                                           style="width: 100%; padding: 8px; background: var(--bg-secondary); border: 1px solid var(--bg-primary); border-radius: 4px; color: var(--text-primary);">
                                </div>
                            </div>
                            <button type="submit" class="btn btn-primary">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∑–∞–º–µ—Ä—ã</button>
                        </form>
                    </div>
                    
                    ${Object.keys(userData.bodyMeasurements).length > 0 ? `
                        <div style="background: var(--bg-card); padding: 16px; border-radius: 8px;">
                            <h4 style="margin-bottom: 8px;">üìä –ò—Å—Ç–æ—Ä–∏—è –∑–∞–º–µ—Ä–æ–≤</h4>
                            <div style="max-height: 150px; overflow-y: auto; font-size: 12px;">
                                ${Object.entries(userData.bodyMeasurements)
                                    .sort(([a], [b]) => new Date(b) - new Date(a))
                                    .slice(0, 5)
                                    .map(([date, measurements]) => `
                                        <div style="padding: 6px; margin-bottom: 4px; background: var(--bg-secondary); border-radius: 4px;">
                                            <strong>${new Date(date).toLocaleDateString()}</strong><br>
                                            ${Object.entries(measurements).filter(([_, v]) => v).map(([key, value]) => 
                                                `${key}: ${value}${key === 'weight' ? '–∫–≥' : key === 'bodyFat' ? '%' : '—Å–º'}`
                                            ).join(' | ')}
                                        </div>
                                    `).join('')}
                            </div>
                        </div>
                    ` : ''}
                </div>
            `;
            
            openModal('–ó–∞–º–µ—Ä—ã —Ç–µ–ª–∞', modalContent);
        }

        // –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∑–∞–º–µ—Ä—ã
        window.saveMeasurements = function(event) {
            event.preventDefault();
            
            const today = new Date().toISOString().split('T')[0];
            const measurements = {
                weight: parseFloat(document.getElementById('weight-measurement').value) || null,
                bodyFat: parseFloat(document.getElementById('bodyfat-measurement').value) || null,
                chest: parseFloat(document.getElementById('chest-measurement').value) || null,
                waist: parseFloat(document.getElementById('waist-measurement').value) || null,
                bicep: parseFloat(document.getElementById('bicep-measurement').value) || null,
                thigh: parseFloat(document.getElementById('thigh-measurement').value) || null
            };
            
            // –£–¥–∞–ª—è–µ–º null –∑–Ω–∞—á–µ–Ω–∏—è
            Object.keys(measurements).forEach(key => {
                if (measurements[key] === null) delete measurements[key];
            });
            
            if (Object.keys(measurements).length > 0) {
                userData.bodyMeasurements[today] = measurements;
                saveUserData();
                closeModal();
                showNotification('‚úÖ –ó–∞–º–µ—Ä—ã —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã', `–ó–∞–ø–∏—Å–∞–Ω–æ ${Object.keys(measurements).length} –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤`);
            } else {
                alert('–ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ö–æ—Ç—è –±—ã –æ–¥–Ω–æ –ø–æ–ª–µ');
            }
        }

        // === –ü–ò–¢–ê–ù–ò–ï –ò –í–û–°–°–¢–ê–ù–û–í–õ–ï–ù–ò–ï ===
        
        // –ö–æ–Ω—Ç–µ–Ω—Ç –¥–ª—è –ø–∏—Ç–∞–Ω–∏—è
        function generateNutritionContent() {
            return `
                <div style="display: grid; gap: 16px;">
                    <!-- –û—Å–Ω–æ–≤–Ω—ã–µ –¥–æ–±–∞–≤–∫–∏ -->
                    <div style="background: var(--bg-card); padding: 16px; border-radius: 8px;">
                        <h3 style="margin-bottom: 12px; color: var(--accent-primary);">üíä –û—Å–Ω–æ–≤–Ω—ã–µ –¥–æ–±–∞–≤–∫–∏</h3>
                        
                        <div style="display: grid; gap: 12px;">
                            <div style="background: var(--bg-secondary); padding: 12px; border-radius: 6px; border-left: 4px solid #10B981;">
                                <h4 style="color: #10B981; margin-bottom: 6px;">ü•© –ü—Ä–æ—Ç–µ–∏–Ω (Whey/Casein)</h4>
                                <p style="font-size: 14px; color: var(--text-secondary); margin-bottom: 6px;">
                                    <strong>–î–æ–∑–∏—Ä–æ–≤–∫–∞:</strong> 25-30–≥ –ø–æ—Å–ª–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏, 20-25–≥ –ø–µ—Ä–µ–¥ —Å–Ω–æ–º (–∫–∞–∑–µ–∏–Ω)
                                </p>
                                <p style="font-size: 12px; color: var(--text-secondary);">
                                    –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –º—ã—à—Ü—ã, —Å—Ç–∏–º—É–ª–∏—Ä—É–µ—Ç —Å–∏–Ω—Ç–µ–∑ –±–µ–ª–∫–∞. Whey - –±—ã—Å—Ç—Ä—ã–π, Casein - –º–µ–¥–ª–µ–Ω–Ω—ã–π.
                                </p>
                            </div>

                            <div style="background: var(--bg-secondary); padding: 12px; border-radius: 6px; border-left: 4px solid #3B82F6;">
                                <h4 style="color: #3B82F6; margin-bottom: 6px;">‚ö° –ö—Ä–µ–∞—Ç–∏–Ω –º–æ–Ω–æ–≥–∏–¥—Ä–∞—Ç</h4>
                                <p style="font-size: 14px; color: var(--text-secondary); margin-bottom: 6px;">
                                    <strong>–î–æ–∑–∏—Ä–æ–≤–∫–∞:</strong> 3-5–≥ –µ–∂–µ–¥–Ω–µ–≤–Ω–æ, –º–æ–∂–Ω–æ —Å —É–≥–ª–µ–≤–æ–¥–∞–º–∏
                                </p>
                                <p style="font-size: 12px; color: var(--text-secondary);">
                                    –£–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç —Å–∏–ª—É, –º–æ—â–Ω–æ—Å—Ç—å –∏ –æ–±—ä–µ–º –º—ã—à—Ü. –ù–∞—É—á–Ω–æ –¥–æ–∫–∞–∑–∞–Ω–Ω–∞—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å.
                                </p>
                            </div>

                            <div style="background: var(--bg-secondary); padding: 12px; border-radius: 6px; border-left: 4px solid #F59E0B;">
                                <h4 style="color: #F59E0B; margin-bottom: 6px;">üêü –û–º–µ–≥–∞-3 (EPA/DHA)</h4>
                                <p style="font-size: 14px; color: var(--text-secondary); margin-bottom: 6px;">
                                    <strong>–î–æ–∑–∏—Ä–æ–≤–∫–∞:</strong> 2-3–≥ –≤ –¥–µ–Ω—å (1-2–≥ EPA + 0.5-1–≥ DHA)
                                </p>
                                <p style="font-size: 12px; color: var(--text-secondary);">
                                    –£–º–µ–Ω—å—à–∞–µ—Ç –≤–æ—Å–ø–∞–ª–µ–Ω–∏–µ, —É—Å–∫–æ—Ä—è–µ—Ç –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ, —É–ª—É—á—à–∞–µ—Ç —Å—É—Å—Ç–∞–≤—ã.
                                </p>
                            </div>
                        </div>
                    </div>

                    <!-- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–æ–±–∞–≤–∫–∏ -->
                    <div style="background: var(--bg-card); padding: 16px; border-radius: 8px;">
                        <h3 style="margin-bottom: 12px; color: var(--accent-secondary);">üß™ –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–æ–±–∞–≤–∫–∏</h3>
                        
                        <div style="display: grid; gap: 10px;">
                            <div style="background: var(--bg-secondary); padding: 10px; border-radius: 6px;">
                                <h4 style="color: #8B5CF6; margin-bottom: 4px;">üí™ BCAA/EAA</h4>
                                <p style="font-size: 12px; color: var(--text-secondary);">
                                    <strong>10-15–≥ –≤–æ –≤—Ä–µ–º—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏.</strong> –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç —Ä–∞–∑—Ä—É—à–µ–Ω–∏–µ –º—ã—à—Ü.
                                </p>
                            </div>

                            <div style="background: var(--bg-secondary); padding: 10px; border-radius: 6px;">
                                <h4 style="color: #EC4899; margin-bottom: 4px;">üî• L-–ì–ª—é—Ç–∞–º–∏–Ω</h4>
                                <p style="font-size: 12px; color: var(--text-secondary);">
                                    <strong>5-10–≥ –ø–æ—Å–ª–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏.</strong> –£—Å–∫–æ—Ä—è–µ—Ç –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∏–º–º—É–Ω–∏—Ç–µ—Ç.
                                </p>
                            </div>

                            <div style="background: var(--bg-secondary); padding: 10px; border-radius: 6px;">
                                <h4 style="color: #14B8A6; margin-bottom: 4px;">üß† –ú–∞–≥–Ω–∏–π + –¶–∏–Ω–∫</h4>
                                <p style="font-size: 12px; color: var(--text-secondary);">
                                    <strong>400–º–≥ Mg + 15–º–≥ Zn –ø–µ—Ä–µ–¥ —Å–Ω–æ–º.</strong> –£–ª—É—á—à–∞–µ—Ç —Å–æ–Ω –∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ.
                                </p>
                            </div>

                            <div style="background: var(--bg-secondary); padding: 10px; border-radius: 6px;">
                                <h4 style="color: #F97316; margin-bottom: 4px;">‚òÄÔ∏è –í–∏—Ç–∞–º–∏–Ω D3</h4>
                                <p style="font-size: 12px; color: var(--text-secondary);">
                                    <strong>2000-4000 –ú–ï –≤ –¥–µ–Ω—å.</strong> –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ç–µ—Å—Ç–æ—Å—Ç–µ—Ä–æ–Ω, –∫–æ—Å—Ç–∏, –∏–º–º—É–Ω–∏—Ç–µ—Ç.
                                </p>
                            </div>
                        </div>
                    </div>

                    <!-- –ü—Ä–µ–¥—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ—á–Ω—ã–µ -->
                    <div style="background: var(--bg-card); padding: 16px; border-radius: 8px;">
                        <h3 style="margin-bottom: 12px; color: #EF4444;">üöÄ –ü—Ä–µ–¥—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ—á–Ω—ã–µ</h3>
                        
                        <div style="display: grid; gap: 10px;">
                            <div style="background: var(--bg-secondary); padding: 10px; border-radius: 6px;">
                                <h4 style="color: #DC2626; margin-bottom: 4px;">‚òï –ö–æ—Ñ–µ–∏–Ω</h4>
                                <p style="font-size: 12px; color: var(--text-secondary);">
                                    <strong>200-400–º–≥ –∑–∞ 30 –º–∏–Ω –¥–æ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏.</strong> –≠–Ω–µ—Ä–≥–∏—è, —Ñ–æ–∫—É—Å, –∂–∏—Ä–æ—Å–∂–∏–≥–∞–Ω–∏–µ.
                                </p>
                            </div>

                            <div style="background: var(--bg-secondary); padding: 10px; border-radius: 6px;">
                                <h4 style="color: #7C3AED; margin-bottom: 4px;">üíú –ë–µ—Ç–∞-–∞–ª–∞–Ω–∏–Ω</h4>
                                <p style="font-size: 12px; color: var(--text-secondary);">
                                    <strong>3-5–≥ –≤ –¥–µ–Ω—å.</strong> –£–º–µ–Ω—å—à–∞–µ—Ç —É—Å—Ç–∞–ª–æ—Å—Ç—å –≤ –º—ã—à—Ü–∞—Ö, —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç –≤—ã–Ω–æ—Å–ª–∏–≤–æ—Å—Ç—å.
                                </p>
                            </div>

                            <div style="background: var(--bg-secondary); padding: 10px; border-radius: 6px;">
                                <h4 style="color: #059669; margin-bottom: 4px;">üåø L-–¶–∏—Ç—Ä—É–ª–ª–∏–Ω</h4>
                                <p style="font-size: 12px; color: var(--text-secondary);">
                                    <strong>6-8–≥ –∑–∞ 30 –º–∏–Ω –¥–æ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏.</strong> –£–ª—É—á—à–∞–µ—Ç –ø–∞–º–ø–∏–Ω–≥ –∏ –∫—Ä–æ–≤–æ—Ç–æ–∫.
                                </p>
                            </div>
                        </div>
                    </div>

                    <!-- –ù–∞—Ç—É—Ä–∞–ª—å–Ω–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ -->
                    <div style="background: var(--bg-card); padding: 16px; border-radius: 8px;">
                        <h3 style="margin-bottom: 12px; color: #10B981;">üå± –ù–∞—Ç—É—Ä–∞–ª—å–Ω–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ</h3>
                        
                        <div style="display: grid; gap: 8px; font-size: 13px;">
                            <div style="background: var(--bg-secondary); padding: 8px; border-radius: 4px;">
                                <strong>üò¥ –°–æ–Ω:</strong> 7-9 —á–∞—Å–æ–≤ –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —Å–Ω–∞ –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–≥–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è
                            </div>
                            <div style="background: var(--bg-secondary); padding: 8px; border-radius: 4px;">
                                <strong>üíß –í–æ–¥–∞:</strong> 35-40–º–ª –Ω–∞ –∫–≥ –≤–µ—Å–∞ + 500-750–º–ª –Ω–∞ –∫–∞–∂–¥—ã–π —á–∞—Å —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏
                            </div>
                            <div style="background: var(--bg-secondary); padding: 8px; border-radius: 4px;">
                                <strong>üçé –ï–¥–∞:</strong> 1.6-2.2–≥ –±–µ–ª–∫–∞ –Ω–∞ –∫–≥ –≤–µ—Å–∞, —Å–ª–æ–∂–Ω—ã–µ —É–≥–ª–µ–≤–æ–¥—ã, –ø–æ–ª–µ–∑–Ω—ã–µ –∂–∏—Ä—ã
                            </div>
                            <div style="background: var(--bg-secondary); padding: 8px; border-radius: 4px;">
                                <strong>üßò‚Äç‚ôÇÔ∏è –°—Ç—Ä–µ—Å—Å:</strong> –ú–µ–¥–∏—Ç–∞—Ü–∏—è, —Ä–∞—Å—Ç—è–∂–∫–∞, –º–∞—Å—Å–∞–∂ –¥–ª—è —Å–Ω–∏–∂–µ–Ω–∏—è –∫–æ—Ä—Ç–∏–∑–æ–ª–∞
                            </div>
                        </div>
                    </div>

                    <!-- –°—Ö–µ–º–∞ –ø—Ä–∏–µ–º–∞ -->
                    <div style="background: var(--bg-card); padding: 16px; border-radius: 8px;">
                        <h3 style="margin-bottom: 12px; color: var(--accent-primary);">üìÖ –°—Ö–µ–º–∞ –ø—Ä–∏–µ–º–∞</h3>
                        <button class="btn btn-primary" onclick="showSupplementSchedule()" style="width: 100%; margin-bottom: 8px;">
                            –ü–æ–∫–∞–∑–∞—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–∏–µ–º–∞
                        </button>
                        <button class="btn btn-secondary" onclick="showNutritionTips()" style="width: 100%;">
                            –°–æ–≤–µ—Ç—ã –ø–æ –ø–∏—Ç–∞–Ω–∏—é
                        </button>
                    </div>

                    <!-- –í–∞–∂–Ω–æ–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ -->
                    <div style="background: #FEF3C7; color: #92400E; padding: 12px; border-radius: 8px; border-left: 4px solid #F59E0B;">
                        <h4 style="margin-bottom: 6px;">‚ö†Ô∏è –í–∞–∂–Ω–æ!</h4>
                        <p style="font-size: 12px; line-height: 1.4;">
                            –ö–æ–Ω—Å—É–ª—å—Ç–∏—Ä—É–π—Ç–µ—Å—å —Å –≤—Ä–∞—á–æ–º –ø–µ—Ä–µ–¥ –ø—Ä–∏–µ–º–æ–º –¥–æ–±–∞–≤–æ–∫. –î–∞–Ω–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –Ω–æ—Å—è—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–π —Ö–∞—Ä–∞–∫—Ç–µ—Ä –∏ –æ—Å–Ω–æ–≤–∞–Ω—ã –Ω–∞ –Ω–∞—É—á–Ω—ã—Ö –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è—Ö –¥–ª—è –∑–¥–æ—Ä–æ–≤—ã—Ö –≤–∑—Ä–æ—Å–ª—ã—Ö.
                        </p>
                    </div>
                </div>
            `;
        }

        // –ü–æ–∫–∞–∑–∞—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–∏–µ–º–∞ –¥–æ–±–∞–≤–æ–∫
        window.showSupplementSchedule = function() {
            const modalContent = `
                <div style="display: grid; gap: 16px;">
                    <div style="background: var(--bg-card); padding: 16px; border-radius: 8px;">
                        <h3 style="margin-bottom: 12px; color: var(--accent-primary);">üåÖ –£—Ç—Ä–æ–º (6:00-8:00)</h3>
                        <ul style="color: var(--text-secondary); font-size: 14px; margin: 0; padding-left: 20px;">
                            <li>–í–∏—Ç–∞–º–∏–Ω D3 (2000-4000 –ú–ï)</li>
                            <li>–û–º–µ–≥–∞-3 (1–≥ —Å –∑–∞–≤—Ç—Ä–∞–∫–æ–º)</li>
                            <li>–ú–∞–≥–Ω–∏–π (200–º–≥ –µ—Å–ª–∏ –Ω–µ –ø—Ä–∏–Ω–∏–º–∞–ª–∏ –Ω–∞ –Ω–æ—á—å)</li>
                        </ul>
                    </div>

                    <div style="background: var(--bg-card); padding: 16px; border-radius: 8px;">
                        <h3 style="margin-bottom: 12px; color: #F59E0B;">üèãÔ∏è‚Äç‚ôÇÔ∏è –ü—Ä–µ–¥—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ—á–Ω–æ (–∑–∞ 30-45 –º–∏–Ω)</h3>
                        <ul style="color: var(--text-secondary); font-size: 14px; margin: 0; padding-left: 20px;">
                            <li>–ö–æ—Ñ–µ–∏–Ω (200-400–º–≥)</li>
                            <li>L-–¶–∏—Ç—Ä—É–ª–ª–∏–Ω (6-8–≥)</li>
                            <li>–ë–µ—Ç–∞-–∞–ª–∞–Ω–∏–Ω (2-3–≥)</li>
                            <li>–ö—Ä–µ–∞—Ç–∏–Ω (3-5–≥ –º–æ–∂–Ω–æ –≤ –ª—é–±–æ–µ –≤—Ä–µ–º—è)</li>
                        </ul>
                    </div>

                    <div style="background: var(--bg-card); padding: 16px; border-radius: 8px;">
                        <h3 style="margin-bottom: 12px; color: #10B981;">üèÉ‚Äç‚ôÇÔ∏è –í–æ –≤—Ä–µ–º—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏</h3>
                        <ul style="color: var(--text-secondary); font-size: 14px; margin: 0; padding-left: 20px;">
                            <li>BCAA/EAA (10-15–≥ –≤ –≤–æ–¥–µ)</li>
                            <li>–≠–ª–µ–∫—Ç—Ä–æ–ª–∏—Ç—ã –ø—Ä–∏ –¥–æ–ª–≥–∏—Ö —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞—Ö</li>
                            <li>–ú–Ω–æ–≥–æ –≤–æ–¥—ã!</li>
                        </ul>
                    </div>

                    <div style="background: var(--bg-card); padding: 16px; border-radius: 8px;">
                        <h3 style="margin-bottom: 12px; color: #8B5CF6;">üçΩÔ∏è –ü–æ—Å–ª–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ (0-30 –º–∏–Ω)</h3>
                        <ul style="color: var(--text-secondary); font-size: 14px; margin: 0; padding-left: 20px;">
                            <li>Whey –ø—Ä–æ—Ç–µ–∏–Ω (25-30–≥)</li>
                            <li>–ë—ã—Å—Ç—Ä—ã–µ —É–≥–ª–µ–≤–æ–¥—ã (–±–∞–Ω–∞–Ω, —Å–æ–∫)</li>
                            <li>L-–ì–ª—é—Ç–∞–º–∏–Ω (5-10–≥)</li>
                            <li>–û–º–µ–≥–∞-3 (1–≥ —Å –µ–¥–æ–π)</li>
                        </ul>
                    </div>

                    <div style="background: var(--bg-card); padding: 16px; border-radius: 8px;">
                        <h3 style="margin-bottom: 12px; color: #6366F1;">üåô –ü–µ—Ä–µ–¥ —Å–Ω–æ–º (–∑–∞ 1-2 —á–∞—Å–∞)</h3>
                        <ul style="color: var(--text-secondary); font-size: 14px; margin: 0; padding-left: 20px;">
                            <li>–ö–∞–∑–µ–∏–Ω–æ–≤—ã–π –ø—Ä–æ—Ç–µ–∏–Ω (20-25–≥)</li>
                            <li>–ú–∞–≥–Ω–∏–π (200-400–º–≥)</li>
                            <li>–¶–∏–Ω–∫ (15–º–≥)</li>
                            <li>–ú–µ–ª–∞—Ç–æ–Ω–∏–Ω (0.5-3–º–≥ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏)</li>
                        </ul>
                    </div>
                </div>
            `;
            
            openModal('–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–∏–µ–º–∞ –¥–æ–±–∞–≤–æ–∫', modalContent);
        }

        // –ü–æ–∫–∞–∑–∞—Ç—å —Å–æ–≤–µ—Ç—ã –ø–æ –ø–∏—Ç–∞–Ω–∏—é
        window.showNutritionTips = function() {
            const modalContent = `
                <div style="display: grid; gap: 16px;">
                    <div style="background: var(--bg-card); padding: 16px; border-radius: 8px;">
                        <h3 style="margin-bottom: 12px; color: var(--accent-primary);">ü•ó –û—Å–Ω–æ–≤—ã –ø–∏—Ç–∞–Ω–∏—è</h3>
                        <div style="display: grid; gap: 10px; font-size: 14px;">
                            <div style="background: var(--bg-secondary); padding: 10px; border-radius: 6px;">
                                <strong>–ë–µ–ª–∫–∏:</strong> 1.6-2.2–≥ –Ω–∞ –∫–≥ –≤–µ—Å–∞ (–∫—É—Ä–∏—Ü–∞, —Ä—ã–±–∞, —è–π—Ü–∞, —Ç–≤–æ—Ä–æ–≥)
                            </div>
                            <div style="background: var(--bg-secondary); padding: 10px; border-radius: 6px;">
                                <strong>–£–≥–ª–µ–≤–æ–¥—ã:</strong> 3-7–≥ –Ω–∞ –∫–≥ –≤–µ—Å–∞ (–æ–≤—Å—è–Ω–∫–∞, —Ä–∏—Å, –≥—Ä–µ—á–∫–∞, —Ñ—Ä—É–∫—Ç—ã)
                            </div>
                            <div style="background: var(--bg-secondary); padding: 10px; border-radius: 6px;">
                                <strong>–ñ–∏—Ä—ã:</strong> 0.8-1.2–≥ –Ω–∞ –∫–≥ –≤–µ—Å–∞ (–æ—Ä–µ—Ö–∏, –∞–≤–æ–∫–∞–¥–æ, –æ–ª–∏–≤–∫–æ–≤–æ–µ –º–∞—Å–ª–æ)
                            </div>
                            <div style="background: var(--bg-secondary); padding: 10px; border-radius: 6px;">
                                <strong>–í–æ–¥–∞:</strong> 35-40–º–ª –Ω–∞ –∫–≥ –≤–µ—Å–∞ + –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –ø—Ä–∏ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞—Ö
                            </div>
                        </div>
                    </div>

                    <div style="background: var(--bg-card); padding: 16px; border-radius: 8px;">
                        <h3 style="margin-bottom: 12px; color: var(--accent-secondary);">‚è∞ –í—Ä–µ–º—è –ø—Ä–∏–µ–º–∞ –ø–∏—â–∏</h3>
                        <div style="display: grid; gap: 8px; font-size: 13px;">
                            <div><strong>–ó–∞ 2-3 —á–∞—Å–∞ –¥–æ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏:</strong> –ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π –ø—Ä–∏–µ–º –ø–∏—â–∏</div>
                            <div><strong>–ó–∞ 30-60 –º–∏–Ω:</strong> –õ–µ–≥–∫–∏–π –ø–µ—Ä–µ–∫—É—Å (–±–∞–Ω–∞–Ω + –∫–æ—Ñ–µ)</div>
                            <div><strong>–ü–æ—Å–ª–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏:</strong> –ë–µ–ª–∫–∏ + —É–≥–ª–µ–≤–æ–¥—ã –≤ —Ç–µ—á–µ–Ω–∏–µ 30 –º–∏–Ω</div>
                            <div><strong>–ü–µ—Ä–µ–¥ —Å–Ω–æ–º:</strong> –ö–∞–∑–µ–∏–Ω –∏–ª–∏ —Ç–≤–æ—Ä–æ–≥ –¥–ª—è –Ω–æ—á–Ω–æ–≥–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è</div>
                        </div>
                    </div>

                    <div style="background: var(--bg-card); padding: 16px; border-radius: 8px;">
                        <h3 style="margin-bottom: 12px; color: #F59E0B;">üö´ –ß–µ–≥–æ –∏–∑–±–µ–≥–∞—Ç—å</h3>
                        <div style="display: grid; gap: 6px; font-size: 13px; color: var(--text-secondary);">
                            <div>‚Ä¢ –ë–æ–ª—å—à–∏–µ –ø–æ—Ä—Ü–∏–∏ –ø–µ—Ä–µ–¥ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–æ–π</div>
                            <div>‚Ä¢ –ò–∑–±—ã—Ç–æ–∫ –ø—Ä–æ—Å—Ç—ã—Ö —Å–∞—Ö–∞—Ä–æ–≤</div>
                            <div>‚Ä¢ –ù–µ–¥–æ—Å—Ç–∞—Ç–æ–∫ –±–µ–ª–∫–∞ –≤ —Ä–∞—Ü–∏–æ–Ω–µ</div>
                            <div>‚Ä¢ –≠–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω—ã–µ –¥–∏–µ—Ç—ã</div>
                            <div>‚Ä¢ –ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–∏ –≤ –∂–∏—Ä–∞—Ö</div>
                        </div>
                    </div>
                </div>
            `;
            
            openModal('–°–æ–≤–µ—Ç—ã –ø–æ –ø–∏—Ç–∞–Ω–∏—é', modalContent);
        }

        // === –£–¢–ò–õ–ò–¢–´ ===

        function showNotification(title, message) {
            if ('Notification' in window && Notification.permission === 'granted') {
                new Notification(title, {
                    body: message,
                    icon: 'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="50" cy="50" r="40" fill="%233B82F6"/><text x="50" y="65" font-size="40" text-anchor="middle" fill="white">üí™</text></svg>'
                });
            } else {
                alert(`${title}: ${message}`);
            }
        }

        function loadUserData() {
            const saved = localStorage.getItem('fitnessPro_userData');
            if (saved) {
                userData = {...userData, ...JSON.parse(saved)};
            }
        }

        function saveUserData() {
            localStorage.setItem('fitnessPro_userData', JSON.stringify(userData));
        }

        function registerServiceWorker() {
            if ('serviceWorker' in navigator && location.protocol !== 'file:') {
                navigator.serviceWorker.register('sw.js')
                    .then(reg => console.log('SW registered'))
                    .catch(err => console.log('SW registration failed'));
            }
        }

        // === –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø ===
        document.addEventListener('DOMContentLoaded', function() {
            initApp();
            registerServiceWorker();
            
            // –ó–∞–ø—Ä–æ—Å–∏—Ç—å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –Ω–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
            if ('Notification' in window && Notification.permission === 'default') {
                setTimeout(() => {
                    Notification.requestPermission();
                }, 2000);
            }
            
            console.log('FitnessPro v1.2.0 - Clean version loaded! üí™');
        });

        // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ –ø–æ –∫–ª–∏–∫—É –Ω–∞ —Ñ–æ–Ω
        document.getElementById('modal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeModal();
            }
        });
    </script>
</body>
</html>
