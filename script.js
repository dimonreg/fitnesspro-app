// –ü—Ä–æ–≥—Ä–∞–º–º—ã —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫
const workoutPrograms = {
    1: {
        title: "–î–µ–Ω—å 1: –ì—Ä—É–¥—å + –¢—Ä–∏—Ü–µ–ø—Å",
        totalTime: 90,
        exercises: [
            {
                phase: "warmup",
                name: "–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è —Ä–∞–∑–º–∏–Ω–∫–∞",
                description: "–ö—Ä—É–≥–æ–≤—ã–µ –¥–≤–∏–∂–µ–Ω–∏—è —Ä—É–∫–∞–º–∏, —Ä–∞–∑–º–∏–Ω–∫–∞ —Å—É—Å—Ç–∞–≤–æ–≤, –ª–µ–≥–∫–∏–µ –æ—Ç–∂–∏–º–∞–Ω–∏—è –æ—Ç —Å—Ç–µ–Ω—ã",
                duration: 300, // 5 –º–∏–Ω—É—Ç –≤ —Å–µ–∫—É–Ω–¥–∞—Ö
                sets: null,
                reps: null,
                tips: "–ü–æ–¥–≥–æ—Ç–æ–≤—å—Ç–µ –ø–ª–µ—á–µ–≤—ã–µ —Å—É—Å—Ç–∞–≤—ã –∏ –≥—Ä—É–¥–Ω—ã–µ –º—ã—à—Ü—ã –∫ –Ω–∞–≥—Ä—É–∑–∫–µ"
            },
            {
                phase: "main",
                name: "–ñ–∏–º —à—Ç–∞–Ω–≥–∏ –ª–µ–∂–∞",
                description: "–õ—è–≥—Ç–µ –Ω–∞ —Å–∫–∞–º—å—é, –æ–ø—É—Å—Ç–∏—Ç–µ —à—Ç–∞–Ω–≥—É –∫ –≥—Ä—É–¥–∏, –≤—ã–∂–º–∏—Ç–µ –≤–≤–µ—Ä—Ö",
                sets: 4,
                reps: "8-12",
                duration: 180,
                weight: () => getPersonalWeight("–ñ–∏–º —à—Ç–∞–Ω–≥–∏ –ª–µ–∂–∞"),
                tips: "–°–≤–µ–¥–∏—Ç–µ –ª–æ–ø–∞—Ç–∫–∏, –Ω–µ –æ—Ç—Ä—ã–≤–∞–π—Ç–µ —Ç–∞–∑ –æ—Ç —Å–∫–∞–º—å–∏",
                muscles: ["–ì—Ä—É–¥—å", "–¢—Ä–∏—Ü–µ–ø—Å", "–ü–µ—Ä–µ–¥–Ω–∏–µ –¥–µ–ª—å—Ç—ã"]
            },
            {
                phase: "main",
                name: "–ñ–∏–º –≥–∞–Ω—Ç–µ–ª–µ–π –Ω–∞ –Ω–∞–∫–ª–æ–Ω–Ω–æ–π —Å–∫–∞–º—å–µ",
                description: "–°–∫–∞–º—å—è –ø–æ–¥ —É–≥–ª–æ–º 30¬∞, –∂–º–∏—Ç–µ –≥–∞–Ω—Ç–µ–ª–∏ –∫ –≤–µ—Ä—Ö–Ω–µ–π —á–∞—Å—Ç–∏ –≥—Ä—É–¥–∏",
                sets: 4,
                reps: "10-12",
                duration: 150,
                weight: () => getPersonalWeight("–ñ–∏–º –≥–∞–Ω—Ç–µ–ª–µ–π –Ω–∞ –Ω–∞–∫–ª–æ–Ω–Ω–æ–π —Å–∫–∞–º—å–µ"),
                tips: "–ü–æ–ª–Ω–∞—è –∞–º–ø–ª–∏—Ç—É–¥–∞, –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ",
                muscles: ["–í–µ—Ä—Ö –≥—Ä—É–¥–∏", "–ü–µ—Ä–µ–¥–Ω–∏–µ –¥–µ–ª—å—Ç—ã"]
            },
            {
                phase: "main",
                name: "–û—Ç–∂–∏–º–∞–Ω–∏—è –Ω–∞ –±—Ä—É—Å—å—è—Ö",
                description: "–ù–∞–∫–ª–æ–Ω–∏—Ç–µ –∫–æ—Ä–ø—É—Å –≤–ø–µ—Ä–µ–¥ –¥–ª—è –∞–∫—Ü–µ–Ω—Ç–∞ –Ω–∞ –≥—Ä—É–¥—å",
                sets: 3,
                reps: "8-15",
                duration: 120,
                tips: "–ù–µ –æ–ø—É—Å–∫–∞–π—Ç–µ—Å—å —Å–ª–∏—à–∫–æ–º –Ω–∏–∑–∫–æ, –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–π—Ç–µ –¥–≤–∏–∂–µ–Ω–∏–µ",
                muscles: ["–ì—Ä—É–¥—å", "–¢—Ä–∏—Ü–µ–ø—Å"]
            },
            {
                phase: "main",
                name: "–†–∞–∑–≤–µ–¥–µ–Ω–∏–µ –≥–∞–Ω—Ç–µ–ª–µ–π –ª–µ–∂–∞",
                description: "–†–∞–∑–≤–æ–¥–∏—Ç–µ —Ä—É–∫–∏ –≤ —Å—Ç–æ—Ä–æ–Ω—ã, —á—É–≤—Å—Ç–≤—É—è —Ä–∞—Å—Ç—è–∂–µ–Ω–∏–µ –≥—Ä—É–¥–∏",
                sets: 3,
                reps: "12-15",
                duration: 120,
                weight: () => getPersonalWeight("–†–∞–∑–≤–µ–¥–µ–Ω–∏–µ –≥–∞–Ω—Ç–µ–ª–µ–π –ª–µ–∂–∞"),
                tips: "–†—É–∫–∏ —Å–ª–µ–≥–∫–∞ —Å–æ–≥–Ω—É—Ç—ã, –∫–∞–∫ –±—É–¥—Ç–æ –æ–±–Ω–∏–º–∞–µ—Ç–µ –¥–µ—Ä–µ–≤–æ",
                muscles: ["–ì—Ä—É–¥—å"]
            },
            {
                phase: "main",
                name: "–ñ–∏–º —à—Ç–∞–Ω–≥–∏ —É–∑–∫–∏–º —Ö–≤–∞—Ç–æ–º",
                description: "–•–≤–∞—Ç –Ω–∞ —à–∏—Ä–∏–Ω–µ –ø–ª–µ—á, –ª–æ–∫—Ç–∏ –±–ª–∏–∑–∫–æ –∫ —Ç–µ–ª—É",
                sets: 4,
                reps: "8-12",
                duration: 150,
                weight: () => getPersonalWeight("–ñ–∏–º —à—Ç–∞–Ω–≥–∏ —É–∑–∫–∏–º —Ö–≤–∞—Ç–æ–º"),
                tips: "–û—Å–Ω–æ–≤–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Ç—Ä–∏—Ü–µ–ø—Å–∞–º–∏, –Ω–µ —Ä–∞—Å—Å—Ç–∞–≤–ª—è–π—Ç–µ –ª–æ–∫—Ç–∏",
                muscles: ["–¢—Ä–∏—Ü–µ–ø—Å", "–ì—Ä—É–¥—å"]
            },
            {
                phase: "main",
                name: "–†–∞–∑–≥–∏–±–∞–Ω–∏—è —Ä—É–∫ –Ω–∞ –±–ª–æ–∫–µ",
                description: "–õ–æ–∫—Ç–∏ –ø—Ä–∏–∂–∞—Ç—ã –∫ –±–æ–∫–∞–º, —Ä–∞–∑–≥–∏–±–∞–π—Ç–µ —Ç–æ–ª—å–∫–æ –ø—Ä–µ–¥–ø–ª–µ—á—å—è",
                sets: 3,
                reps: "12-15",
                duration: 90,
                tips: "–ü–æ–ª–Ω–æ–µ —Ä–∞–∑–≥–∏–±–∞–Ω–∏–µ, –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–π—Ç–µ –Ω–µ–≥–∞—Ç–∏–≤–Ω—É—é —Ñ–∞–∑—É",
                muscles: ["–¢—Ä–∏—Ü–µ–ø—Å"]
            },
            {
                phase: "main",
                name: "–§—Ä–∞–Ω—Ü—É–∑—Å–∫–∏–π –∂–∏–º –ª–µ–∂–∞",
                description: "–û–ø—É—Å–∫–∞–π—Ç–µ –≤–µ—Å –∑–∞ –≥–æ–ª–æ–≤—É, —Ä–∞–±–æ—Ç–∞—é—Ç —Ç–æ–ª—å–∫–æ –ª–æ–∫—Ç–∏",
                sets: 3,
                reps: "10-12",
                duration: 120,
                weight: () => getPersonalWeight("–§—Ä–∞–Ω—Ü—É–∑—Å–∫–∏–π –∂–∏–º –ª–µ–∂–∞"),
                tips: "–õ–æ–∫—Ç–∏ –Ω–µ–ø–æ–¥–≤–∏–∂–Ω—ã, –º–µ–¥–ª–µ–Ω–Ω–æ–µ –æ–ø—É—Å–∫–∞–Ω–∏–µ",
                muscles: ["–¢—Ä–∏—Ü–µ–ø—Å"]
            },
            {
                phase: "main",
                name: "–û—Ç–∂–∏–º–∞–Ω–∏—è —Å —É–∑–∫–æ–π –ø–æ—Å—Ç–∞–Ω–æ–≤–∫–æ–π —Ä—É–∫",
                description: "–†—É–∫–∏ –æ–±—Ä–∞–∑—É—é—Ç '–∞–ª–º–∞–∑', –ª–æ–∫—Ç–∏ –∫ —Ç–µ–ª—É",
                sets: 3,
                reps: "8-15",
                duration: 90,
                tips: "–ú–µ–¥–ª–µ–Ω–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ, –ø–æ–ª–Ω–∞—è –∞–º–ø–ª–∏—Ç—É–¥–∞",
                muscles: ["–¢—Ä–∏—Ü–µ–ø—Å", "–í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è —á–∞—Å—Ç—å –≥—Ä—É–¥–∏"]
            },
            {
                phase: "cooldown",
                name: "–†–∞—Å—Ç—è–∂–∫–∞ –≥—Ä—É–¥–Ω—ã—Ö –º—ã—à—Ü",
                description: "–†–∞—Å—Ç—è–∂–∫–∞ –≤ –¥–≤–µ—Ä–Ω–æ–º –ø—Ä–æ–µ–º–µ, –±–æ–∫–æ–≤—ã–µ –Ω–∞–∫–ª–æ–Ω—ã",
                duration: 300,
                tips: "–î–µ—Ä–∂–∏—Ç–µ –∫–∞–∂–¥—É—é –ø–æ–∑–∏—Ü–∏—é 30-60 —Å–µ–∫—É–Ω–¥"
            }
        ]
    },
    
    2: {
        title: "–î–µ–Ω—å 2: –°–ø–∏–Ω–∞ + –ë–∏—Ü–µ–ø—Å",
        totalTime: 90,
        exercises: [
            {
                phase: "warmup",
                name: "–†–∞–∑–º–∏–Ω–∫–∞ —Å–ø–∏–Ω—ã –∏ —Ä—É–∫",
                description: "–ö—Ä—É–≥–æ–≤—ã–µ –¥–≤–∏–∂–µ–Ω–∏—è –ø–ª–µ—á–∞–º–∏, –Ω–∞–∫–ª–æ–Ω—ã, –ø–æ–¥—Ç—è–≥–∏–≤–∞–Ω–∏—è –Ω–∞ –Ω–∏–∑–∫–æ–π –ø–µ—Ä–µ–∫–ª–∞–¥–∏–Ω–µ",
                duration: 300,
                tips: "–ü–æ–¥–≥–æ—Ç–æ–≤—å—Ç–µ —à–∏—Ä–æ—á–∞–π—à–∏–µ –º—ã—à—Ü—ã –∫ –Ω–∞–≥—Ä—É–∑–∫–µ"
            },
            {
                phase: "main",
                name: "–ü–æ–¥—Ç—è–≥–∏–≤–∞–Ω–∏—è —à–∏—Ä–æ–∫–∏–º —Ö–≤–∞—Ç–æ–º",
                description: "–•–≤–∞—Ç —à–∏—Ä–µ –ø–ª–µ—á, —Ç—è–Ω–∏—Ç–µ –≥—Ä—É–¥—å –∫ –ø–µ—Ä–µ–∫–ª–∞–¥–∏–Ω–µ",
                sets: 4,
                reps: "6-12",
                duration: 180,
                tips: "–°–≤–æ–¥–∏—Ç–µ –ª–æ–ø–∞—Ç–∫–∏, –Ω–µ —Ä–∞—Å–∫–∞—á–∏–≤–∞–π—Ç–µ—Å—å",
                muscles: ["–®–∏—Ä–æ—á–∞–π—à–∏–µ", "–†–æ–º–±–æ–≤–∏–¥–Ω—ã–µ", "–ë–∏—Ü–µ–ø—Å"]
            },
            {
                phase: "main",
                name: "–¢—è–≥–∞ —à—Ç–∞–Ω–≥–∏ –≤ –Ω–∞–∫–ª–æ–Ω–µ",
                description: "–ù–∞–∫–ª–æ–Ω 45¬∞, —Ç—è–Ω–∏—Ç–µ —à—Ç–∞–Ω–≥—É –∫ –Ω–∏–∂–Ω–µ–π —á–∞—Å—Ç–∏ –∂–∏–≤–æ—Ç–∞",
                sets: 4,
                reps: "8-12",
                duration: 150,
                weight: () => getPersonalWeight("–¢—è–≥–∞ —à—Ç–∞–Ω–≥–∏ –≤ –Ω–∞–∫–ª–æ–Ω–µ"),
                tips: "–°–ø–∏–Ω–∞ –ø—Ä—è–º–∞—è, –¥–≤–∏–∂–µ–Ω–∏–µ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è –ª–æ–ø–∞—Ç–∫–∞–º–∏",
                muscles: ["–®–∏—Ä–æ—á–∞–π—à–∏–µ", "–†–æ–º–±–æ–≤–∏–¥–Ω—ã–µ", "–ó–∞–¥–Ω–∏–µ –¥–µ–ª—å—Ç—ã"]
            },
            {
                phase: "main",
                name: "–¢—è–≥–∞ –≤–µ—Ä—Ö–Ω–µ–≥–æ –±–ª–æ–∫–∞ –∫ –≥—Ä—É–¥–∏",
                description: "–®–∏—Ä–æ–∫–∏–π —Ö–≤–∞—Ç, —Ç—è–Ω–∏—Ç–µ –∫ –≤–µ—Ä—Ö–Ω–µ–π —á–∞—Å—Ç–∏ –≥—Ä—É–¥–∏",
                sets: 4,
                reps: "10-12",
                duration: 120,
                tips: "–ö–æ—Ä–ø—É—Å —Å–ª–µ–≥–∫–∞ –æ—Ç–∫–ª–æ–Ω–µ–Ω –Ω–∞–∑–∞–¥, –≥—Ä—É–¥—å –≤–ø–µ—Ä–µ–¥",
                muscles: ["–®–∏—Ä–æ—á–∞–π—à–∏–µ", "–†–æ–º–±–æ–≤–∏–¥–Ω—ã–µ"]
            },
            {
                phase: "main",
                name: "–¢—è–≥–∞ –≥–∞–Ω—Ç–µ–ª–∏ –æ–¥–Ω–æ–π —Ä—É–∫–æ–π",
                description: "–£–ø–æ—Ä –∫–æ–ª–µ–Ω–æ–º –≤ —Å–∫–∞–º—å—é, —Ç—è–Ω–∏—Ç–µ –≥–∞–Ω—Ç–µ–ª—å –∫ –ø–æ—è—Å—É",
                sets: 3,
                reps: "10-12",
                duration: 120,
                weight: () => getPersonalWeight("–¢—è–≥–∞ –≥–∞–Ω—Ç–µ–ª–∏ –æ–¥–Ω–æ–π —Ä—É–∫–æ–π"),
                tips: "–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ —Å–≤–µ–¥–µ–Ω–∏–µ –ª–æ–ø–∞—Ç–∫–∏ –≤ –≤–µ—Ä—Ö–Ω–µ–π —Ç–æ—á–∫–µ",
                muscles: ["–®–∏—Ä–æ—á–∞–π—à–∏–µ", "–†–æ–º–±–æ–≤–∏–¥–Ω—ã–µ"]
            },
            {
                phase: "main",
                name: "–ü–æ–¥—Ç—è–≥–∏–≤–∞–Ω–∏—è –æ–±—Ä–∞—Ç–Ω—ã–º —Ö–≤–∞—Ç–æ–º",
                description: "–•–≤–∞—Ç —Å–Ω–∏–∑—É –Ω–∞ —à–∏—Ä–∏–Ω–µ –ø–ª–µ—á, –∞–∫—Ü–µ–Ω—Ç –Ω–∞ –±–∏—Ü–µ–ø—Å",
                sets: 3,
                reps: "6-10",
                duration: 150,
                tips: "–õ–æ–∫—Ç–∏ –∫ —Ç–µ–ª—É, —á—É–≤—Å—Ç–≤—É–π—Ç–µ —Ä–∞–±–æ—Ç—É –±–∏—Ü–µ–ø—Å–æ–≤",
                muscles: ["–ë–∏—Ü–µ–ø—Å", "–®–∏—Ä–æ—á–∞–π—à–∏–µ"]
            },
            {
                phase: "main",
                name: "–°–≥–∏–±–∞–Ω–∏—è —Ä—É–∫ —Å–æ —à—Ç–∞–Ω–≥–æ–π —Å—Ç–æ—è",
                description: "–õ–æ–∫—Ç–∏ –ø—Ä–∏–∂–∞—Ç—ã –∫ –±–æ–∫–∞–º, –ø–æ–¥—ä–µ–º –∫ –ø–ª–µ—á–∞–º",
                sets: 4,
                reps: "8-12",
                duration: 120,
                weight: () => getPersonalWeight("–°–≥–∏–±–∞–Ω–∏—è —Ä—É–∫ —Å–æ —à—Ç–∞–Ω–≥–æ–π —Å—Ç–æ—è"),
                tips: "–ù–µ —Ä–∞—Å–∫–∞—á–∏–≤–∞–π—Ç–µ—Å—å, –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–π—Ç–µ –¥–≤–∏–∂–µ–Ω–∏–µ",
                muscles: ["–ë–∏—Ü–µ–ø—Å"]
            },
            {
                phase: "main",
                name: "–ú–æ–ª–æ—Ç–∫–æ–≤—ã–µ —Å–≥–∏–±–∞–Ω–∏—è —Å –≥–∞–Ω—Ç–µ–ª—è–º–∏",
                description: "–ù–µ–π—Ç—Ä–∞–ª—å–Ω—ã–π —Ö–≤–∞—Ç, –ø–æ–¥—ä–µ–º –∫ –ø–ª–µ—á–∞–º",
                sets: 3,
                reps: "10-12",
                duration: 90,
                weight: () => getPersonalWeight("–ú–æ–ª–æ—Ç–∫–æ–≤—ã–µ —Å–≥–∏–±–∞–Ω–∏—è —Å –≥–∞–Ω—Ç–µ–ª—è–º–∏"),
                tips: "–ó–∞–ø—è—Å—Ç—å—è –ø—Ä—è–º—ã–µ, –º–æ–∂–Ω–æ —á–µ—Ä–µ–¥–æ–≤–∞—Ç—å —Ä—É–∫–∏",
                muscles: ["–ë–∏—Ü–µ–ø—Å", "–ü–ª–µ—á–µ–ª—É—á–µ–≤–∞—è"]
            },
            {
                phase: "main",
                name: "–ö–æ–Ω—Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–≥–∏–±–∞–Ω–∏—è",
                description: "–õ–æ–∫–æ—Ç—å —É–ø–∏—Ä–∞–µ—Ç—Å—è –≤ –±–µ–¥—Ä–æ, –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞",
                sets: 3,
                reps: "12-15",
                duration: 90,
                weight: () => getPersonalWeight("–ö–æ–Ω—Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–≥–∏–±–∞–Ω–∏—è"),
                tips: "–ú–µ–¥–ª–µ–Ω–Ω–æ, —á—É–≤—Å—Ç–≤—É–π—Ç–µ –∫–∞–∂–¥–æ–µ —Å–æ–∫—Ä–∞—â–µ–Ω–∏–µ",
                muscles: ["–ë–∏—Ü–µ–ø—Å"]
            },
            {
                phase: "cooldown",
                name: "–†–∞—Å—Ç—è–∂–∫–∞ —Å–ø–∏–Ω—ã –∏ —Ä—É–∫",
                description: "–í–∏—Å –Ω–∞ –ø–µ—Ä–µ–∫–ª–∞–¥–∏–Ω–µ, —Ä–∞—Å—Ç—è–∂–∫–∞ —à–∏—Ä–æ—á–∞–π—à–∏—Ö, –±–∏—Ü–µ–ø—Å–æ–≤",
                duration: 300,
                tips: "–†–∞—Å—Å–ª–∞–±—å—Ç–µ –º—ã—à—Ü—ã, –≥–ª—É–±–æ–∫–æ–µ –¥—ã—Ö–∞–Ω–∏–µ"
            }
        ]
    },
    
    3: {
        title: "–î–µ–Ω—å 3: –ù–æ–≥–∏ + –Ø–≥–æ–¥–∏—Ü—ã",
        totalTime: 90,
        exercises: [
            {
                phase: "warmup",
                name: "–†–∞–∑–º–∏–Ω–∫–∞ –Ω–æ–≥",
                description: "–ü—Ä–∏—Å–µ–¥–∞–Ω–∏—è –±–µ–∑ –≤–µ—Å–∞, –≤—ã–ø–∞–¥—ã, –∫—Ä—É–≥–æ–≤—ã–µ –¥–≤–∏–∂–µ–Ω–∏—è –≤ —Ç–∞–∑–æ–±–µ–¥—Ä–µ–Ω–Ω–æ–º —Å—É—Å—Ç–∞–≤–µ",
                duration: 300,
                tips: "–†–∞–∑–æ–≥—Ä–µ–π—Ç–µ –≤—Å–µ —Å—É—Å—Ç–∞–≤—ã –Ω–æ–≥"
            },
            {
                phase: "main",
                name: "–ü—Ä–∏—Å–µ–¥–∞–Ω–∏—è —Å–æ —à—Ç–∞–Ω–≥–æ–π",
                description: "–®—Ç–∞–Ω–≥–∞ –Ω–∞ —Ç—Ä–∞–ø–µ—Ü–∏—è—Ö, –Ω–æ–≥–∏ –Ω–∞ —à–∏—Ä–∏–Ω–µ –ø–ª–µ—á, –ø—Ä–∏—Å–µ–¥ –¥–æ –ø–∞—Ä–∞–ª–ª–µ–ª–∏",
                sets: 5,
                reps: "8-12",
                duration: 180,
                weight: () => getPersonalWeight("–ü—Ä–∏—Å–µ–¥–∞–Ω–∏—è —Å–æ —à—Ç–∞–Ω–≥–æ–π"),
                tips: "–ö–æ–ª–µ–Ω–∏ –≤ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ—Å–∫–æ–≤, —Å–ø–∏–Ω–∞ –ø—Ä—è–º–∞—è",
                muscles: ["–ö–≤–∞–¥—Ä–∏—Ü–µ–ø—Å", "–Ø–≥–æ–¥–∏—Ü—ã", "–ó–∞–¥–Ω—è—è –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç—å"]
            },
            {
                phase: "main",
                name: "–†—É–º—ã–Ω—Å–∫–∞—è —Å—Ç–∞–Ω–æ–≤–∞—è —Ç—è–≥–∞",
                description: "–®—Ç–∞–Ω–≥–∞ –≤ —Ä—É–∫–∞—Ö, –Ω–∞–∫–ª–æ–Ω —Å –æ—Ç–≤–µ–¥–µ–Ω–∏–µ–º —Ç–∞–∑–∞ –Ω–∞–∑–∞–¥",
                sets: 4,
                reps: "10-12",
                duration: 150,
                weight: () => getPersonalWeight("–†—É–º—ã–Ω—Å–∫–∞—è —Å—Ç–∞–Ω–æ–≤–∞—è —Ç—è–≥–∞"),
                tips: "–ß—É–≤—Å—Ç–≤—É–π—Ç–µ —Ä–∞—Å—Ç—è–∂–µ–Ω–∏–µ –∑–∞–¥–Ω–µ–π –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–∏ –±–µ–¥—Ä–∞",
                muscles: ["–ó–∞–¥–Ω—è—è –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç—å", "–Ø–≥–æ–¥–∏—Ü—ã"]
            },
            {
                phase: "main",
                name: "–ñ–∏–º –Ω–æ–≥–∞–º–∏ –≤ —Ç—Ä–µ–Ω–∞–∂–µ—Ä–µ",
                description: "–ù–æ–≥–∏ –Ω–∞ —à–∏—Ä–∏–Ω–µ –ø–ª–µ—á, –ø–æ–ª–Ω–∞—è –∞–º–ø–ª–∏—Ç—É–¥–∞ –¥–≤–∏–∂–µ–Ω–∏—è",
                sets: 4,
                reps: "12-15",
                duration: 120,
                weight: () => getPersonalWeight("–ñ–∏–º –Ω–æ–≥–∞–º–∏ –≤ —Ç—Ä–µ–Ω–∞–∂–µ—Ä–µ"),
                tips: "–ù–µ –±–ª–æ–∫–∏—Ä—É–π—Ç–µ –∫–æ–ª–µ–Ω–∏ –≤ –≤–µ—Ä—Ö–Ω–µ–π —Ç–æ—á–∫–µ",
                muscles: ["–ö–≤–∞–¥—Ä–∏—Ü–µ–ø—Å", "–Ø–≥–æ–¥–∏—Ü—ã"]
            },
            {
                phase: "main",
                name: "–ë–æ–ª–≥–∞—Ä—Å–∫–∏–µ –ø—Ä–∏—Å–µ–¥–∞–Ω–∏—è",
                description: "–ó–∞–¥–Ω—è—è –Ω–æ–≥–∞ –Ω–∞ —Å–∫–∞–º—å–µ, –ø—Ä–∏—Å–µ–¥–∞–Ω–∏—è –Ω–∞ –ø–µ—Ä–µ–¥–Ω–µ–π –Ω–æ–≥–µ",
                sets: 3,
                reps: "10-12",
                duration: 120,
                weight: () => getPersonalWeight("–ë–æ–ª–≥–∞—Ä—Å–∫–∏–µ –ø—Ä–∏—Å–µ–¥–∞–Ω–∏—è"),
                tips: "–û—Å–Ω–æ–≤–Ω–æ–π –≤–µ—Å –Ω–∞ –ø–µ—Ä–µ–¥–Ω–µ–π –Ω–æ–≥–µ, –∫–æ—Ä–ø—É—Å —Å–ª–µ–≥–∫–∞ –≤–ø–µ—Ä–µ–¥",
                muscles: ["–ö–≤–∞–¥—Ä–∏—Ü–µ–ø—Å", "–Ø–≥–æ–¥–∏—Ü—ã"]
            },
            {
                phase: "main",
                name: "–í—ã–ø–∞–¥—ã —Å –≥–∞–Ω—Ç–µ–ª—è–º–∏",
                description: "–ë–æ–ª—å—à–æ–π —à–∞–≥ –≤–ø–µ—Ä–µ–¥, –æ–ø—É—Å–∫–∞–Ω–∏–µ –¥–æ —É–≥–ª–∞ 90¬∞ –≤ –∫–æ–ª–µ–Ω—è—Ö",
                sets: 3,
                reps: "12-15",
                duration: 120,
                weight: () => getPersonalWeight("–í—ã–ø–∞–¥—ã —Å –≥–∞–Ω—Ç–µ–ª—è–º–∏"),
                tips: "–ö–æ—Ä–ø—É—Å –ø—Ä—è–º–æ–π, –∑–∞–¥–Ω–µ–µ –∫–æ–ª–µ–Ω–æ –ø–æ—á—Ç–∏ –∫–∞—Å–∞–µ—Ç—Å—è –ø–æ–ª–∞",
                muscles: ["–ö–≤–∞–¥—Ä–∏—Ü–µ–ø—Å", "–Ø–≥–æ–¥–∏—Ü—ã"]
            },
            {
                phase: "main",
                name: "–ü–æ–¥—ä–µ–º—ã –Ω–∞ –Ω–æ—Å–∫–∏ —Å—Ç–æ—è",
                description: "–ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –ø–æ–¥—ä–µ–º –Ω–∞ –Ω–æ—Å–∫–∏, –ø–æ–ª–Ω–∞—è –∞–º–ø–ª–∏—Ç—É–¥–∞",
                sets: 4,
                reps: "15-20",
                duration: 90,
                weight: () => getPersonalWeight("–ü–æ–¥—ä–µ–º—ã –Ω–∞ –Ω–æ—Å–∫–∏ —Å—Ç–æ—è"),
                tips: "–ó–∞–¥–µ—Ä–∂–∫–∞ –≤ –≤–µ—Ä—Ö–Ω–µ–π —Ç–æ—á–∫–µ, –º–µ–¥–ª–µ–Ω–Ω–æ–µ –æ–ø—É—Å–∫–∞–Ω–∏–µ",
                muscles: ["–ò–∫—Ä–æ–Ω–æ–∂–Ω—ã–µ"]
            },
            {
                phase: "main",
                name: "–ü–æ–¥—ä–µ–º—ã –Ω–∞ –Ω–æ—Å–∫–∏ —Å–∏–¥—è",
                description: "–°–∏–¥—è –≤ —Ç—Ä–µ–Ω–∞–∂–µ—Ä–µ, –ø–æ–¥—ä–µ–º –Ω–∞ –Ω–æ—Å–∫–∏ —Å –≤–µ—Å–æ–º –Ω–∞ –∫–æ–ª–µ–Ω—è—Ö",
                sets: 3,
                reps: "15-20",
                duration: 90,
                tips: "–ê–∫—Ü–µ–Ω—Ç –Ω–∞ –∫–∞–º–±–∞–ª–æ–≤–∏–¥–Ω—ã–µ –º—ã—à—Ü—ã",
                muscles: ["–ö–∞–º–±–∞–ª–æ–≤–∏–¥–Ω—ã–µ"]
            },
            {
                phase: "cooldown",
                name: "–†–∞—Å—Ç—è–∂–∫–∞ –Ω–æ–≥",
                description: "–†–∞—Å—Ç—è–∂–∫–∞ –∫–≤–∞–¥—Ä–∏—Ü–µ–ø—Å–∞, –∑–∞–¥–Ω–µ–π –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–∏, –∏–∫—Ä",
                duration: 300,
                tips: "–î–µ—Ä–∂–∏—Ç–µ —Ä–∞—Å—Ç—è–∂–∫—É 30-60 —Å–µ–∫—É–Ω–¥ –Ω–∞ –∫–∞–∂–¥—É—é –º—ã—à—Ü—É"
            }
        ]
    },
    
    4: {
        title: "–î–µ–Ω—å 4: –ü–ª–µ—á–∏ + –ü—Ä–µ—Å—Å",
        totalTime: 90,
        exercises: [
            {
                phase: "warmup",
                name: "–†–∞–∑–º–∏–Ω–∫–∞ –ø–ª–µ—á",
                description: "–ö—Ä—É–≥–æ–≤—ã–µ –¥–≤–∏–∂–µ–Ω–∏—è —Ä—É–∫–∞–º–∏, –º–∞—Ö–∏, —Ä–∞–∑–º–∏–Ω–∫–∞ —Ä–æ—Ç–∞—Ç–æ—Ä–Ω–æ–π –º–∞–Ω–∂–µ—Ç—ã",
                duration: 300,
                tips: "–¢—â–∞—Ç–µ–ª—å–Ω–æ —Ä–∞–∑–æ–º–Ω–∏—Ç–µ –ø–ª–µ—á–µ–≤—ã–µ —Å—É—Å—Ç–∞–≤—ã"
            },
            {
                phase: "main",
                name: "–ñ–∏–º –≥–∞–Ω—Ç–µ–ª–µ–π —Å–∏–¥—è",
                description: "–°–∏–¥—è –Ω–∞ —Å–∫–∞–º—å–µ, –∂–∏–º –≥–∞–Ω—Ç–µ–ª–µ–π –æ—Ç –ø–ª–µ—á –≤–≤–µ—Ä—Ö",
                sets: 4,
                reps: "8-12",
                duration: 150,
                weight: () => getPersonalWeight("–ñ–∏–º –≥–∞–Ω—Ç–µ–ª–µ–π —Å–∏–¥—è"),
                tips: "–°–ø–∏–Ω–∞ –ø—Ä–∏–∂–∞—Ç–∞ –∫ —Å–ø–∏–Ω–∫–µ, –ø–æ–ª–Ω–∞—è –∞–º–ø–ª–∏—Ç—É–¥–∞",
                muscles: ["–ü–µ—Ä–µ–¥–Ω–∏–µ –¥–µ–ª—å—Ç—ã", "–°—Ä–µ–¥–Ω–∏–µ –¥–µ–ª—å—Ç—ã"]
            },
            {
                phase: "main",
                name: "–†–∞–∑–≤–µ–¥–µ–Ω–∏–µ —Ä—É–∫ —Å –≥–∞–Ω—Ç–µ–ª—è–º–∏ –≤ —Å—Ç–æ—Ä–æ–Ω—ã",
                description: "–°—Ç–æ—è, –ø–æ–¥—ä–µ–º —Ä—É–∫ –≤ —Å—Ç–æ—Ä–æ–Ω—ã –¥–æ —É—Ä–æ–≤–Ω—è –ø–ª–µ—á",
                sets: 4,
                reps: "12-15",
                duration: 120,
                weight: () => getPersonalWeight("–†–∞–∑–≤–µ–¥–µ–Ω–∏–µ —Ä—É–∫ —Å –≥–∞–Ω—Ç–µ–ª—è–º–∏ –≤ —Å—Ç–æ—Ä–æ–Ω—ã"),
                tips: "–í–µ–¥–∏—Ç–µ –¥–≤–∏–∂–µ–Ω–∏–µ –ª–æ–∫—Ç—è–º–∏, –Ω–µ –ø–æ–¥–Ω–∏–º–∞–π—Ç–µ –≤—ã—à–µ –ø–ª–µ—á",
                muscles: ["–°—Ä–µ–¥–Ω–∏–µ –¥–µ–ª—å—Ç—ã"]
            },
            {
                phase: "main",
                name: "–†–∞–∑–≤–µ–¥–µ–Ω–∏–µ —Ä—É–∫ –≤ –Ω–∞–∫–ª–æ–Ω–µ",
                description: "–ù–∞–∫–ª–æ–Ω –≤–ø–µ—Ä–µ–¥ 45¬∞, —Ä–∞–∑–≤–µ–¥–µ–Ω–∏–µ —Ä—É–∫ –≤ —Å—Ç–æ—Ä–æ–Ω—ã",
                sets: 4,
                reps: "12-15",
                duration: 120,
                weight: () => getPersonalWeight("–†–∞–∑–≤–µ–¥–µ–Ω–∏–µ —Ä—É–∫ –≤ –Ω–∞–∫–ª–æ–Ω–µ"),
                tips: "–ê–∫—Ü–µ–Ω—Ç –Ω–∞ –∑–∞–¥–Ω–∏–µ –¥–µ–ª—å—Ç—ã, –Ω–µ–±–æ–ª—å—à–æ–π –∏–∑–≥–∏–± –≤ –ª–æ–∫—Ç—è—Ö",
                muscles: ["–ó–∞–¥–Ω–∏–µ –¥–µ–ª—å—Ç—ã"]
            },
            {
                phase: "main",
                name: "–ü–æ–¥—ä–µ–º –≥–∞–Ω—Ç–µ–ª–µ–π –ø–µ—Ä–µ–¥ —Å–æ–±–æ–π",
                description: "–ü–æ–æ—á–µ—Ä–µ–¥–Ω—ã–π –∏–ª–∏ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –ø–æ–¥—ä–µ–º —Ä—É–∫ –≤–ø–µ—Ä–µ–¥",
                sets: 3,
                reps: "12-15",
                duration: 90,
                weight: () => getPersonalWeight("–ü–æ–¥—ä–µ–º –≥–∞–Ω—Ç–µ–ª–µ–π –ø–µ—Ä–µ–¥ —Å–æ–±–æ–π"),
                tips: "–ù–µ –ø–æ–¥–Ω–∏–º–∞–π—Ç–µ –≤—ã—à–µ —É—Ä–æ–≤–Ω—è –ø–ª–µ—á",
                muscles: ["–ü–µ—Ä–µ–¥–Ω–∏–µ –¥–µ–ª—å—Ç—ã"]
            },
            {
                phase: "main",
                name: "–®—Ä–∞–≥–∏ —Å –≥–∞–Ω—Ç–µ–ª—è–º–∏",
                description: "–ü–æ–¥—ä–µ–º –ø–ª–µ—á –≤–≤–µ—Ä—Ö, –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ —Å–æ–∫—Ä–∞—â–µ–Ω–∏–µ —Ç—Ä–∞–ø–µ—Ü–∏–π",
                sets: 3,
                reps: "12-15",
                duration: 90,
                tips: "–¢–æ–ª—å–∫–æ –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ, –Ω–µ –≤—Ä–∞—â–∞–π—Ç–µ –ø–ª–µ—á–∞–º–∏",
                muscles: ["–í–µ—Ä—Ö–Ω—è—è —Ç—Ä–∞–ø–µ—Ü–∏—è"]
            },
            {
                phase: "main",
                name: "–ü–ª–∞–Ω–∫–∞",
                description: "–£–ø–æ—Ä –Ω–∞ –ø—Ä–µ–¥–ø–ª–µ—á—å—è—Ö, —Ç–µ–ª–æ –ø—Ä—è–º–æ–π –ª–∏–Ω–∏–µ–π",
                sets: 4,
                reps: "30-60 —Å–µ–∫",
                duration: 90,
                tips: "–ù–µ –ø—Ä–æ–≥–∏–±–∞–π—Ç–µ—Å—å –≤ –ø–æ—è—Å–Ω–∏—Ü–µ, –Ω–∞–ø—Ä—è–≥–∏—Ç–µ –∫–æ—Ä",
                muscles: ["–ü—Ä—è–º–∞—è –º—ã—à—Ü–∞ –∂–∏–≤–æ—Ç–∞", "–ö–æ—Ä"]
            },
            {
                phase: "main",
                name: "–°–∫—Ä—É—á–∏–≤–∞–Ω–∏—è",
                description: "–õ–µ–∂–∞ –Ω–∞ —Å–ø–∏–Ω–µ, –ø–æ–¥—ä–µ–º –ª–æ–ø–∞—Ç–æ–∫ –æ—Ç –ø–æ–ª–∞",
                sets: 4,
                reps: "15-20",
                duration: 60,
                tips: "–ù–µ —Ç—è–Ω–∏—Ç–µ —à–µ—é —Ä—É–∫–∞–º–∏, —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –ø—Ä–µ—Å—Å",
                muscles: ["–ü—Ä—è–º–∞—è –º—ã—à—Ü–∞ –∂–∏–≤–æ—Ç–∞"]
            },
            {
                phase: "main",
                name: "–í–µ–ª–æ—Å–∏–ø–µ–¥",
                description: "–õ–µ–∂–∞ –Ω–∞ —Å–ø–∏–Ω–µ, –ø–æ–æ—á–µ—Ä–µ–¥–Ω–æ–µ –∫–∞—Å–∞–Ω–∏–µ –ª–æ–∫—Ç–µ–º –ø—Ä–æ—Ç–∏–≤–æ–ø–æ–ª–æ–∂–Ω–æ–≥–æ –∫–æ–ª–µ–Ω–∞",
                sets: 3,
                reps: "20-30",
                duration: 60,
                tips: "–ö–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ, –ø–æ–ª–Ω–æ–µ —Å–∫—Ä—É—á–∏–≤–∞–Ω–∏–µ",
                muscles: ["–ö–æ—Å—ã–µ –º—ã—à—Ü—ã –∂–∏–≤–æ—Ç–∞"]
            },
            {
                phase: "main",
                name: "–ü–æ–¥—ä–µ–º—ã –Ω–æ–≥ –ª–µ–∂–∞",
                description: "–õ–µ–∂–∞ –Ω–∞ —Å–ø–∏–Ω–µ, –ø–æ–¥—ä–µ–º –ø—Ä—è–º—ã—Ö –Ω–æ–≥ –¥–æ 90¬∞",
                sets: 3,
                reps: "12-15",
                duration: 60,
                tips: "–ü–æ—è—Å–Ω–∏—Ü–∞ –ø—Ä–∏–∂–∞—Ç–∞ –∫ –ø–æ–ª—É, –Ω–µ –æ–ø—É—Å–∫–∞–π—Ç–µ –Ω–æ–≥–∏ –¥–æ –∫–æ–Ω—Ü–∞",
                muscles: ["–ù–∏–∂–Ω—è—è —á–∞—Å—Ç—å –ø—Ä–µ—Å—Å–∞"]
            },
            {
                phase: "cooldown",
                name: "–†–∞—Å—Ç—è–∂–∫–∞ –ø–ª–µ—á –∏ –∫–æ—Ä–∞",
                description: "–†–∞—Å—Ç—è–∂–∫–∞ –¥–µ–ª—å—Ç, –∑–∞–º–∏–Ω–∫–∞ –¥–ª—è –º—ã—à—Ü –∫–æ—Ä–∞",
                duration: 300,
                tips: "–†–∞—Å—Å–ª–∞–±—å—Ç–µ –≤—Å–µ –º—ã—à—Ü—ã, –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –¥—ã—Ö–∞–Ω–∏–µ"
            }
        ]
    },
    
    5: {
        title: "–î–µ–Ω—å 5: –í–µ—Ä—Ö –¢–µ–ª–∞",
        totalTime: 90,
        exercises: [
            {
                phase: "warmup",
                name: "–ö–æ–º–ø–ª–µ–∫—Å–Ω–∞—è —Ä–∞–∑–º–∏–Ω–∫–∞ –≤–µ—Ä—Ö–∞",
                description: "–†–∞–∑–º–∏–Ω–∫–∞ –≤—Å–µ—Ö —Å—É—Å—Ç–∞–≤–æ–≤ –≤–µ—Ä—Ö–Ω–µ–π —á–∞—Å—Ç–∏ —Ç–µ–ª–∞",
                duration: 300,
                tips: "–ü–æ–¥–≥–æ—Ç–æ–≤—å—Ç–µ –≤—Å–µ –º—ã—à—Ü—ã –≤–µ—Ä—Ö–∞ –∫ –∫–æ–º–ø–ª–µ–∫—Å–Ω–æ–π –Ω–∞–≥—Ä—É–∑–∫–µ"
            },
            {
                phase: "main",
                name: "–û—Ç–∂–∏–º–∞–Ω–∏—è –æ—Ç –ø–æ–ª–∞",
                description: "–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–µ –æ—Ç–∂–∏–º–∞–Ω–∏—è —Å –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π —Ç–µ—Ö–Ω–∏–∫–æ–π",
                sets: 4,
                reps: "10-20",
                duration: 120,
                tips: "–ö–æ—Ä–ø—É—Å –ø—Ä—è–º–æ–π –ª–∏–Ω–∏–µ–π, –ø–æ–ª–Ω–∞—è –∞–º–ø–ª–∏—Ç—É–¥–∞",
                muscles: ["–ì—Ä—É–¥—å", "–¢—Ä–∏—Ü–µ–ø—Å", "–ü–µ—Ä–µ–¥–Ω–∏–µ –¥–µ–ª—å—Ç—ã"]
            },
            {
                phase: "main",
                name: "–û–±—Ä–∞—Ç–Ω—ã–µ –æ—Ç–∂–∏–º–∞–Ω–∏—è",
                description: "–†—É–∫–∏ –Ω–∞ —Å–∫–∞–º—å–µ –∑–∞ —Å–ø–∏–Ω–æ–π, –æ—Ç–∂–∏–º–∞–Ω–∏—è —Å–ø–∏–Ω–æ–π –∫ —Å–∫–∞–º—å–µ",
                sets: 3,
                reps: "10-15",
                duration: 120,
                tips: "–ù–µ –æ–ø—É—Å–∫–∞–π—Ç–µ—Å—å —Å–ª–∏—à–∫–æ–º –Ω–∏–∑–∫–æ, –∞–∫—Ü–µ–Ω—Ç –Ω–∞ —Ç—Ä–∏—Ü–µ–ø—Å",
                muscles: ["–¢—Ä–∏—Ü–µ–ø—Å", "–ü–µ—Ä–µ–¥–Ω–∏–µ –¥–µ–ª—å—Ç—ã"]
            },
            {
                phase: "main",
                name: "–¢—è–≥–∞ –≥–∞–Ω—Ç–µ–ª–µ–π –≤ –Ω–∞–∫–ª–æ–Ω–µ",
                description: "–ù–∞–∫–ª–æ–Ω 45¬∞, —Ç—è–≥–∞ –æ–±–µ–∏—Ö –≥–∞–Ω—Ç–µ–ª–µ–π –∫ –ø–æ—è—Å—É",
                sets: 4,
                reps: "10-12",
                duration: 120,
                weight: () => getPersonalWeight("–¢—è–≥–∞ –≥–∞–Ω—Ç–µ–ª–µ–π –≤ –Ω–∞–∫–ª–æ–Ω–µ"),
                tips: "–°–≤–æ–¥–∏—Ç–µ –ª–æ–ø–∞—Ç–∫–∏, –ª–æ–∫—Ç–∏ –∫ —Ç–µ–ª—É",
                muscles: ["–®–∏—Ä–æ—á–∞–π—à–∏–µ", "–†–æ–º–±–æ–≤–∏–¥–Ω—ã–µ"]
            },
            {
                phase: "main",
                name: "–ñ–∏–º –≥–∞–Ω—Ç–µ–ª–µ–π –ª–µ–∂–∞",
                description: "–ñ–∏–º –≥–∞–Ω—Ç–µ–ª–µ–π –Ω–∞ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–π —Å–∫–∞–º—å–µ",
                sets: 3,
                reps: "10-12",
                duration: 120,
                weight: () => getPersonalWeight("–ñ–∏–º –≥–∞–Ω—Ç–µ–ª–µ–π –ª–µ–∂–∞"),
                tips: "–ü–æ–ª–Ω–∞—è –∞–º–ø–ª–∏—Ç—É–¥–∞, –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ",
                muscles: ["–ì—Ä—É–¥—å", "–¢—Ä–∏—Ü–µ–ø—Å"]
            },
            {
                phase: "main",
                name: "–°–≥–∏–±–∞–Ω–∏—è —Ä—É–∫ —Å –≥–∞–Ω—Ç–µ–ª—è–º–∏",
                description: "–ü–æ–æ—á–µ—Ä–µ–¥–Ω—ã–µ –∏–ª–∏ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Å–≥–∏–±–∞–Ω–∏—è",
                sets: 3,
                reps: "12-15",
                duration: 90,
                weight: () => getPersonalWeight("–°–≥–∏–±–∞–Ω–∏—è —Ä—É–∫ —Å –≥–∞–Ω—Ç–µ–ª—è–º–∏"),
                tips: "–õ–æ–∫—Ç–∏ –Ω–µ–ø–æ–¥–≤–∏–∂–Ω—ã, –ø–æ–ª–Ω–æ–µ —Å–æ–∫—Ä–∞—â–µ–Ω–∏–µ",
                muscles: ["–ë–∏—Ü–µ–ø—Å"]
            },
            {
                phase: "main",
                name: "–ñ–∏–º –ê—Ä–Ω–æ–ª—å–¥–∞",
                description: "–í—Ä–∞—â–µ–Ω–∏–µ –≥–∞–Ω—Ç–µ–ª–µ–π –≤–æ –≤—Ä–µ–º—è –∂–∏–º–∞",
                sets: 3,
                reps: "10-12",
                duration: 120,
                tips: "–ü–ª–∞–≤–Ω–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ, –∫–æ–Ω—Ç—Ä–æ–ª—å –≤–æ –≤—Å–µ—Ö —Ñ–∞–∑–∞—Ö",
                muscles: ["–í—Å–µ –ø—É—á–∫–∏ –¥–µ–ª—å—Ç"]
            },
            {
                phase: "main",
                name: "–°—É–ø–µ—Ä—Å–µ—Ç: –ü–ª–∞–Ω–∫–∞ + –û—Ç–∂–∏–º–∞–Ω–∏—è",
                description: "30 —Å–µ–∫ –ø–ª–∞–Ω–∫–∞, –∑–∞—Ç–µ–º –æ—Ç–∂–∏–º–∞–Ω–∏—è –¥–æ –æ—Ç–∫–∞–∑–∞",
                sets: 3,
                reps: "30 —Å–µ–∫ + –º–∞–∫—Å",
                duration: 120,
                tips: "–ë–µ–∑ –æ—Ç–¥—ã—Ö–∞ –º–µ–∂–¥—É —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è–º–∏",
                muscles: ["–ö–æ—Ä", "–ì—Ä—É–¥—å", "–¢—Ä–∏—Ü–µ–ø—Å"]
            },
            {
                phase: "cooldown",
                name: "–ö–æ–º–ø–ª–µ–∫—Å–Ω–∞—è —Ä–∞—Å—Ç—è–∂–∫–∞ –≤–µ—Ä—Ö–∞",
                description: "–†–∞—Å—Ç—è–∂–∫–∞ –≤—Å–µ—Ö –º—ã—à—Ü –≤–µ—Ä—Ö–Ω–µ–π —á–∞—Å—Ç–∏ —Ç–µ–ª–∞",
                duration: 300,
                tips: "–£–¥–µ–ª–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ –∫–∞–∂–¥–æ–π –º—ã—à–µ—á–Ω–æ–π –≥—Ä—É–ø–ø–µ"
            }
        ]
    },
    
    6: {
        title: "–î–µ–Ω—å 6: –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è",
        totalTime: 90,
        exercises: [
            {
                phase: "warmup",
                name: "–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è —Ä–∞–∑–º–∏–Ω–∫–∞",
                description: "–°—É—Å—Ç–∞–≤–Ω–∞—è –≥–∏–º–Ω–∞—Å—Ç–∏–∫–∞, –∞–∫—Ç–∏–≤–∏–∑–∞—Ü–∏—è –≤—Å–µ—Ö —Å–∏—Å—Ç–µ–º",
                duration: 300,
                tips: "–ü–æ–¥–≥–æ—Ç–æ–≤—å—Ç–µ —Ç–µ–ª–æ –∫ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º –¥–≤–∏–∂–µ–Ω–∏—è–º"
            },
            {
                phase: "main",
                name: "–ë–µ—Ä–ø–∏",
                description: "–£–ø–æ—Ä –ª–µ–∂–∞ ‚Üí –æ—Ç–∂–∏–º–∞–Ω–∏–µ ‚Üí –ø—Ä—ã–∂–æ–∫ –≤ –ø—Ä–∏—Å–µ–¥ ‚Üí –ø—Ä—ã–∂–æ–∫ –≤–≤–µ—Ä—Ö",
                sets: 4,
                reps: "8-12",
                duration: 120,
                tips: "–í—ã–ø–æ–ª–Ω—è–π—Ç–µ –≤ —Å–≤–æ–µ–º —Ç–µ–º–ø–µ, —Ç–µ—Ö–Ω–∏–∫–∞ –≤–∞–∂–Ω–µ–µ —Å–∫–æ—Ä–æ—Å—Ç–∏",
                muscles: ["–í—Å–µ —Ç–µ–ª–æ"]
            },
            {
                phase: "main",
                name: "–°–∫–∞–ª–æ–ª–∞–∑",
                description: "–í –ø–ª–∞–Ω–∫–µ –ø–æ–æ—á–µ—Ä–µ–¥–Ω–æ –ø–æ–¥—Ç—è–≥–∏–≤–∞–π—Ç–µ –∫–æ–ª–µ–Ω–∏ –∫ –≥—Ä—É–¥–∏",
                sets: 4,
                reps: "30 —Å–µ–∫",
                duration: 90,
                tips: "–î–µ—Ä–∂–∏—Ç–µ –±–µ–¥—Ä–∞ –Ω–∞ –º–µ—Å—Ç–µ, –≤—ã—Å–æ–∫–∏–π —Ç–µ–º–ø",
                muscles: ["–ö–æ—Ä", "–ö–∞—Ä–¥–∏–æ"]
            },
            {
                phase: "main",
                name: "–ü—Ä–∏—Å–µ–¥–∞–Ω–∏—è —Å –ø—Ä—ã–∂–∫–æ–º",
                description: "–û–±—ã—á–Ω–æ–µ –ø—Ä–∏—Å–µ–¥–∞–Ω–∏–µ + –≤–∑—Ä—ã–≤–Ω–æ–π –ø—Ä—ã–∂–æ–∫ –≤–≤–µ—Ä—Ö",
                sets: 4,
                reps: "10-15",
                duration: 120,
                tips: "–ú—è–≥–∫–æ–µ –ø—Ä–∏–∑–µ–º–ª–µ–Ω–∏–µ, –ø–æ–ª–Ω–æ–µ –ø—Ä–∏—Å–µ–¥–∞–Ω–∏–µ",
                muscles: ["–ù–æ–≥–∏", "–Ø–≥–æ–¥–∏—Ü—ã", "–ö–∞—Ä–¥–∏–æ"]
            },
            {
                phase: "main",
                name: "–û—Ç–∂–∏–º–∞–Ω–∏—è —Å —Ö–ª–æ–ø–∫–æ–º",
                description: "–í–∑—Ä—ã–≤–Ω—ã–µ –æ—Ç–∂–∏–º–∞–Ω–∏—è —Å —Ö–ª–æ–ø–∫–æ–º –≤ –ø–æ–ª–µ—Ç–µ",
                sets: 3,
                reps: "5-10",
                duration: 120,
                tips: "–ù–∞—á–Ω–∏—Ç–µ —Å –æ–±—ã—á–Ω—ã—Ö –≤–∑—Ä—ã–≤–Ω—ã—Ö –æ—Ç–∂–∏–º–∞–Ω–∏–π",
                muscles: ["–ì—Ä—É–¥—å", "–¢—Ä–∏—Ü–µ–ø—Å", "–ú–æ—â–Ω–æ—Å—Ç—å"]
            },
            {
                phase: "main",
                name: "–í—ã–ø–∞–¥—ã –≤ –ø—Ä—ã–∂–∫–µ",
                description: "–°–º–µ–Ω–∞ –Ω–æ–≥ –≤ –ø—Ä—ã–∂–∫–µ –∏–∑ –ø–æ–ª–æ–∂–µ–Ω–∏—è –≤—ã–ø–∞–¥–∞",
                sets: 3,
                reps: "20 –≤—Å–µ–≥–æ",
                duration: 120,
                tips: "–ö–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–π—Ç–µ –ø—Ä–∏–∑–µ–º–ª–µ–Ω–∏–µ, —Ä—É–∫–∏ –ø–æ–º–æ–≥–∞—é—Ç –±–∞–ª–∞–Ω—Å—É",
                muscles: ["–ù–æ–≥–∏", "–Ø–≥–æ–¥–∏—Ü—ã", "–ë–∞–ª–∞–Ω—Å"]
            },
            {
                phase: "main",
                name: "–†—É—Å—Å–∫–∏–µ —Å–∫—Ä—É—á–∏–≤–∞–Ω–∏—è —Å –≤–µ—Å–æ–º",
                description: "–°–∏–¥—è, –ø–æ–≤–æ—Ä–æ—Ç –∫–æ—Ä–ø—É—Å–∞ —Å –∫–∞—Å–∞–Ω–∏–µ–º –≤–µ—Å–∞ –ø–æ–ª–∞",
                sets: 3,
                reps: "20-30",
                duration: 90,
                weight: () => getPersonalWeight("–†—É—Å—Å–∫–∏–µ —Å–∫—Ä—É—á–∏–≤–∞–Ω–∏—è —Å –≤–µ—Å–æ–º"),
                tips: "–ù–æ–≥–∏ –æ—Ç–æ—Ä–≤–∞–Ω—ã –æ—Ç –ø–æ–ª–∞, –∫–æ—Ä–ø—É—Å –ø–æ–¥ —É–≥–ª–æ–º",
                muscles: ["–ö–æ—Å—ã–µ –º—ã—à—Ü—ã", "–ö–æ—Ä"]
            },
            {
                phase: "main",
                name: "Dead Bug",
                description: "–ù–∞ —Å–ø–∏–Ω–µ, –æ–ø—É—Å–∫–∞–Ω–∏–µ –ø—Ä–æ—Ç–∏–≤–æ–ø–æ–ª–æ–∂–Ω—ã—Ö —Ä—É–∫–∏ –∏ –Ω–æ–≥–∏",
                sets: 3,
                reps: "10 –Ω–∞ —Å—Ç–æ—Ä–æ–Ω—É",
                duration: 90,
                tips: "–ü–æ—è—Å–Ω–∏—Ü–∞ –ø—Ä–∏–∂–∞—Ç–∞ –∫ –ø–æ–ª—É, –º–µ–¥–ª–µ–Ω–Ω–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ",
                muscles: ["–ì–ª—É–±–æ–∫–∏–µ –º—ã—à—Ü—ã –∫–æ—Ä–∞"]
            },
            {
                phase: "main",
                name: "–ë–æ–∫–æ–≤–∞—è –ø–ª–∞–Ω–∫–∞",
                description: "–ü–ª–∞–Ω–∫–∞ –Ω–∞ –±–æ–∫—É, —É–¥–µ—Ä–∂–∞–Ω–∏–µ –ø–æ–ª–æ–∂–µ–Ω–∏—è",
                sets: 3,
                reps: "30-45 —Å–µ–∫",
                duration: 90,
                tips: "–ü—Ä—è–º–∞—è –ª–∏–Ω–∏—è —Ç–µ–ª–∞, –¥–ª—è —É—Å–ª–æ–∂–Ω–µ–Ω–∏—è –ø–æ–¥–Ω–∏–º–∏—Ç–µ –Ω–æ–≥—É",
                muscles: ["–ö–æ—Å—ã–µ –º—ã—à—Ü—ã", "–°—Ç–∞–±–∏–ª–∏–∑–∞—Ç–æ—Ä—ã"]
            },
            {
                phase: "main",
                name: "–ö—Ä—É–≥–æ–≤–∞—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞",
                description: "5 —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π –ø–æ 30 —Å–µ–∫ –±–µ–∑ –æ—Ç–¥—ã—Ö–∞: –ø—Ä—ã–∂–∫–∏, –æ—Ç–∂–∏–º–∞–Ω–∏—è, –ø—Ä–∏—Å–µ–¥–∞–Ω–∏—è, –ø–ª–∞–Ω–∫–∞, —Å–∫–∞–ª–æ–ª–∞–∑",
                sets: 2,
                reps: "5 —Ö 30 —Å–µ–∫",
                duration: 180,
                tips: "–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ—Å—Ç—å, 2 –º–∏–Ω—É—Ç—ã –æ—Ç–¥—ã—Ö –º–µ–∂–¥—É –∫—Ä—É–≥–∞–º–∏",
                muscles: ["–í—Å–µ —Ç–µ–ª–æ", "–í—ã–Ω–æ—Å–ª–∏–≤–æ—Å—Ç—å"]
            },
            {
                phase: "cooldown",
                name: "–ó–∞–º–∏–Ω–∫–∞ –∏ —Ä–∞—Å—Ç—è–∂–∫–∞",
                description: "–ú–µ–¥–ª–µ–Ω–Ω—ã–µ –¥–≤–∏–∂–µ–Ω–∏—è, –≥–ª—É–±–æ–∫–∞—è —Ä–∞—Å—Ç—è–∂–∫–∞, –¥—ã—Ö–∞—Ç–µ–ª—å–Ω—ã–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è",
                duration: 300,
                tips: "–ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ —Å–Ω–∏–∂–∞–π—Ç–µ –ø—É–ª—å—Å, —Ä–∞—Å—Å–ª–∞–±—å—Ç–µ –≤—Å–µ –º—ã—à—Ü—ã"
            }
        ]
    }
};

// –°–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
let currentWorkout = null;
let currentExerciseIndex = 0;
let timerInterval = null;
let currentTime = 0;
let isTimerRunning = false;

// DOM —ç–ª–µ–º–µ–Ω—Ç—ã
const dayCards = document.querySelectorAll('.day-card');
const workoutModal = document.getElementById('workoutModal');
const closeBtn = document.getElementById('closeBtn');
const workoutTitle = document.getElementById('workoutTitle');
const progressBar = document.getElementById('progressBar');
const progressText = document.getElementById('progressText');
const exerciseCard = document.getElementById('exerciseCard');
const exercisePhase = document.getElementById('exercisePhase');
const exerciseName = document.getElementById('exerciseName');
const setsReps = document.getElementById('setsReps');
const exerciseDescription = document.getElementById('exerciseDescription');
const timer = document.getElementById('timer');
const startPauseBtn = document.getElementById('startPauseBtn');
const skipBtn = document.getElementById('skipBtn');
const prevBtn = document.getElementById('prevBtn');
const nextBtn = document.getElementById('nextBtn');

// –ù–æ–≤—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã –¥–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫
const statsBtn = document.getElementById('statsBtn');
const settingsBtn = document.getElementById('settingsBtn');
const statsModal = document.getElementById('statsModal');
const settingsModal = document.getElementById('settingsModal');
const closeStatsBtn = document.getElementById('closeStatsBtn');
const closeSettingsBtn = document.getElementById('closeSettingsBtn');

// –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
const userProfile = {
    height: 180, // —Å–º
    weight: 71,  // –∫–≥
    experience: 'intermediate', // beginner, intermediate, advanced
    goal: 'muscle_gain' // muscle_gain, strength, endurance
};

// –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –≤–µ—Å–æ–≤
const personalWeights = {
    // –ë–∞–∑–æ–≤—ã–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è (–∫–≥)
    squat: Math.round(userProfile.weight * 1.2), // 85–∫–≥
    deadlift: Math.round(userProfile.weight * 1.4), // 99–∫–≥  
    benchPress: Math.round(userProfile.weight * 0.9), // 64–∫–≥
    overheadPress: Math.round(userProfile.weight * 0.6), // 43–∫–≥
    
    // –ì–∞–Ω—Ç–µ–ª–∏ (–∫–≥ –∑–∞ –≥–∞–Ω—Ç–µ–ª—å)
    dumbbellPress: Math.round(userProfile.weight * 0.35), // 25–∫–≥
    dumbbellRow: Math.round(userProfile.weight * 0.4), // 28–∫–≥
    dumbbellCurl: Math.round(userProfile.weight * 0.2), // 14–∫–≥
    dumbbellShoulder: Math.round(userProfile.weight * 0.18), // 13–∫–≥
    
    // –°–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π –≤–µ—Å –∏ –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ
    pullups: 0, // —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π –≤–µ—Å
    dips: 0,    // —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π –≤–µ—Å
    planks: 60  // —Å–µ–∫—É–Ω–¥—ã
};

// –°–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å–∏–∏
const progressionSystem = {
    // –£–≤–µ–ª–∏—á–µ–Ω–∏–µ –≤–µ—Å–æ–≤ –ø—Ä–∏ —É—Å–ø–µ—à–Ω–æ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –≤—Å–µ—Ö –ø–æ–¥—Ö–æ–¥–æ–≤
    increments: {
        barbell: 2.5,    // –∫–≥ –¥–ª—è —à—Ç–∞–Ω–≥–∏
        dumbbell: 1.25,  // –∫–≥ –¥–ª—è –≥–∞–Ω—Ç–µ–ª–µ–π
        bodyweight: 1,   // –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏—è
        time: 5          // —Å–µ–∫—É–Ω–¥—ã –¥–ª—è —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π –Ω–∞ –≤—Ä–µ–º—è
    },
    
    // –ö—Ä–∏—Ç–µ—Ä–∏–∏ –¥–ª—è —É–≤–µ–ª–∏—á–µ–Ω–∏—è –Ω–∞–≥—Ä—É–∑–∫–∏
    criteria: {
        minRepsCompleted: 0.8, // 80% –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–π –≤—ã–ø–æ–ª–Ω–µ–Ω–æ
        consecutiveSessions: 2  // 2 —É—Å–ø–µ—à–Ω—ã–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ –ø–æ–¥—Ä—è–¥
    },
    
    // Deload (—Å–Ω–∏–∂–µ–Ω–∏–µ –Ω–∞–≥—Ä—É–∑–∫–∏ –¥–ª—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è)
    deload: {
        frequency: 6, // –∫–∞–∂–¥—ã–µ 6 –Ω–µ–¥–µ–ª—å
        reduction: 0.9 // —Å–Ω–∏–∂–µ–Ω–∏–µ –Ω–∞ 10%
    }
};

// –•—Ä–∞–Ω–∏–ª–∏—â–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π
let exerciseProgress = JSON.parse(localStorage.getItem('exerciseProgress')) || {};

// –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
let appSettings = {
    soundEnabled: true,
    restTime: 90,
    autoStart: true,
    vibrationEnabled: true,
    keepScreenOn: false,
    autoProgression: true, // –Ω–æ–≤—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä
    progressionRate: 1.0   // –º–Ω–æ–∂–∏—Ç–µ–ª—å —Å–∫–æ—Ä–æ—Å—Ç–∏ –ø—Ä–æ–≥—Ä–µ—Å—Å–∏–∏
};

// –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
let workoutStats = {
    totalWorkouts: 0,
    totalTime: 0,
    currentStreak: 0,
    lastWorkoutDate: null,
    completedDays: {},
    favoriteDay: null
};

// –ó–∞–≥—Ä—É–∑–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∏–∑ localStorage
function loadData() {
    const savedSettings = localStorage.getItem('workoutSettings');
    const savedStats = localStorage.getItem('workoutStats');
    
    if (savedSettings) {
        appSettings = { ...appSettings, ...JSON.parse(savedSettings) };
        updateSettingsUI();
    }
    
    if (savedStats) {
        workoutStats = { ...workoutStats, ...JSON.parse(savedStats) };
        updateStatsUI();
    }
}

// –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
function saveSettings() {
    localStorage.setItem('workoutSettings', JSON.stringify(appSettings));
}

function saveStats() {
    localStorage.setItem('workoutStats', JSON.stringify(workoutStats));
}

function saveProgress() {
    localStorage.setItem('exerciseProgress', JSON.stringify(exerciseProgress));
}

// –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–æ–≥–æ –≤–µ—Å–∞ –¥–ª—è —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è
function getPersonalWeight(exerciseName) {
    // –ï—Å–ª–∏ –µ—Å—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–π –ø—Ä–æ–≥—Ä–µ—Å—Å, –∏—Å–ø–æ–ª—å–∑—É–µ–º –µ–≥–æ
    if (exerciseProgress[exerciseName]) {
        return exerciseProgress[exerciseName].currentWeight;
    }
    
    // –ò–Ω–∞—á–µ –∏—Å–ø–æ–ª—å–∑—É–µ–º —Å—Ç–∞—Ä—Ç–æ–≤—ã–µ –≤–µ—Å–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
    const name = exerciseName.toLowerCase();
    
    if (name.includes('–ø—Ä–∏—Å–µ–¥–∞–Ω–∏—è') || name.includes('squat')) {
        return personalWeights.squat;
    } else if (name.includes('—Å—Ç–∞–Ω–æ–≤–∞—è') || name.includes('deadlift')) {
        return personalWeights.deadlift;
    } else if (name.includes('–∂–∏–º —à—Ç–∞–Ω–≥–∏ –ª–µ–∂–∞') || name.includes('bench')) {
        return personalWeights.benchPress;
    } else if (name.includes('–∂–∏–º —Å—Ç–æ—è') || name.includes('–∞—Ä–º–µ–π—Å–∫–∏–π')) {
        return personalWeights.overheadPress;
    } else if (name.includes('–∂–∏–º –≥–∞–Ω—Ç–µ–ª–µ–π') || name.includes('–≥–∞–Ω—Ç–µ–ª')) {
        return personalWeights.dumbbellPress;
    } else if (name.includes('—Ç—è–≥–∞') && name.includes('–≥–∞–Ω—Ç–µ–ª')) {
        return personalWeights.dumbbellRow;
    } else if (name.includes('—Å–≥–∏–±–∞–Ω–∏—è') || name.includes('–±–∏—Ü–µ–ø—Å')) {
        return personalWeights.dumbbellCurl;
    } else if (name.includes('—Ä–∞–∑–≤–µ–¥–µ–Ω–∏–µ') || name.includes('–º–∞—Ö–∏')) {
        return personalWeights.dumbbellShoulder;
    } else if (name.includes('–ø–æ–¥—Ç—è–≥–∏–≤–∞–Ω–∏—è') || name.includes('–æ—Ç–∂–∏–º–∞–Ω–∏—è –Ω–∞ –±—Ä—É—Å—å—è—Ö')) {
        return 0; // —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π –≤–µ—Å
    } else {
        // –î–ª—è –æ—Å—Ç–∞–ª—å–Ω—ã—Ö —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π –∏—Å–ø–æ–ª—å–∑—É–µ–º —Å—Ä–µ–¥–Ω–∏–π –≤–µ—Å
        return Math.round(userProfile.weight * 0.25);
    }
}

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è
function initializeExerciseProgress(exerciseName) {
    if (!exerciseProgress[exerciseName]) {
        exerciseProgress[exerciseName] = {
            currentWeight: getPersonalWeight(exerciseName),
            lastUpdated: new Date().toISOString(),
            sessions: [],
            totalSessions: 0,
            successfulSessions: 0,
            needsDeload: false
        };
        saveProgress();
    }
}

// –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –ø–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è
function updateExerciseProgress(exerciseName, setsCompleted, totalSets, repsCompleted, targetReps) {
    initializeExerciseProgress(exerciseName);
    
    const progress = exerciseProgress[exerciseName];
    const completionRate = repsCompleted / targetReps;
    const setsCompletionRate = setsCompleted / totalSets;
    
    // –ó–∞–ø–∏—Å—ã–≤–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏
    const sessionResult = {
        date: new Date().toISOString(),
        weight: progress.currentWeight,
        setsCompleted,
        totalSets,
        repsCompleted,
        targetReps,
        successful: completionRate >= progressionSystem.criteria.minRepsCompleted && 
                   setsCompletionRate >= progressionSystem.criteria.minRepsCompleted
    };
    
    progress.sessions.push(sessionResult);
    progress.totalSessions++;
    
    if (sessionResult.successful) {
        progress.successfulSessions++;
    }
    
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å —É–≤–µ–ª–∏—á–µ–Ω–∏—è –≤–µ—Å–∞
    if (appSettings.autoProgression && shouldIncreaseWeight(exerciseName)) {
        increaseWeight(exerciseName);
    }
    
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å deload
    if (shouldDeload(exerciseName)) {
        performDeload(exerciseName);
    }
    
    saveProgress();
}

// –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —É–≤–µ–ª–∏—á–µ–Ω–∏—è –≤–µ—Å–∞
function shouldIncreaseWeight(exerciseName) {
    const progress = exerciseProgress[exerciseName];
    const recentSessions = progress.sessions.slice(-progressionSystem.criteria.consecutiveSessions);
    
    return recentSessions.length >= progressionSystem.criteria.consecutiveSessions &&
           recentSessions.every(session => session.successful);
}

// –£–≤–µ–ª–∏—á–µ–Ω–∏–µ –≤–µ—Å–∞
function increaseWeight(exerciseName) {
    const progress = exerciseProgress[exerciseName];
    const name = exerciseName.toLowerCase();
    let increment = progressionSystem.increments.dumbbell;
    
    // –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ä–∞–∑–º–µ—Ä —É–≤–µ–ª–∏—á–µ–Ω–∏—è –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–∏–ø–∞ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è
    if (name.includes('—à—Ç–∞–Ω–≥') || name.includes('—Å—Ç–∞–Ω–æ–≤–∞—è') || name.includes('–ø—Ä–∏—Å–µ–¥–∞–Ω–∏—è')) {
        increment = progressionSystem.increments.barbell;
    } else if (name.includes('–ø–æ–¥—Ç—è–≥–∏–≤–∞–Ω–∏—è') || name.includes('–æ—Ç–∂–∏–º–∞–Ω–∏—è') || name.includes('–ø–ª–∞–Ω–∫–∞')) {
        increment = progressionSystem.increments.bodyweight;
    }
    
    // –ü—Ä–∏–º–µ–Ω—è–µ–º –º–Ω–æ–∂–∏—Ç–µ–ª—å —Å–∫–æ—Ä–æ—Å—Ç–∏ –ø—Ä–æ–≥—Ä–µ—Å—Å–∏–∏
    increment *= appSettings.progressionRate;
    
    progress.currentWeight += increment;
    progress.lastUpdated = new Date().toISOString();
    
    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –ø—Ä–æ–≥—Ä–µ—Å—Å–∏–∏
    showProgressionNotification(exerciseName, increment);
}

// –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ deload
function shouldDeload(exerciseName) {
    const progress = exerciseProgress[exerciseName];
    const weeksSinceStart = Math.floor(progress.totalSessions / 2); // –ø—Ä–∏–º–µ—Ä–Ω–æ 2 —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ –≤ –Ω–µ–¥–µ–ª—é
    
    return weeksSinceStart > 0 && 
           weeksSinceStart % progressionSystem.deload.frequency === 0 &&
           !progress.needsDeload;
}

// –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ deload
function performDeload(exerciseName) {
    const progress = exerciseProgress[exerciseName];
    progress.currentWeight *= progressionSystem.deload.reduction;
    progress.currentWeight = Math.round(progress.currentWeight * 4) / 4; // –æ–∫—Ä—É–≥–ª—è–µ–º –¥–æ 0.25–∫–≥
    progress.needsDeload = true;
    
    showDeloadNotification(exerciseName);
}

// –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –ø—Ä–æ–≥—Ä–µ—Å—Å–∏–∏
function showProgressionNotification(exerciseName, increment) {
    if (appSettings.soundEnabled) {
        playProgressionSound();
    }
    
    if (appSettings.vibrationEnabled) {
        vibrate([100, 50, 100, 50, 100]);
    }
    
    // –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –≤–∏–∑—É–∞–ª—å–Ω–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
    console.log(`üéâ –ü—Ä–æ–≥—Ä–µ—Å—Å–∏—è! ${exerciseName}: +${increment}–∫–≥`);
}

function showDeloadNotification(exerciseName) {
    console.log(`üîÑ Deload –Ω–µ–¥–µ–ª—è –¥–ª—è ${exerciseName}`);
}

// –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –∑–≤—É–∫ –ø—Ä–æ–≥—Ä–µ—Å—Å–∏–∏
function playProgressionSound() {
    const audioContext = new (window.AudioContext || window.webkitAudioContext)();
    
    // –ú–µ–ª–æ–¥–∏—á–Ω—ã–π –∑–≤—É–∫ —É—Å–ø–µ—Ö–∞
    [440, 554, 659].forEach((freq, index) => {
        const oscillator = audioContext.createOscillator();
        const gainNode = audioContext.createGain();
        
        oscillator.connect(gainNode);
        gainNode.connect(audioContext.destination);
        
        oscillator.frequency.setValueAtTime(freq, audioContext.currentTime + index * 0.15);
        gainNode.gain.setValueAtTime(0.2, audioContext.currentTime + index * 0.15);
        gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + index * 0.15 + 0.3);
        
        oscillator.start(audioContext.currentTime + index * 0.15);
        oscillator.stop(audioContext.currentTime + index * 0.15 + 0.3);
    });
}

// –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π
dayCards.forEach(card => {
    card.addEventListener('click', () => {
        const day = card.dataset.day;
        startWorkout(day);
    });
});

closeBtn.addEventListener('click', closeWorkout);
startPauseBtn.addEventListener('click', toggleTimer);
skipBtn.addEventListener('click', skipExercise);
prevBtn.addEventListener('click', prevExercise);
nextBtn.addEventListener('click', nextExercise);

// –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫
statsBtn.addEventListener('click', openStats);
settingsBtn.addEventListener('click', openSettings);
closeStatsBtn.addEventListener('click', closeStats);
closeSettingsBtn.addEventListener('click', closeSettings);

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
document.addEventListener('DOMContentLoaded', () => {
    loadData();
    setupPWA();
    setupSettingsHandlers();
});

// –§—É–Ω–∫—Ü–∏–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–æ–π
function startWorkout(day) {
    currentWorkout = workoutPrograms[day];
    currentExerciseIndex = 0;
    
    if (!currentWorkout) return;
    
    workoutTitle.textContent = currentWorkout.title;
    workoutModal.style.display = 'block';
    document.body.style.overflow = 'hidden';
    
    displayCurrentExercise();
    updateProgress();
}

function closeWorkout() {
    workoutModal.style.display = 'none';
    document.body.style.overflow = 'auto';
    stopTimer();
    currentWorkout = null;
    currentExerciseIndex = 0;
}

function displayCurrentExercise() {
    if (!currentWorkout || currentExerciseIndex >= currentWorkout.exercises.length) {
        // –¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞
        completeWorkout();
        return;
    }
    
    const exercise = currentWorkout.exercises[currentExerciseIndex];
    
    // –û–±–Ω–æ–≤–ª—è–µ–º —Ñ–∞–∑—É —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏
    exercisePhase.textContent = getPhaseText(exercise.phase);
    exerciseCard.className = `exercise-card ${exercise.phase}`;
    
    // –û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
    exerciseName.textContent = exercise.name;
    exerciseDescription.textContent = exercise.description;
    
    // –ü–æ–¥—Ö–æ–¥—ã –∏ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏—è
    if (exercise.sets && exercise.reps) {
        let weightInfo = '';
        if (exercise.weight && typeof exercise.weight === 'function') {
            const currentWeight = exercise.weight();
            if (currentWeight > 0) {
                weightInfo = ` ‚Ä¢ ${currentWeight}–∫–≥`;
            }
        }
        setsReps.textContent = `${exercise.sets} –ø–æ–¥—Ö–æ–¥–æ–≤ √ó ${exercise.reps} –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–π${weightInfo}`;
    } else if (exercise.duration && exercise.phase !== 'main') {
        setsReps.textContent = `${Math.floor(exercise.duration / 60)} –º–∏–Ω—É—Ç`;
    } else if (exercise.reps) {
        setsReps.textContent = exercise.reps;
    } else {
        setsReps.textContent = '–í—ã–ø–æ–ª–Ω—è–π—Ç–µ –≤ —Å–≤–æ–µ–º —Ç–µ–º–ø–µ';
    }
    
    // –î–æ–±–∞–≤–ª—è–µ–º –º—ã—à–µ—á–Ω—ã–µ –≥—Ä—É–ø–ø—ã –µ—Å–ª–∏ –µ—Å—Ç—å
    updateMuscleGroups(exercise);
    
    // –î–æ–±–∞–≤–ª—è–µ–º —Å–æ–≤–µ—Ç—ã –µ—Å–ª–∏ –µ—Å—Ç—å
    updateExerciseTips(exercise);
    
    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø—Ä–æ–≥—Ä–µ—Å—Å –¥–ª—è —Å–∏–ª–æ–≤—ã—Ö —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π
    updateExerciseProgress(exercise);
    
    // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç–∞–π–º–µ—Ä–∞
    if (exercise.duration) {
        currentTime = exercise.duration;
        updateTimerDisplay();
        timer.style.display = 'block';
        document.querySelector('.timer-controls').style.display = 'flex';
    } else {
        timer.style.display = 'none';
        document.querySelector('.timer-controls').style.display = 'none';
    }
    
    // –û–±–Ω–æ–≤–ª—è–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∫–Ω–æ–ø–æ–∫ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
    updateNavigationButtons();
    
    // –°–±—Ä–∞—Å—ã–≤–∞–µ–º —Ç–∞–π–º–µ—Ä
    stopTimer();
    startPauseBtn.textContent = '–°—Ç–∞—Ä—Ç';
}

function getPhaseText(phase) {
    const phaseTexts = {
        'warmup': '–†–∞–∑–º–∏–Ω–∫–∞',
        'main': '–û—Å–Ω–æ–≤–Ω–∞—è —á–∞—Å—Ç—å',
        'cooldown': '–ó–∞–º–∏–Ω–∫–∞',
        'rest': '–û—Ç–¥—ã—Ö'
    };
    return phaseTexts[phase] || '–£–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ';
}

function updateMuscleGroups(exercise) {
    // –£–¥–∞–ª—è–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ç–µ–≥–∏ –º—ã—à—Ü
    const existingMuscles = document.querySelector('.muscle-groups');
    if (existingMuscles) {
        existingMuscles.remove();
    }
    
    if (exercise.muscles && exercise.muscles.length > 0) {
        const muscleContainer = document.createElement('div');
        muscleContainer.className = 'muscle-groups';
        
        exercise.muscles.forEach(muscle => {
            const muscleTag = document.createElement('span');
            muscleTag.className = 'muscle-tag';
            muscleTag.textContent = muscle;
            muscleContainer.appendChild(muscleTag);
        });
        
        document.querySelector('.exercise-details').appendChild(muscleContainer);
    }
}

function updateExerciseTips(exercise) {
    // –£–¥–∞–ª—è–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Å–æ–≤–µ—Ç—ã
    const existingTips = document.querySelector('.exercise-tips');
    if (existingTips) {
        existingTips.remove();
    }
    
    if (exercise.tips) {
        const tipsContainer = document.createElement('div');
        tipsContainer.className = 'exercise-tips';
        tipsContainer.textContent = exercise.tips;
        document.querySelector('.exercise-details').appendChild(tipsContainer);
    }
}

// –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è
function updateExerciseProgress(exercise) {
    const progressElement = document.getElementById('exerciseProgress');
    const currentWeightElement = document.getElementById('currentWeight');
    const historyDotsElement = document.getElementById('historyDots');
    
    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø—Ä–æ–≥—Ä–µ—Å—Å —Ç–æ–ª—å–∫–æ –¥–ª—è —Å–∏–ª–æ–≤—ã—Ö —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π
    if (exercise.weight && typeof exercise.weight === 'function') {
        const exerciseName = exercise.name;
        initializeExerciseProgress(exerciseName);
        
        const progress = exerciseProgress[exerciseName];
        const currentWeight = exercise.weight();
        
        // –û—Ç–æ–±—Ä–∞–∂–∞–µ–º —Ç–µ–∫—É—â–∏–π –≤–µ—Å
        if (currentWeight > 0) {
            currentWeightElement.textContent = `${currentWeight} –∫–≥`;
            progressElement.style.display = 'block';
            
            // –û—Ç–æ–±—Ä–∞–∂–∞–µ–º –∏—Å—Ç–æ—Ä–∏—é –ø–æ—Å–ª–µ–¥–Ω–∏—Ö 5 —Å–µ—Å—Å–∏–π
            const recentSessions = progress.sessions.slice(-5);
            historyDotsElement.innerHTML = '';
            
            recentSessions.forEach(session => {
                const dot = document.createElement('div');
                dot.className = 'history-dot';
                
                if (session.successful) {
                    dot.classList.add('success');
                    dot.title = `${session.date.split('T')[0]} - –£—Å–ø–µ—à–Ω–æ`;
                } else {
                    const completion = (session.repsCompleted / session.targetReps) * 100;
                    if (completion >= 70) {
                        dot.classList.add('partial');
                        dot.title = `${session.date.split('T')[0]} - ${Math.round(completion)}%`;
                    } else {
                        dot.classList.add('failure');
                        dot.title = `${session.date.split('T')[0]} - –ù–µ—É–¥–∞—á–Ω–æ`;
                    }
                }
                
                historyDotsElement.appendChild(dot);
            });
        } else {
            progressElement.style.display = 'none';
        }
    } else {
        progressElement.style.display = 'none';
    }
}

function updateProgress() {
    if (!currentWorkout) return;
    
    const totalExercises = currentWorkout.exercises.length;
    const completedExercises = currentExerciseIndex;
    const progressPercentage = (completedExercises / totalExercises) * 100;
    
    progressBar.style.width = `${progressPercentage}%`;
    progressText.textContent = `${completedExercises}/${totalExercises} —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π`;
}

function updateNavigationButtons() {
    prevBtn.disabled = currentExerciseIndex === 0;
    
    if (currentExerciseIndex >= currentWorkout.exercises.length - 1) {
        nextBtn.textContent = '–ó–∞–≤–µ—Ä—à–∏—Ç—å';
    } else {
        nextBtn.textContent = '–î–∞–ª–µ–µ ‚Üí';
    }
}

function nextExercise() {
    if (currentExerciseIndex >= currentWorkout.exercises.length - 1) {
        completeWorkout();
        return;
    }
    
    currentExerciseIndex++;
    displayCurrentExercise();
    updateProgress();
}

function prevExercise() {
    if (currentExerciseIndex > 0) {
        currentExerciseIndex--;
        displayCurrentExercise();
        updateProgress();
    }
}

function completeWorkout() {
    stopTimer();
    
    // –°–æ–∑–¥–∞–µ–º —ç–∫—Ä–∞–Ω –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è
    document.querySelector('.modal-body').innerHTML = `
        <div class="completion-screen">
            <div class="completion-icon">üéâ</div>
            <h2>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞!</h2>
            <p>–û—Ç–ª–∏—á–Ω–∞—è —Ä–∞–±–æ—Ç–∞! –í—ã —É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–∏–ª–∏ –ø—Ä–æ–≥—Ä–∞–º–º—É "${currentWorkout.title}"</p>
            <div class="completion-stats">
                <div class="stat">
                    <span class="stat-value">${currentWorkout.exercises.length}</span>
                    <span class="stat-label">—É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π</span>
                </div>
                <div class="stat">
                    <span class="stat-value">90</span>
                    <span class="stat-label">–º–∏–Ω—É—Ç</span>
                </div>
            </div>
            <button class="btn btn-primary" onclick="closeWorkout()">–ó–∞–∫—Ä—ã—Ç—å</button>
        </div>
    `;
    
    // –û–±–Ω–æ–≤–ª—è–µ–º –ø—Ä–æ–≥—Ä–µ—Å—Å –Ω–∞ 100%
    progressBar.style.width = '100%';
    progressText.textContent = `${currentWorkout.exercises.length}/${currentWorkout.exercises.length} —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π`;
}

// –§—É–Ω–∫—Ü–∏–∏ —Ç–∞–π–º–µ—Ä–∞
function toggleTimer() {
    if (isTimerRunning) {
        pauseTimer();
    } else {
        startTimer();
    }
}

function startTimer() {
    if (currentTime <= 0) return;
    
    isTimerRunning = true;
    startPauseBtn.textContent = '–ü–∞—É–∑–∞';
    timer.classList.add('active');
    
    timerInterval = setInterval(() => {
        currentTime--;
        updateTimerDisplay();
        
        if (currentTime <= 0) {
            timerComplete();
        }
    }, 1000);
}

function pauseTimer() {
    isTimerRunning = false;
    startPauseBtn.textContent = '–°—Ç–∞—Ä—Ç';
    timer.classList.remove('active');
    clearInterval(timerInterval);
}

function stopTimer() {
    isTimerRunning = false;
    timer.classList.remove('active');
    clearInterval(timerInterval);
    startPauseBtn.textContent = '–°—Ç–∞—Ä—Ç';
}

function skipExercise() {
    stopTimer();
    nextExercise();
}

function timerComplete() {
    stopTimer();
    
    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
    if ('Notification' in window && Notification.permission === 'granted') {
        new Notification('–í—Ä–µ–º—è –≤—ã—à–ª–æ!', {
            body: '–ü–µ—Ä–µ—Ö–æ–¥–∏—Ç–µ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—é',
            icon: '/favicon.ico'
        });
    }
    
    // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ—Ö–æ–¥–∏–º –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—é —á–µ—Ä–µ–∑ 2 —Å–µ–∫—É–Ω–¥—ã
    setTimeout(() => {
        nextExercise();
    }, 2000);
}

function updateTimerDisplay() {
    const minutes = Math.floor(currentTime / 60);
    const seconds = currentTime % 60;
    timer.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
}

// –ó–∞–ø—Ä–æ—Å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –Ω–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
if ('Notification' in window && Notification.permission === 'default') {
    Notification.requestPermission();
}

// –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–≤–∞–π–ø–æ–≤ –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
let touchStartX = 0;
let touchEndX = 0;

workoutModal.addEventListener('touchstart', (e) => {
    touchStartX = e.changedTouches[0].screenX;
});

workoutModal.addEventListener('touchend', (e) => {
    touchEndX = e.changedTouches[0].screenX;
    handleSwipe();
});

function handleSwipe() {
    const swipeThreshold = 50;
    const diff = touchStartX - touchEndX;
    
    if (Math.abs(diff) > swipeThreshold) {
        if (diff > 0) {
            // –°–≤–∞–π–ø –≤–ª–µ–≤–æ - —Å–ª–µ–¥—É—é—â–µ–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ
            nextExercise();
        } else {
            // –°–≤–∞–π–ø –≤–ø—Ä–∞–≤–æ - –ø—Ä–µ–¥—ã–¥—É—â–µ–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ
            prevExercise();
        }
    }
}

// –ì–æ—Ä—è—á–∏–µ –∫–ª–∞–≤–∏—à–∏
document.addEventListener('keydown', (e) => {
    if (!workoutModal.style.display || workoutModal.style.display === 'none') return;
    
    switch(e.key) {
        case 'Escape':
            closeWorkout();
            break;
        case ' ':
            e.preventDefault();
            toggleTimer();
            break;
        case 'ArrowLeft':
            prevExercise();
            break;
        case 'ArrowRight':
            nextExercise();
            break;
        case 'Enter':
            skipExercise();
            break;
    }
});

// CSS –¥–ª—è —ç–∫—Ä–∞–Ω–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è (–¥–æ–±–∞–≤–ª—è–µ–º –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏)
const completionStyles = `
    .completion-screen {
        text-align: center;
        padding: 40px 20px;
        height: 100%;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
    }
    
    .completion-icon {
        font-size: 72px;
        margin-bottom: 20px;
        animation: bounce 1s infinite;
    }
    
    .completion-screen h2 {
        font-size: 28px;
        color: #2d3748;
        margin-bottom: 16px;
    }
    
    .completion-screen p {
        color: #718096;
        margin-bottom: 32px;
        line-height: 1.6;
    }
    
    .completion-stats {
        display: flex;
        gap: 40px;
        margin-bottom: 40px;
    }
    
    .stat {
        text-align: center;
    }
    
    .stat-value {
        display: block;
        font-size: 32px;
        font-weight: 700;
        color: #667eea;
        margin-bottom: 4px;
    }
    
    .stat-label {
        font-size: 14px;
        color: #718096;
        text-transform: uppercase;
        letter-spacing: 0.5px;
    }
    
    @keyframes bounce {
        0%, 20%, 50%, 80%, 100% {
            transform: translateY(0);
        }
        40% {
            transform: translateY(-10px);
        }
        60% {
            transform: translateY(-5px);
        }
    }
`;

// –î–æ–±–∞–≤–ª—è–µ–º —Å—Ç–∏–ª–∏ –¥–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è
const styleSheet = document.createElement('style');
styleSheet.textContent = completionStyles;
document.head.appendChild(styleSheet);

// –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫
function openStats() {
    updateStatsUI();
    statsModal.style.display = 'block';
    document.body.style.overflow = 'hidden';
}

function closeStats() {
    statsModal.style.display = 'none';
    document.body.style.overflow = 'auto';
}

function openSettings() {
    updateSettingsUI();
    settingsModal.style.display = 'block';
    document.body.style.overflow = 'hidden';
}

function closeSettings() {
    settingsModal.style.display = 'none';
    document.body.style.overflow = 'auto';
}

// –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ UI —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
function updateStatsUI() {
    document.getElementById('totalWorkouts').textContent = workoutStats.totalWorkouts;
    document.getElementById('totalTime').textContent = workoutStats.totalTime;
    document.getElementById('currentStreak').textContent = workoutStats.currentStreak;
    document.getElementById('favoriteDay').textContent = workoutStats.favoriteDay || '-';
    
    // –û–±–Ω–æ–≤–ª—è–µ–º –Ω–µ–¥–µ–ª—å–Ω—ã–π –ø—Ä–æ–≥—Ä–µ—Å—Å
    updateWeeklyProgress();
}

// –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–µ–¥–µ–ª—å–Ω–æ–≥–æ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
function updateWeeklyProgress() {
    const weekDays = document.querySelectorAll('.week-day');
    const today = new Date().getDay();
    const currentWeekStart = getWeekStart(new Date());
    
    weekDays.forEach((dayElement, index) => {
        const dayNumber = index + 1;
        const dayDate = new Date(currentWeekStart);
        dayDate.setDate(dayDate.getDate() + index);
        
        const dayKey = dayDate.toDateString();
        const indicator = dayElement.querySelector('.day-indicator');
        
        indicator.classList.remove('completed', 'current');
        
        if (workoutStats.completedDays[dayKey]) {
            indicator.classList.add('completed');
        }
        
        if (dayNumber === today) {
            indicator.classList.add('current');
        }
    });
}

// –ü–æ–ª—É—á–µ–Ω–∏–µ –Ω–∞—á–∞–ª–∞ –Ω–µ–¥–µ–ª–∏
function getWeekStart(date) {
    const d = new Date(date);
    const day = d.getDay();
    const diff = d.getDate() - day + (day === 0 ? -6 : 1); // –ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫ –∫–∞–∫ –Ω–∞—á–∞–ª–æ –Ω–µ–¥–µ–ª–∏
    return new Date(d.setDate(diff));
}

// –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏
function updateWorkoutStats(dayNumber) {
    const today = new Date().toDateString();
    
    workoutStats.totalWorkouts++;
    workoutStats.totalTime += 90;
    workoutStats.completedDays[today] = dayNumber;
    
    // –û–±–Ω–æ–≤–ª—è–µ–º streak
    updateStreak();
    
    // –û–±–Ω–æ–≤–ª—è–µ–º –ª—é–±–∏–º—ã–π –¥–µ–Ω—å
    updateFavoriteDay(dayNumber);
    
    saveStats();
}

// –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ streak
function updateStreak() {
    const today = new Date();
    const yesterday = new Date(today);
    yesterday.setDate(yesterday.getDate() - 1);
    
    if (workoutStats.lastWorkoutDate) {
        const lastDate = new Date(workoutStats.lastWorkoutDate);
        const diffTime = Math.abs(today - lastDate);
        const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
        
        if (diffDays === 1) {
            workoutStats.currentStreak++;
        } else if (diffDays > 1) {
            workoutStats.currentStreak = 1;
        }
    } else {
        workoutStats.currentStreak = 1;
    }
    
    workoutStats.lastWorkoutDate = today.toDateString();
}

// –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ª—é–±–∏–º–æ–≥–æ –¥–Ω—è
function updateFavoriteDay(dayNumber) {
    const dayStats = {};
    Object.values(workoutStats.completedDays).forEach(day => {
        dayStats[day] = (dayStats[day] || 0) + 1;
    });
    
    let maxCount = 0;
    let favoriteDay = null;
    
    Object.entries(dayStats).forEach(([day, count]) => {
        if (count > maxCount) {
            maxCount = count;
            favoriteDay = `–î–µ–Ω—å ${day}`;
        }
    });
    
    workoutStats.favoriteDay = favoriteDay;
}

// –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ UI –Ω–∞—Å—Ç—Ä–æ–µ–∫
function updateSettingsUI() {
    document.getElementById('soundEnabled').checked = appSettings.soundEnabled;
    document.getElementById('restTime').value = appSettings.restTime;
    document.getElementById('restTimeValue').textContent = appSettings.restTime;
    document.getElementById('autoStart').checked = appSettings.autoStart;
    document.getElementById('vibrationEnabled').checked = appSettings.vibrationEnabled;
    document.getElementById('keepScreenOn').checked = appSettings.keepScreenOn;
    document.getElementById('autoProgression').checked = appSettings.autoProgression;
    document.getElementById('progressionRate').value = appSettings.progressionRate;
    document.getElementById('progressionRateValue').textContent = appSettings.progressionRate + 'x';
}

// –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –Ω–∞—Å—Ç—Ä–æ–µ–∫
function setupSettingsHandlers() {
    // –ó–≤—É–∫
    document.getElementById('soundEnabled').addEventListener('change', (e) => {
        appSettings.soundEnabled = e.target.checked;
        saveSettings();
    });
    
    // –í—Ä–µ–º—è –æ—Ç–¥—ã—Ö–∞
    const restTimeSlider = document.getElementById('restTime');
    const restTimeValue = document.getElementById('restTimeValue');
    
    restTimeSlider.addEventListener('input', (e) => {
        appSettings.restTime = parseInt(e.target.value);
        restTimeValue.textContent = appSettings.restTime;
        saveSettings();
    });
    
    // –ê–≤—Ç–æ–ø—Ä–æ–≥—Ä–µ—Å—Å–∏—è
    document.getElementById('autoProgression').addEventListener('change', (e) => {
        appSettings.autoProgression = e.target.checked;
        saveSettings();
    });
    
    // –°–∫–æ—Ä–æ—Å—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å–∏–∏
    const progressionRateSlider = document.getElementById('progressionRate');
    const progressionRateValue = document.getElementById('progressionRateValue');
    
    progressionRateSlider.addEventListener('input', (e) => {
        appSettings.progressionRate = parseFloat(e.target.value);
        progressionRateValue.textContent = appSettings.progressionRate + 'x';
        saveSettings();
    });
    
    // –ê–≤—Ç–æ—Å—Ç–∞—Ä—Ç
    document.getElementById('autoStart').addEventListener('change', (e) => {
        appSettings.autoStart = e.target.checked;
        saveSettings();
    });
    
    // –í–∏–±—Ä–∞—Ü–∏—è
    document.getElementById('vibrationEnabled').addEventListener('change', (e) => {
        appSettings.vibrationEnabled = e.target.checked;
        saveSettings();
    });
    
    // –ù–µ –≤—ã–∫–ª—é—á–∞—Ç—å —ç–∫—Ä–∞–Ω
    document.getElementById('keepScreenOn').addEventListener('change', (e) => {
        appSettings.keepScreenOn = e.target.checked;
        
        if (appSettings.keepScreenOn && 'wakeLock' in navigator) {
            requestWakeLock();
        } else if (wakeLock) {
            wakeLock.release();
        }
        
        saveSettings();
    });
    
    // –°–±—Ä–æ—Å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
    document.getElementById('clearStatsBtn').addEventListener('click', () => {
        if (confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —Å–±—Ä–æ—Å–∏—Ç—å –≤—Å—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É?')) {
            workoutStats = {
                totalWorkouts: 0,
                totalTime: 0,
                currentStreak: 0,
                lastWorkoutDate: null,
                completedDays: {},
                favoriteDay: null
            };
            saveStats();
            updateStatsUI();
        }
    });
    
    // –°–±—Ä–æ—Å –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –≤–µ—Å–æ–≤
    document.getElementById('resetProgressBtn').addEventListener('click', () => {
        if (confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —Å–±—Ä–æ—Å–∏—Ç—å –≤–µ—Å—å –ø—Ä–æ–≥—Ä–µ—Å—Å –≤–µ—Å–æ–≤? –í–µ—Å–∞ –≤–µ—Ä–Ω—É—Ç—Å—è –∫ –Ω–∞—á–∞–ª—å–Ω—ã–º –∑–Ω–∞—á–µ–Ω–∏—è–º.')) {
            exerciseProgress = {};
            localStorage.removeItem('exerciseProgress');
            alert('–ü—Ä–æ–≥—Ä–µ—Å—Å –≤–µ—Å–æ–≤ —Å–±—Ä–æ—à–µ–Ω!');
        }
    });
}

// PWA —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª
let deferredPrompt;
let wakeLock = null;

function setupPWA() {
    // –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–±—ã—Ç–∏—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ PWA
    window.addEventListener('beforeinstallprompt', (e) => {
        e.preventDefault();
        deferredPrompt = e;
        
        const installBtn = document.getElementById('installBtn');
        installBtn.style.display = 'block';
        
        installBtn.addEventListener('click', () => {
            deferredPrompt.prompt();
            deferredPrompt.userChoice.then((choiceResult) => {
                if (choiceResult.outcome === 'accepted') {
                    console.log('PWA —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ');
                }
                deferredPrompt = null;
                installBtn.style.display = 'none';
            });
        });
    });
    
    // Wake Lock API
    async function requestWakeLock() {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
            console.log('Wake Lock –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω');
        } catch (err) {
            console.error('Wake Lock –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è:', err);
        }
    }
}

// –ó–≤—É–∫–æ–≤—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
function playNotificationSound() {
    if (!appSettings.soundEnabled) return;
    
    // –°–æ–∑–¥–∞–µ–º –ø—Ä–æ—Å—Ç–æ–π –∑–≤—É–∫–æ–≤–æ–π —Å–∏–≥–Ω–∞–ª
    const audioContext = new (window.AudioContext || window.webkitAudioContext)();
    const oscillator = audioContext.createOscillator();
    const gainNode = audioContext.createGain();
    
    oscillator.connect(gainNode);
    gainNode.connect(audioContext.destination);
    
    oscillator.frequency.setValueAtTime(800, audioContext.currentTime);
    oscillator.frequency.setValueAtTime(600, audioContext.currentTime + 0.1);
    
    gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
    gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.3);
    
    oscillator.start(audioContext.currentTime);
    oscillator.stop(audioContext.currentTime + 0.3);
}

// –í–∏–±—Ä–∞—Ü–∏—è –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
function vibrate(pattern = [200]) {
    if (appSettings.vibrationEnabled && 'vibrate' in navigator) {
        navigator.vibrate(pattern);
    }
}

// –ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ–º —Ñ—É–Ω–∫—Ü–∏—é –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏
const originalCompleteWorkout = completeWorkout;
function completeWorkout() {
    // –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
    updateWorkoutStats(parseInt(currentWorkout.title.charAt(5))); // –ò–∑–≤–ª–µ–∫–∞–µ–º –Ω–æ–º–µ—Ä –¥–Ω—è
    
    // –ó–≤—É–∫ –∏ –≤–∏–±—Ä–∞—Ü–∏—è
    playNotificationSound();
    vibrate([200, 100, 200]);
    
    // –û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è
    originalCompleteWorkout();
}

// –ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ–º —Ñ—É–Ω–∫—Ü–∏—é –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ç–∞–π–º–µ—Ä–∞
const originalTimerComplete = timerComplete;
function timerComplete() {
    playNotificationSound();
    vibrate([100]);
    
    originalTimerComplete();
}

// –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω –ø—Ä–∏ –∫–ª–∏–∫–µ –≤–Ω–µ –Ω–∏—Ö
window.addEventListener('click', (e) => {
    if (e.target === statsModal) {
        closeStats();
    }
    if (e.target === settingsModal) {
        closeSettings();
    }
});
